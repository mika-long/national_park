import { resolveProp } from '../helpers/resolve.js';
import { geoCentroid as d3GeoCentroid } from 'd3-geo';
const CENTROID = Symbol('centroid');
export function geoCentroid({ data, ...options }) {
    const transformedData = data.map((d) => ({
        ...d,
        [CENTROID]: d3GeoCentroid(resolveProp(options.geometry, d, d))
    }));
    const newOptions = { ...options };
    return {
        data: transformedData,
        ...newOptions,
        x: (d) => d[CENTROID][0],
        y: (d) => d[CENTROID][1]
    };
}
