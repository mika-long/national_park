{
  "version": 3,
  "sources": ["../../binary-search-bounds/search-bounds.js", "../../interval-tree-1d/interval-tree.js", "../../d3-array/src/ascending.js", "../../d3-array/src/descending.js", "../../d3-array/src/bisector.js", "../../d3-array/src/number.js", "../../d3-array/src/bisect.js", "../../d3-array/src/blur.js", "../../d3-array/src/count.js", "../../d3-array/src/variance.js", "../../d3-array/src/deviation.js", "../../d3-array/src/extent.js", "../../d3-array/src/fsum.js", "../../internmap/src/index.js", "../../d3-array/src/identity.js", "../../d3-array/src/group.js", "../../d3-array/src/sort.js", "../../d3-array/src/array.js", "../../d3-array/src/constant.js", "../../d3-array/src/ticks.js", "../../d3-array/src/nice.js", "../../d3-array/src/threshold/sturges.js", "../../d3-array/src/bin.js", "../../d3-array/src/max.js", "../../d3-array/src/min.js", "../../d3-array/src/quickselect.js", "../../d3-array/src/quantile.js", "../../d3-array/src/threshold/freedmanDiaconis.js", "../../d3-array/src/threshold/scott.js", "../../d3-array/src/mean.js", "../../d3-array/src/median.js", "../../d3-array/src/merge.js", "../../d3-array/src/mode.js", "../../d3-array/src/range.js", "../../d3-array/src/rank.js", "../../d3-array/src/shuffle.js", "../../d3-array/src/sum.js", "../../d3-scale/src/init.js", "../../d3-scale/src/ordinal.js", "../../d3-scale/src/band.js", "../../d3-color/src/define.js", "../../d3-color/src/color.js", "../../d3-color/src/math.js", "../../d3-color/src/lab.js", "../../d3-color/src/cubehelix.js", "../../d3-interpolate/src/basis.js", "../../d3-interpolate/src/basisClosed.js", "../../d3-interpolate/src/constant.js", "../../d3-interpolate/src/color.js", "../../d3-interpolate/src/rgb.js", "../../d3-interpolate/src/numberArray.js", "../../d3-interpolate/src/array.js", "../../d3-interpolate/src/date.js", "../../d3-interpolate/src/number.js", "../../d3-interpolate/src/object.js", "../../d3-interpolate/src/string.js", "../../d3-interpolate/src/value.js", "../../d3-interpolate/src/round.js", "../../d3-interpolate/src/transform/decompose.js", "../../d3-interpolate/src/transform/parse.js", "../../d3-interpolate/src/transform/index.js", "../../d3-interpolate/src/zoom.js", "../../d3-interpolate/src/hsl.js", "../../d3-interpolate/src/lab.js", "../../d3-interpolate/src/hcl.js", "../../d3-interpolate/src/cubehelix.js", "../../d3-interpolate/src/piecewise.js", "../../d3-interpolate/src/quantize.js", "../../d3-scale/src/constant.js", "../../d3-scale/src/number.js", "../../d3-scale/src/continuous.js", "../../d3-format/src/formatDecimal.js", "../../d3-format/src/exponent.js", "../../d3-format/src/formatGroup.js", "../../d3-format/src/formatNumerals.js", "../../d3-format/src/formatSpecifier.js", "../../d3-format/src/formatTrim.js", "../../d3-format/src/formatPrefixAuto.js", "../../d3-format/src/formatRounded.js", "../../d3-format/src/formatTypes.js", "../../d3-format/src/identity.js", "../../d3-format/src/locale.js", "../../d3-format/src/defaultLocale.js", "../../d3-format/src/precisionFixed.js", "../../d3-format/src/precisionPrefix.js", "../../d3-format/src/precisionRound.js", "../../d3-scale/src/tickFormat.js", "../../d3-scale/src/linear.js", "../../d3-scale/src/nice.js", "../../d3-scale/src/log.js", "../../d3-scale/src/symlog.js", "../../d3-scale/src/pow.js", "../../d3-scale/src/quantile.js", "../../d3-scale/src/quantize.js", "../../d3-scale/src/threshold.js", "../../d3-time/src/interval.js", "../../d3-time/src/millisecond.js", "../../d3-time/src/duration.js", "../../d3-time/src/second.js", "../../d3-time/src/minute.js", "../../d3-time/src/hour.js", "../../d3-time/src/day.js", "../../d3-time/src/week.js", "../../d3-time/src/month.js", "../../d3-time/src/year.js", "../../d3-time/src/ticks.js", "../../d3-time-format/src/locale.js", "../../d3-time-format/src/defaultLocale.js", "../../d3-time-format/src/isoFormat.js", "../../d3-time-format/src/isoParse.js", "../../d3-scale/src/time.js", "../../d3-scale/src/sequential.js", "../../d3-scale/src/sequentialQuantile.js", "../../d3-scale/src/diverging.js", "../../svelteplot/dist/constants.js", "../../svelteplot/dist/helpers/isDataRecord.js", "../../d3-shape/src/constant.js", "../../d3-shape/src/math.js", "../../d3-path/src/path.js", "../../d3-shape/src/path.js", "../../d3-shape/src/array.js", "../../d3-shape/src/curve/linear.js", "../../d3-shape/src/point.js", "../../d3-shape/src/line.js", "../../d3-shape/src/area.js", "../../d3-shape/src/curve/radial.js", "../../d3-shape/src/curve/bump.js", "../../d3-shape/src/symbol/asterisk.js", "../../d3-shape/src/symbol/circle.js", "../../d3-shape/src/symbol/cross.js", "../../d3-shape/src/symbol/diamond.js", "../../d3-shape/src/symbol/diamond2.js", "../../d3-shape/src/symbol/plus.js", "../../d3-shape/src/symbol/square.js", "../../d3-shape/src/symbol/square2.js", "../../d3-shape/src/symbol/star.js", "../../d3-shape/src/symbol/triangle.js", "../../d3-shape/src/symbol/triangle2.js", "../../d3-shape/src/symbol/wye.js", "../../d3-shape/src/symbol/times.js", "../../d3-shape/src/symbol.js", "../../d3-shape/src/noop.js", "../../d3-shape/src/curve/basis.js", "../../d3-shape/src/curve/basisClosed.js", "../../d3-shape/src/curve/basisOpen.js", "../../d3-shape/src/curve/bundle.js", "../../d3-shape/src/curve/cardinal.js", "../../d3-shape/src/curve/cardinalClosed.js", "../../d3-shape/src/curve/cardinalOpen.js", "../../d3-shape/src/curve/catmullRom.js", "../../d3-shape/src/curve/catmullRomClosed.js", "../../d3-shape/src/curve/catmullRomOpen.js", "../../d3-shape/src/curve/linearClosed.js", "../../d3-shape/src/curve/monotone.js", "../../d3-shape/src/curve/natural.js", "../../d3-shape/src/curve/step.js", "../../d3-shape/src/offset/none.js", "../../d3-shape/src/order/none.js", "../../d3-shape/src/stack.js", "../../d3-shape/src/offset/expand.js", "../../d3-shape/src/offset/diverging.js", "../../d3-shape/src/offset/silhouette.js", "../../d3-shape/src/offset/wiggle.js", "../../d3-shape/src/order/appearance.js", "../../d3-shape/src/order/ascending.js", "../../d3-shape/src/order/insideOut.js", "../../svelteplot/dist/helpers/symbols.js", "../../svelteplot/dist/helpers/typeChecks.js", "../../svelteplot/dist/helpers/isRawValue.js", "../../svelteplot/dist/helpers/index.js", "../../svelteplot/dist/helpers/getBaseStyles.js", "../../svelteplot/dist/transforms/recordize.js", "../../svelteplot/dist/helpers/resolve.js", "../../svelteplot/dist/core/Facet.svelte", "../../svelteplot/dist/helpers/facets.js", "../../svelteplot/dist/hooks/usePlot.svelte.js", "../../svelteplot/dist/core/FacetGrid.svelte", "../../svelteplot/dist/helpers/mergeDeep.js", "../../d3-geo/src/math.js", "../../d3-geo/src/noop.js", "../../d3-geo/src/stream.js", "../../d3-geo/src/area.js", "../../d3-geo/src/cartesian.js", "../../d3-geo/src/centroid.js", "../../d3-geo/src/compose.js", "../../d3-geo/src/rotation.js", "../../d3-geo/src/circle.js", "../../d3-geo/src/clip/buffer.js", "../../d3-geo/src/pointEqual.js", "../../d3-geo/src/clip/rejoin.js", "../../d3-geo/src/polygonContains.js", "../../d3-geo/src/clip/index.js", "../../d3-geo/src/clip/antimeridian.js", "../../d3-geo/src/clip/circle.js", "../../d3-geo/src/clip/line.js", "../../d3-geo/src/clip/rectangle.js", "../../d3-geo/src/graticule.js", "../../d3-geo/src/identity.js", "../../d3-geo/src/path/area.js", "../../d3-geo/src/path/bounds.js", "../../d3-geo/src/path/centroid.js", "../../d3-geo/src/path/context.js", "../../d3-geo/src/path/measure.js", "../../d3-geo/src/path/string.js", "../../d3-geo/src/path/index.js", "../../d3-geo/src/transform.js", "../../d3-geo/src/projection/fit.js", "../../d3-geo/src/projection/resample.js", "../../d3-geo/src/projection/index.js", "../../d3-geo/src/projection/conic.js", "../../d3-geo/src/projection/cylindricalEqualArea.js", "../../d3-geo/src/projection/conicEqualArea.js", "../../d3-geo/src/projection/albers.js", "../../d3-geo/src/projection/albersUsa.js", "../../d3-geo/src/projection/azimuthal.js", "../../d3-geo/src/projection/azimuthalEqualArea.js", "../../d3-geo/src/projection/azimuthalEquidistant.js", "../../d3-geo/src/projection/mercator.js", "../../d3-geo/src/projection/conicConformal.js", "../../d3-geo/src/projection/equirectangular.js", "../../d3-geo/src/projection/conicEquidistant.js", "../../d3-geo/src/projection/equalEarth.js", "../../d3-geo/src/projection/gnomonic.js", "../../d3-geo/src/projection/naturalEarth1.js", "../../d3-geo/src/projection/orthographic.js", "../../d3-geo/src/projection/stereographic.js", "../../d3-geo/src/projection/transverseMercator.js", "../../svelteplot/dist/helpers/projection.js", "../../svelteplot/dist/helpers/time.js", "../../svelteplot/dist/helpers/autoTicks.js", "../../d3-random/src/defaultSource.js", "../../d3-random/src/uniform.js", "../../d3-random/src/int.js", "../../d3-random/src/normal.js", "../../d3-random/src/logNormal.js", "../../d3-random/src/irwinHall.js", "../../d3-random/src/bates.js", "../../d3-random/src/exponential.js", "../../d3-random/src/pareto.js", "../../d3-random/src/bernoulli.js", "../../d3-random/src/geometric.js", "../../d3-random/src/gamma.js", "../../d3-random/src/beta.js", "../../d3-random/src/binomial.js", "../../d3-random/src/weibull.js", "../../d3-random/src/cauchy.js", "../../d3-random/src/logistic.js", "../../d3-random/src/poisson.js", "../../d3-random/src/lcg.js", "../../svelteplot/dist/transforms/sort.js", "../../svelteplot/dist/helpers/scales.js", "../../svelteplot/dist/hooks/plotDefaults.js", "../../svelteplot/dist/core/Plot.svelte", "../../es-toolkit/dist/function/noop.mjs", "../../es-toolkit/dist/function/partial.mjs", "../../es-toolkit/dist/function/partialRight.mjs", "../../es-toolkit/dist/function/retry.mjs", "../../es-toolkit/dist/compat/_internal/getSymbols.mjs", "../../es-toolkit/dist/compat/_internal/getTag.mjs", "../../es-toolkit/dist/compat/_internal/tags.mjs", "../../es-toolkit/dist/predicate/isPlainObject.mjs", "../../es-toolkit/dist/object/pick.mjs", "../../es-toolkit/dist/string/words.mjs", "../../es-toolkit/dist/_internal/isEqualsSameValueZero.mjs", "../../es-toolkit/dist/predicate/isEqualWith.mjs", "../../es-toolkit/dist/predicate/isEqual.mjs", "../../svelteplot/dist/transforms/rename.js", "../../svelteplot/dist/transforms/dodge.js", "../../svelteplot/dist/helpers/group.js", "../../svelteplot/dist/Mark.svelte", "../../svelteplot/dist/helpers/removeIdenticalLines.js", "../../svelteplot/dist/helpers/wordwrap.js", "../../svelteplot/dist/marks/helpers/BaseAxisX.svelte", "../../svelteplot/dist/helpers/autoTimeFormat.js", "../../svelteplot/dist/marks/AxisX.svelte", "../../svelteplot/dist/marks/helpers/BaseAxisY.svelte", "../../svelteplot/dist/marks/AxisY.svelte", "../../svelteplot/dist/helpers/roundedRect.js", "../../svelteplot/dist/marks/helpers/events.js", "../../svelteplot/dist/marks/helpers/Anchor.svelte", "../../svelteplot/dist/marks/helpers/RectPath.svelte", "../../svelteplot/dist/marks/Frame.svelte", "../../svelteplot/dist/marks/ColorLegend.svelte", "../../svelteplot/dist/marks/GridX.svelte", "../../svelteplot/dist/marks/GridY.svelte", "../../svelteplot/dist/marks/SymbolLegend.svelte", "../../svelteplot/dist/core/FacetAxes.svelte", "../../d3-scale-chromatic/src/colors.js", "../../d3-scale-chromatic/src/categorical/category10.js", "../../d3-scale-chromatic/src/categorical/Accent.js", "../../d3-scale-chromatic/src/categorical/Dark2.js", "../../d3-scale-chromatic/src/categorical/observable10.js", "../../d3-scale-chromatic/src/categorical/Paired.js", "../../d3-scale-chromatic/src/categorical/Pastel1.js", "../../d3-scale-chromatic/src/categorical/Pastel2.js", "../../d3-scale-chromatic/src/categorical/Set1.js", "../../d3-scale-chromatic/src/categorical/Set2.js", "../../d3-scale-chromatic/src/categorical/Set3.js", "../../d3-scale-chromatic/src/categorical/Tableau10.js", "../../d3-scale-chromatic/src/ramp.js", "../../d3-scale-chromatic/src/diverging/BrBG.js", "../../d3-scale-chromatic/src/diverging/PRGn.js", "../../d3-scale-chromatic/src/diverging/PiYG.js", "../../d3-scale-chromatic/src/diverging/PuOr.js", "../../d3-scale-chromatic/src/diverging/RdBu.js", "../../d3-scale-chromatic/src/diverging/RdGy.js", "../../d3-scale-chromatic/src/diverging/RdYlBu.js", "../../d3-scale-chromatic/src/diverging/RdYlGn.js", "../../d3-scale-chromatic/src/diverging/Spectral.js", "../../d3-scale-chromatic/src/sequential-multi/BuGn.js", "../../d3-scale-chromatic/src/sequential-multi/BuPu.js", "../../d3-scale-chromatic/src/sequential-multi/GnBu.js", "../../d3-scale-chromatic/src/sequential-multi/OrRd.js", "../../d3-scale-chromatic/src/sequential-multi/PuBuGn.js", "../../d3-scale-chromatic/src/sequential-multi/PuBu.js", "../../d3-scale-chromatic/src/sequential-multi/PuRd.js", "../../d3-scale-chromatic/src/sequential-multi/RdPu.js", "../../d3-scale-chromatic/src/sequential-multi/YlGnBu.js", "../../d3-scale-chromatic/src/sequential-multi/YlGn.js", "../../d3-scale-chromatic/src/sequential-multi/YlOrBr.js", "../../d3-scale-chromatic/src/sequential-multi/YlOrRd.js", "../../d3-scale-chromatic/src/sequential-single/Blues.js", "../../d3-scale-chromatic/src/sequential-single/Greens.js", "../../d3-scale-chromatic/src/sequential-single/Greys.js", "../../d3-scale-chromatic/src/sequential-single/Purples.js", "../../d3-scale-chromatic/src/sequential-single/Reds.js", "../../d3-scale-chromatic/src/sequential-single/Oranges.js", "../../d3-scale-chromatic/src/sequential-multi/cividis.js", "../../d3-scale-chromatic/src/sequential-multi/cubehelix.js", "../../d3-scale-chromatic/src/sequential-multi/rainbow.js", "../../d3-scale-chromatic/src/sequential-multi/sinebow.js", "../../d3-scale-chromatic/src/sequential-multi/turbo.js", "../../d3-scale-chromatic/src/sequential-multi/viridis.js", "../../svelteplot/dist/helpers/colors.js", "../../svelteplot/dist/helpers/callWithProps.js", "../../svelteplot/dist/helpers/getLogTicks.js", "../../svelteplot/dist/helpers/autoScales.js", "../../svelteplot/dist/helpers/autoProjection.js", "../../svelteplot/dist/Plot.svelte", "../../svelteplot/dist/marks/helpers/GroupMultiple.svelte", "../../svelteplot/dist/helpers/curves.js", "../../svelteplot/dist/marks/helpers/CanvasLayer.svelte", "../../svelteplot/dist/marks/helpers/canvas.js", "../../svelteplot/dist/marks/helpers/AreaCanvas.svelte", "../../svelteplot/dist/marks/Area.svelte", "../../svelteplot/dist/transforms/filter.js", "../../svelteplot/dist/transforms/stack.js", "../../svelteplot/dist/marks/AreaX.svelte", "../../svelteplot/dist/marks/AreaY.svelte", "../../svelteplot/dist/helpers/arrowPath.js", "../../svelteplot/dist/marks/Arrow.svelte", "../../svelteplot/dist/marks/BarX.svelte", "../../svelteplot/dist/marks/BarY.svelte", "../../svelteplot/dist/marks/BollingerX.svelte", "../../svelteplot/dist/marks/BollingerY.svelte", "../../svelteplot/dist/marks/helpers/Box.svelte", "../../svelteplot/dist/marks/BoxX.svelte", "../../svelteplot/dist/marks/BoxY.svelte", "../../svelteplot/dist/marks/Rect.svelte", "../../svelteplot/dist/marks/Brush.svelte", "../../svelteplot/dist/marks/BrushX.svelte", "../../svelteplot/dist/marks/BrushY.svelte", "../../svelteplot/dist/marks/Cell.svelte", "../../svelteplot/dist/marks/CellX.svelte", "../../svelteplot/dist/marks/CellY.svelte", "../../svelteplot/dist/marks/CustomMark.svelte", "../../svelteplot/dist/marks/CustomMarkHTML.svelte", "../../svelteplot/dist/marks/DifferenceY.svelte", "../../svelteplot/dist/marks/helpers/DotCanvas.svelte", "../../svelteplot/dist/marks/Dot.svelte", "../../svelteplot/dist/marks/DotX.svelte", "../../svelteplot/dist/marks/DotY.svelte", "../../svelteplot/dist/helpers/reduce.js", "../../svelteplot/dist/transforms/bin.js", "../../svelteplot/dist/transforms/bollinger.js", "../../svelteplot/dist/transforms/centroid.js", "../../svelteplot/dist/transforms/density.js", "../../svelteplot/dist/transforms/map.js", "../../svelteplot/dist/transforms/normalize.js", "../../svelteplot/dist/transforms/group.js", "../../svelteplot/dist/transforms/interval.js", "../../svelteplot/dist/transforms/jitter.js", "../../svelteplot/dist/transforms/select.js", "../../svelteplot/dist/transforms/shift.js", "../../svelteplot/dist/transforms/window.js", "../../svelteplot/dist/marks/helpers/GeoCanvas.svelte", "../../svelteplot/dist/marks/Geo.svelte", "../../svelteplot/dist/marks/Graticule.svelte", "../../svelteplot/dist/marks/Image.svelte", "../../svelteplot/dist/marks/helpers/Marker.svelte", "../../svelteplot/dist/marks/helpers/MarkerPath.svelte", "../../svelteplot/dist/marks/helpers/LineCanvas.svelte", "../../svelteplot/dist/marks/Line.svelte", "../../svelteplot/dist/marks/LineX.svelte", "../../svelteplot/dist/marks/LineY.svelte", "../../svelteplot/dist/marks/Link.svelte", "../../d3-quadtree/src/add.js", "../../d3-quadtree/src/cover.js", "../../d3-quadtree/src/data.js", "../../d3-quadtree/src/extent.js", "../../d3-quadtree/src/quad.js", "../../d3-quadtree/src/find.js", "../../d3-quadtree/src/remove.js", "../../d3-quadtree/src/root.js", "../../d3-quadtree/src/size.js", "../../d3-quadtree/src/visit.js", "../../d3-quadtree/src/visitAfter.js", "../../d3-quadtree/src/x.js", "../../d3-quadtree/src/y.js", "../../d3-quadtree/src/quadtree.js", "../../svelteplot/dist/marks/Pointer.svelte", "../../svelteplot/dist/marks/RectX.svelte", "../../svelteplot/dist/marks/RectY.svelte", "../../svelteplot/dist/regression/utils/points.js", "../../svelteplot/dist/regression/utils/determination.js", "../../svelteplot/dist/regression/utils/ols.js", "../../svelteplot/dist/regression/linear.js", "../../svelteplot/dist/regression/utils/geometry.js", "../../svelteplot/dist/regression/utils/interpose.js", "../../svelteplot/dist/regression/quadratic.js", "../../svelteplot/dist/regression/polynomial.js", "../../svelteplot/dist/regression/exponential.js", "../../svelteplot/dist/regression/logarithmic.js", "../../svelteplot/dist/regression/power.js", "../../svelteplot/dist/regression/utils/median.js", "../../svelteplot/dist/regression/loess.js", "../../svelteplot/dist/helpers/math.js", "../../svelteplot/dist/marks/helpers/Regression.svelte", "../../svelteplot/dist/marks/RegressionX.svelte", "../../svelteplot/dist/marks/RegressionY.svelte", "../../svelteplot/dist/marks/RuleX.svelte", "../../svelteplot/dist/marks/RuleY.svelte", "../../svelteplot/dist/marks/Sphere.svelte", "../../svelteplot/dist/marks/Vector.svelte", "../../svelteplot/dist/marks/Spike.svelte", "../../svelteplot/dist/marks/helpers/MultilineText.svelte", "../../svelteplot/dist/marks/Text.svelte", "../../svelteplot/dist/marks/TickX.svelte", "../../svelteplot/dist/marks/TickY.svelte", "../../svelteplot/dist/marks/helpers/trail.js", "../../svelteplot/dist/marks/helpers/TrailCanvas.svelte", "../../svelteplot/dist/marks/Trail.svelte", "../../svelteplot/dist/marks/helpers/waffle.js", "../../svelteplot/dist/marks/WaffleX.svelte", "../../svelteplot/dist/marks/WaffleY.svelte", "../../svelteplot/dist/marks/HTMLTooltip.svelte", "../../svelteplot/dist/marks/helpers/LinearGradientX.svelte", "../../svelteplot/dist/marks/helpers/LinearGradientY.svelte", "../../svelteplot/dist/helpers/formats.js"],
  "sourcesContent": ["\"use strict\"\n\n// (a, y, c, l, h) = (array, y[, cmp, lo, hi])\n\nfunction ge(a, y, c, l, h) {\n  var i = h + 1;\n  while (l <= h) {\n    var m = (l + h) >>> 1, x = a[m];\n    var p = (c !== undefined) ? c(x, y) : (x - y);\n    if (p >= 0) { i = m; h = m - 1 } else { l = m + 1 }\n  }\n  return i;\n};\n\nfunction gt(a, y, c, l, h) {\n  var i = h + 1;\n  while (l <= h) {\n    var m = (l + h) >>> 1, x = a[m];\n    var p = (c !== undefined) ? c(x, y) : (x - y);\n    if (p > 0) { i = m; h = m - 1 } else { l = m + 1 }\n  }\n  return i;\n};\n\nfunction lt(a, y, c, l, h) {\n  var i = l - 1;\n  while (l <= h) {\n    var m = (l + h) >>> 1, x = a[m];\n    var p = (c !== undefined) ? c(x, y) : (x - y);\n    if (p < 0) { i = m; l = m + 1 } else { h = m - 1 }\n  }\n  return i;\n};\n\nfunction le(a, y, c, l, h) {\n  var i = l - 1;\n  while (l <= h) {\n    var m = (l + h) >>> 1, x = a[m];\n    var p = (c !== undefined) ? c(x, y) : (x - y);\n    if (p <= 0) { i = m; l = m + 1 } else { h = m - 1 }\n  }\n  return i;\n};\n\nfunction eq(a, y, c, l, h) {\n  while (l <= h) {\n    var m = (l + h) >>> 1, x = a[m];\n    var p = (c !== undefined) ? c(x, y) : (x - y);\n    if (p === 0) { return m }\n    if (p <= 0) { l = m + 1 } else { h = m - 1 }\n  }\n  return -1;\n};\n\nfunction norm(a, y, c, l, h, f) {\n  if (typeof c === 'function') {\n    return f(a, y, c, (l === undefined) ? 0 : l | 0, (h === undefined) ? a.length - 1 : h | 0);\n  }\n  return f(a, y, undefined, (c === undefined) ? 0 : c | 0, (l === undefined) ? a.length - 1 : l | 0);\n}\n\nmodule.exports = {\n  ge: function(a, y, c, l, h) { return norm(a, y, c, l, h, ge)},\n  gt: function(a, y, c, l, h) { return norm(a, y, c, l, h, gt)},\n  lt: function(a, y, c, l, h) { return norm(a, y, c, l, h, lt)},\n  le: function(a, y, c, l, h) { return norm(a, y, c, l, h, le)},\n  eq: function(a, y, c, l, h) { return norm(a, y, c, l, h, eq)}\n}\n", "\"use strict\"\n\nvar bounds = require(\"binary-search-bounds\")\n\nvar NOT_FOUND = 0\nvar SUCCESS = 1\nvar EMPTY = 2\n\nmodule.exports = createWrapper\n\nfunction IntervalTreeNode(mid, left, right, leftPoints, rightPoints) {\n  this.mid = mid\n  this.left = left\n  this.right = right\n  this.leftPoints = leftPoints\n  this.rightPoints = rightPoints\n  this.count = (left ? left.count : 0) + (right ? right.count : 0) + leftPoints.length\n}\n\nvar proto = IntervalTreeNode.prototype\n\nfunction copy(a, b) {\n  a.mid = b.mid\n  a.left = b.left\n  a.right = b.right\n  a.leftPoints = b.leftPoints\n  a.rightPoints = b.rightPoints\n  a.count = b.count\n}\n\nfunction rebuild(node, intervals) {\n  var ntree = createIntervalTree(intervals)\n  node.mid = ntree.mid\n  node.left = ntree.left\n  node.right = ntree.right\n  node.leftPoints = ntree.leftPoints\n  node.rightPoints = ntree.rightPoints\n  node.count = ntree.count\n}\n\nfunction rebuildWithInterval(node, interval) {\n  var intervals = node.intervals([])\n  intervals.push(interval)\n  rebuild(node, intervals)    \n}\n\nfunction rebuildWithoutInterval(node, interval) {\n  var intervals = node.intervals([])\n  var idx = intervals.indexOf(interval)\n  if(idx < 0) {\n    return NOT_FOUND\n  }\n  intervals.splice(idx, 1)\n  rebuild(node, intervals)\n  return SUCCESS\n}\n\nproto.intervals = function(result) {\n  result.push.apply(result, this.leftPoints)\n  if(this.left) {\n    this.left.intervals(result)\n  }\n  if(this.right) {\n    this.right.intervals(result)\n  }\n  return result\n}\n\nproto.insert = function(interval) {\n  var weight = this.count - this.leftPoints.length\n  this.count += 1\n  if(interval[1] < this.mid) {\n    if(this.left) {\n      if(4*(this.left.count+1) > 3*(weight+1)) {\n        rebuildWithInterval(this, interval)\n      } else {\n        this.left.insert(interval)\n      }\n    } else {\n      this.left = createIntervalTree([interval])\n    }\n  } else if(interval[0] > this.mid) {\n    if(this.right) {\n      if(4*(this.right.count+1) > 3*(weight+1)) {\n        rebuildWithInterval(this, interval)\n      } else {\n        this.right.insert(interval)\n      }\n    } else {\n      this.right = createIntervalTree([interval])\n    }\n  } else {\n    var l = bounds.ge(this.leftPoints, interval, compareBegin)\n    var r = bounds.ge(this.rightPoints, interval, compareEnd)\n    this.leftPoints.splice(l, 0, interval)\n    this.rightPoints.splice(r, 0, interval)\n  }\n}\n\nproto.remove = function(interval) {\n  var weight = this.count - this.leftPoints\n  if(interval[1] < this.mid) {\n    if(!this.left) {\n      return NOT_FOUND\n    }\n    var rw = this.right ? this.right.count : 0\n    if(4 * rw > 3 * (weight-1)) {\n      return rebuildWithoutInterval(this, interval)\n    }\n    var r = this.left.remove(interval)\n    if(r === EMPTY) {\n      this.left = null\n      this.count -= 1\n      return SUCCESS\n    } else if(r === SUCCESS) {\n      this.count -= 1\n    }\n    return r\n  } else if(interval[0] > this.mid) {\n    if(!this.right) {\n      return NOT_FOUND\n    }\n    var lw = this.left ? this.left.count : 0\n    if(4 * lw > 3 * (weight-1)) {\n      return rebuildWithoutInterval(this, interval)\n    }\n    var r = this.right.remove(interval)\n    if(r === EMPTY) {\n      this.right = null\n      this.count -= 1\n      return SUCCESS\n    } else if(r === SUCCESS) {\n      this.count -= 1\n    }\n    return r\n  } else {\n    if(this.count === 1) {\n      if(this.leftPoints[0] === interval) {\n        return EMPTY\n      } else {\n        return NOT_FOUND\n      }\n    }\n    if(this.leftPoints.length === 1 && this.leftPoints[0] === interval) {\n      if(this.left && this.right) {\n        var p = this\n        var n = this.left\n        while(n.right) {\n          p = n\n          n = n.right\n        }\n        if(p === this) {\n          n.right = this.right\n        } else {\n          var l = this.left\n          var r = this.right\n          p.count -= n.count\n          p.right = n.left\n          n.left = l\n          n.right = r\n        }\n        copy(this, n)\n        this.count = (this.left?this.left.count:0) + (this.right?this.right.count:0) + this.leftPoints.length\n      } else if(this.left) {\n        copy(this, this.left)\n      } else {\n        copy(this, this.right)\n      }\n      return SUCCESS\n    }\n    for(var l = bounds.ge(this.leftPoints, interval, compareBegin); l<this.leftPoints.length; ++l) {\n      if(this.leftPoints[l][0] !== interval[0]) {\n        break\n      }\n      if(this.leftPoints[l] === interval) {\n        this.count -= 1\n        this.leftPoints.splice(l, 1)\n        for(var r = bounds.ge(this.rightPoints, interval, compareEnd); r<this.rightPoints.length; ++r) {\n          if(this.rightPoints[r][1] !== interval[1]) {\n            break\n          } else if(this.rightPoints[r] === interval) {\n            this.rightPoints.splice(r, 1)\n            return SUCCESS\n          }\n        }\n      }\n    }\n    return NOT_FOUND\n  }\n}\n\nfunction reportLeftRange(arr, hi, cb) {\n  for(var i=0; i<arr.length && arr[i][0] <= hi; ++i) {\n    var r = cb(arr[i])\n    if(r) { return r }\n  }\n}\n\nfunction reportRightRange(arr, lo, cb) {\n  for(var i=arr.length-1; i>=0 && arr[i][1] >= lo; --i) {\n    var r = cb(arr[i])\n    if(r) { return r }\n  }\n}\n\nfunction reportRange(arr, cb) {\n  for(var i=0; i<arr.length; ++i) {\n    var r = cb(arr[i])\n    if(r) { return r }\n  }\n}\n\nproto.queryPoint = function(x, cb) {\n  if(x < this.mid) {\n    if(this.left) {\n      var r = this.left.queryPoint(x, cb)\n      if(r) { return r }\n    }\n    return reportLeftRange(this.leftPoints, x, cb)\n  } else if(x > this.mid) {\n    if(this.right) {\n      var r = this.right.queryPoint(x, cb)\n      if(r) { return r }\n    }\n    return reportRightRange(this.rightPoints, x, cb)\n  } else {\n    return reportRange(this.leftPoints, cb)\n  }\n}\n\nproto.queryInterval = function(lo, hi, cb) {\n  if(lo < this.mid && this.left) {\n    var r = this.left.queryInterval(lo, hi, cb)\n    if(r) { return r }\n  }\n  if(hi > this.mid && this.right) {\n    var r = this.right.queryInterval(lo, hi, cb)\n    if(r) { return r }\n  }\n  if(hi < this.mid) {\n    return reportLeftRange(this.leftPoints, hi, cb)\n  } else if(lo > this.mid) {\n    return reportRightRange(this.rightPoints, lo, cb)\n  } else {\n    return reportRange(this.leftPoints, cb)\n  }\n}\n\nfunction compareNumbers(a, b) {\n  return a - b\n}\n\nfunction compareBegin(a, b) {\n  var d = a[0] - b[0]\n  if(d) { return d }\n  return a[1] - b[1]\n}\n\nfunction compareEnd(a, b) {\n  var d = a[1] - b[1]\n  if(d) { return d }\n  return a[0] - b[0]\n}\n\nfunction createIntervalTree(intervals) {\n  if(intervals.length === 0) {\n    return null\n  }\n  var pts = []\n  for(var i=0; i<intervals.length; ++i) {\n    pts.push(intervals[i][0], intervals[i][1])\n  }\n  pts.sort(compareNumbers)\n\n  var mid = pts[pts.length>>1]\n\n  var leftIntervals = []\n  var rightIntervals = []\n  var centerIntervals = []\n  for(var i=0; i<intervals.length; ++i) {\n    var s = intervals[i]\n    if(s[1] < mid) {\n      leftIntervals.push(s)\n    } else if(mid < s[0]) {\n      rightIntervals.push(s)\n    } else {\n      centerIntervals.push(s)\n    }\n  }\n\n  //Split center intervals\n  var leftPoints = centerIntervals\n  var rightPoints = centerIntervals.slice()\n  leftPoints.sort(compareBegin)\n  rightPoints.sort(compareEnd)\n\n  return new IntervalTreeNode(mid, \n    createIntervalTree(leftIntervals),\n    createIntervalTree(rightIntervals),\n    leftPoints,\n    rightPoints)\n}\n\n//User friendly wrapper that makes it possible to support empty trees\nfunction IntervalTree(root) {\n  this.root = root\n}\n\nvar tproto = IntervalTree.prototype\n\ntproto.insert = function(interval) {\n  if(this.root) {\n    this.root.insert(interval)\n  } else {\n    this.root = new IntervalTreeNode(interval[0], null, null, [interval], [interval])\n  }\n}\n\ntproto.remove = function(interval) {\n  if(this.root) {\n    var r = this.root.remove(interval)\n    if(r === EMPTY) {\n      this.root = null\n    }\n    return r !== NOT_FOUND\n  }\n  return false\n}\n\ntproto.queryPoint = function(p, cb) {\n  if(this.root) {\n    return this.root.queryPoint(p, cb)\n  }\n}\n\ntproto.queryInterval = function(lo, hi, cb) {\n  if(lo <= hi && this.root) {\n    return this.root.queryInterval(lo, hi, cb)\n  }\n}\n\nObject.defineProperty(tproto, \"count\", {\n  get: function() {\n    if(this.root) {\n      return this.root.count\n    }\n    return 0\n  }\n})\n\nObject.defineProperty(tproto, \"intervals\", {\n  get: function() {\n    if(this.root) {\n      return this.root.intervals([])\n    }\n    return []\n  }\n})\n\nfunction createWrapper(intervals) {\n  if(!intervals || intervals.length === 0) {\n    return new IntervalTree(null)\n  }\n  return new IntervalTree(createIntervalTree(intervals))\n}\n", "export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n", "import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n", "export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n", "import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n", "export function blur(values, r) {\n  if (!((r = +r) >= 0)) throw new RangeError(\"invalid r\");\n  let length = values.length;\n  if (!((length = Math.floor(length)) >= 0)) throw new RangeError(\"invalid length\");\n  if (!length || !r) return values;\n  const blur = blurf(r);\n  const temp = values.slice();\n  blur(values, temp, 0, length, 1);\n  blur(temp, values, 0, length, 1);\n  blur(values, temp, 0, length, 1);\n  return values;\n}\n\nexport const blur2 = Blur2(blurf);\n\nexport const blurImage = Blur2(blurfImage);\n\nfunction Blur2(blur) {\n  return function(data, rx, ry = rx) {\n    if (!((rx = +rx) >= 0)) throw new RangeError(\"invalid rx\");\n    if (!((ry = +ry) >= 0)) throw new RangeError(\"invalid ry\");\n    let {data: values, width, height} = data;\n    if (!((width = Math.floor(width)) >= 0)) throw new RangeError(\"invalid width\");\n    if (!((height = Math.floor(height !== undefined ? height : values.length / width)) >= 0)) throw new RangeError(\"invalid height\");\n    if (!width || !height || (!rx && !ry)) return data;\n    const blurx = rx && blur(rx);\n    const blury = ry && blur(ry);\n    const temp = values.slice();\n    if (blurx && blury) {\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    } else if (blurx) {\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n    } else if (blury) {\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    }\n    return data;\n  };\n}\n\nfunction blurh(blur, T, S, w, h) {\n  for (let y = 0, n = w * h; y < n;) {\n    blur(T, S, y, y += w, 1);\n  }\n}\n\nfunction blurv(blur, T, S, w, h) {\n  for (let x = 0, n = w * h; x < w; ++x) {\n    blur(T, S, x, x + n, w);\n  }\n}\n\nfunction blurfImage(radius) {\n  const blur = blurf(radius);\n  return (T, S, start, stop, step) => {\n    start <<= 2, stop <<= 2, step <<= 2;\n    blur(T, S, start + 0, stop + 0, step);\n    blur(T, S, start + 1, stop + 1, step);\n    blur(T, S, start + 2, stop + 2, step);\n    blur(T, S, start + 3, stop + 3, step);\n  };\n}\n\n// Given a target array T, a source array S, sets each value T[i] to the average\n// of {S[i - r], …, S[i], …, S[i + r]}, where r = ⌊radius⌋, start <= i < stop,\n// for each i, i + step, i + 2 * step, etc., and where S[j] is clamped between\n// S[start] (inclusive) and S[stop] (exclusive). If the given radius is not an\n// integer, S[i - r - 1] and S[i + r + 1] are added to the sum, each weighted\n// according to r - ⌊radius⌋.\nfunction blurf(radius) {\n  const radius0 = Math.floor(radius);\n  if (radius0 === radius) return bluri(radius);\n  const t = radius - radius0;\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius0 * S[start];\n    const s0 = step * radius0;\n    const s1 = s0 + step;\n    for (let i = start, j = start + s0; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s0)];\n      T[i] = (sum + t * (S[Math.max(start, i - s1)] + S[Math.min(stop, i + s1)])) / w;\n      sum -= S[Math.max(start, i - s0)];\n    }\n  };\n}\n\n// Like blurf, but optimized for integer radius.\nfunction bluri(radius) {\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius * S[start];\n    const s = step * radius;\n    for (let i = start, j = start + s; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s)];\n      T[i] = sum / w;\n      sum -= S[Math.max(start, i - s)];\n    }\n  };\n}\n", "export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n", "export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n", "import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n", "export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n", "// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n", "export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n", "export default function identity(x) {\n  return x;\n}\n", "import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n", "import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n", "var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n", "export default function constant(x) {\n  return () => x;\n}\n", "const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n", "import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n", "import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n", "import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        step,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the domain is aligned with the first tick (which it will by\n      // default), then we can use quantization rather than bisection to bin\n      // values, which is substantially faster.\n      if (tz[0] <= x0) step = tickIncrement(x0, x1, tn);\n\n      // If the last threshold is coincident with the domain’s upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we don’t\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    // Be careful not to mutate an array owned by the user!\n    var m = tz.length, a = 0, b = m;\n    while (tz[a] <= x0) ++a;\n    while (tz[b - 1] > x1) --b;\n    if (a || b < m) tz = tz.slice(a, b), m = b - a;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    if (isFinite(step)) {\n      if (step > 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            bins[Math.min(m, Math.floor((x - x0) / step))].push(data[i]);\n          }\n        }\n      } else if (step < 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            const j = Math.floor((x0 - x) * step);\n            bins[Math.min(m, j + (tz[j] <= x))].push(data[i]); // handle off-by-one due to rounding\n          }\n        }\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        if ((x = values[i]) != null && x0 <= x && x <= x1) {\n          bins[bisect(tz, x, 0, m)].push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : constant(Array.isArray(_) ? slice.call(_) : _), histogram) : threshold;\n  };\n\n  return histogram;\n}\n", "export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n", "export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n", "import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n", "import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n", "import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function thresholdFreedmanDiaconis(values, min, max) {\n  const c = count(values), d = quantile(values, 0.75) - quantile(values, 0.25);\n  return c && d ? Math.ceil((max - min) / (2 * d * Math.pow(c, -1 / 3))) : 1;\n}\n", "import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  const c = count(values), d = deviation(values);\n  return c && d ? Math.ceil((max - min) * Math.cbrt(c) / (3.49 * d)) : 1;\n}\n", "export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n", "import quantile, {quantileIndex} from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n\nexport function medianIndex(values, valueof) {\n  return quantileIndex(values, 0.5, valueof);\n}\n", "function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n", "import {InternMap} from \"internmap\";\n\nexport default function mode(values, valueof) {\n  const counts = new InternMap();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  }\n  let modeValue;\n  let modeCount = 0;\n  for (const [value, count] of counts) {\n    if (count > modeCount) {\n      modeCount = count;\n      modeValue = value;\n    }\n  }\n  return modeValue;\n}\n", "export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n", "import ascending from \"./ascending.js\";\nimport {ascendingDefined, compareDefined} from \"./sort.js\";\n\nexport default function rank(values, valueof = ascending) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  let V = Array.from(values);\n  const R = new Float64Array(V.length);\n  if (valueof.length !== 2) V = V.map(valueof), valueof = ascending;\n  const compareIndex = (i, j) => valueof(V[i], V[j]);\n  let k, r;\n  values = Uint32Array.from(V, (_, i) => i);\n  // Risky chaining due to Safari 14 https://github.com/d3/d3-array/issues/123\n  values.sort(valueof === ascending ? (i, j) => ascendingDefined(V[i], V[j]) : compareDefined(compareIndex));\n  values.forEach((j, i) => {\n      const c = compareIndex(j, k === undefined ? j : k);\n      if (c >= 0) {\n        if (k === undefined || c > 0) k = j, r = i;\n        R[j] = r;\n      } else {\n        R[j] = NaN;\n      }\n    });\n  return R;\n}\n", "export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n", "export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n", "export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n", "import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n", "import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default x => () => x;\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n", "import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n", "export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n", "var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n", "import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n", "import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n", "var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n", "import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n", "import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n", "import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n", "import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n", "import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n", "export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n", "export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n", "export default function number(x) {\n  return +x;\n}\n", "import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n", "export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if (!isFinite(x) || x === 0) return null; // NaN, ±Infinity, ±0\n  var i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\"), coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n", "export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n", "export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n", "// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n", "// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return prefixExponent = undefined, x.toPrecision(p);\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n", "import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n", "export default function(x) {\n  return x;\n}\n", "import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier, options) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = (options && options.prefix !== undefined ? options.prefix : \"\") + (symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\"),\n        suffix = (symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\") + (options && options.suffix !== undefined ? options.suffix : \"\");\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" && !isNaN(value) && prefixExponent !== undefined ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier), {suffix: prefixes[8 + e / 3]});\n    return function(value) {\n      return f(k * value);\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n", "import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n", "import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n", "export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n", "import {ticks} from \"d3-array\";\nimport {format, formatSpecifier} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n", "import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n", "import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n", "import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n", "import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n", "export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n", "import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n", "import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n", "import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n", "import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n", "import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n", "import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n", "import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n", "import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n", "export const SCALE_TYPES = {\n    opacity: Symbol('opacity'),\n    color: Symbol('color'),\n    x: Symbol('position'),\n    y: Symbol('position'),\n    symbol: Symbol('symbol'),\n    r: Symbol('radius'),\n    length: Symbol('length'),\n    fx: Symbol('fx'),\n    fy: Symbol('fy'),\n    projection: Symbol('projection')\n};\nexport const ORIGINAL_NAME_KEYS = {\n    x: Symbol('origName_x'),\n    x1: Symbol('origName_x1'),\n    x2: Symbol('origName_x2'),\n    y: Symbol('origName_y'),\n    y1: Symbol('origName_y1'),\n    y2: Symbol('origName_y2'),\n    fill: Symbol('origName_color'),\n    stroke: Symbol('origName_color'),\n    opacity: Symbol('origName_opacity'),\n    symbol: Symbol('origName_symbol'),\n    r: Symbol('origName_r'),\n    z: Symbol('origName_z'),\n    sort: Symbol('origName_sort'),\n    filter: Symbol('origName_filter'),\n    interval: Symbol('origName_interval'),\n    length: Symbol('origName_length'),\n    fx: Symbol('origName_fx'),\n    fy: Symbol('origName_fy'),\n    fillOpacity: Symbol('origName_opacity'),\n    strokeOpacity: Symbol('origName_opacity')\n};\nexport const SCALES = [\n    'x',\n    'y',\n    'color',\n    'opacity',\n    'symbol',\n    'r',\n    'length',\n    'fx',\n    'fy',\n    'projection'\n];\nexport const VALID_SCALE_TYPES = {\n    color: new Set([\n        'linear',\n        'categorical',\n        'ordinal',\n        'diverging',\n        'quantile',\n        'quantize',\n        'quantile-cont',\n        'threshold',\n        'log',\n        'symlog',\n        'pow',\n        'sqrt',\n        'diverging-log',\n        'diverging-pow',\n        'diverging-sqrt',\n        'diverging-symlog'\n    ]),\n    x: new Set([\n        'linear',\n        'log',\n        'symlog',\n        'time',\n        'ordinal',\n        'band',\n        'point',\n        'quantile',\n        'quantize',\n        'threshold'\n    ]),\n    y: new Set([\n        'linear',\n        'log',\n        'symlog',\n        'time',\n        'ordinal',\n        'band',\n        'point',\n        'quantile',\n        'quantize',\n        'threshold'\n    ]),\n    symbol: new Set(['categorical', 'ordinal']),\n    opacity: new Set(['linear', 'log', 'symlog', 'sqrt', 'pow']),\n    r: new Set(['linear', 'log', 'symlog', 'sqrt', 'pow']),\n    length: new Set(['linear', 'log', 'symlog', 'sqrt', 'pow']),\n    fx: new Set(['band']),\n    fy: new Set(['band']),\n    // projection is a special type not mapping to a D3 scale\n    projection: new Set()\n};\n/**\n * Map of all scaled channels\n */\nexport const CHANNEL_SCALE = {\n    x: 'x',\n    x1: 'x',\n    x2: 'x',\n    y: 'y',\n    y1: 'y',\n    y2: 'y',\n    r: 'r',\n    length: 'length',\n    fx: 'fx',\n    fy: 'fy',\n    symbol: 'symbol',\n    fill: 'color',\n    stroke: 'color',\n    opacity: 'opacity',\n    fillOpacity: 'opacity',\n    strokeOpacity: 'opacity'\n};\nexport const CSS_VAR = /^var\\(--([a-z-0-9,\\s]+)\\)$/;\nexport const CSS_COLOR = /^color\\(/;\nexport const CSS_COLOR_MIX = /^color-mix\\(/; // just check for prefix\nexport const CSS_COLOR_CONTRAST = /^color-contrast\\(/; // just check for prefix\nexport const CSS_RGBA = /^rgba\\(/; // just check for prefix\nexport const CSS_URL = /^url\\(#/; // just check for prefix\nexport const INDEX = Symbol('index');\nexport const PI = Math.PI;\nexport const TAU = PI * 2;\n// export const CHANNEL_MAP: Record<ScaleName, ValueOf<typeof SCALE_TYPES>> = {\n// \tx: SCALE_TYPES.x,\n// \ty: SCALE_TYPES.y,\n// \topacity: SCALE_TYPES.opacity,\n// \tstrokeOpacity: SCALE_TYPES.opacity,\n// \tstrokeWidth: SCALE_TYPES.width,\n// \tfillOpacity: SCALE_TYPES.opacity,\n// \tstroke: SCALE_TYPES.color,\n// \tfill: SCALE_TYPES.color,\n// \tr: SCALE_TYPES.radius,\n// \trotate: SCALE_TYPES.angle,\n// \tsymbol: SCALE_TYPES.symbol\n// };\n", "export default function (value) {\n    if (typeof value !== 'object' || value === null)\n        return false;\n    if (Object.prototype.toString.call(value) !== '[object Object]')\n        return false;\n    const proto = Object.getPrototypeOf(value);\n    if (proto === null)\n        return true;\n    const Ctor = Object.prototype.hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n    return (typeof Ctor === 'function' &&\n        Ctor instanceof Ctor &&\n        Function.prototype.call(Ctor) === Function.prototype.call(value));\n}\n", "export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n", "export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n", "const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n", "import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n", "export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n", "function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n", "export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n", "import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n", "import pointRadial from \"../pointRadial.js\";\n\nclass Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nclass BumpRadial {\n  constructor(context) {\n    this._context = context;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {}\n  point(x, y) {\n    x = +x, y = +y;\n    if (this._point === 0) {\n      this._point = 1;\n    } else {\n      const p0 = pointRadial(this._x0, this._y0);\n      const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);\n      const p2 = pointRadial(x, this._y0);\n      const p3 = pointRadial(x, y);\n      this._context.moveTo(...p0);\n      this._context.bezierCurveTo(...p1, ...p2, ...p3);\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n\nexport function bumpRadial(context) {\n  return new BumpRadial(context);\n}\n", "import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n", "import {pi, sqrt, tau} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.62625;\n    context.moveTo(0, -r);\n    context.lineTo(r, 0);\n    context.lineTo(0, r);\n    context.lineTo(-r, 0);\n    context.closePath();\n  }\n};\n", "import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 7, 2)) * 0.87559;\n    context.moveTo(-r, 0);\n    context.lineTo(r, 0);\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const w = sqrt(size);\n    const x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.4431;\n    context.moveTo(r, r);\n    context.lineTo(r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, r);\n    context.closePath();\n  }\n};\n", "import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n", "import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 6, 1.7)) * 0.6189;\n    context.moveTo(-r, -r);\n    context.lineTo(r, r);\n    context.moveTo(-r, r);\n    context.lineTo(r, -r);\n  }\n};\n", "import constant from \"./constant.js\";\nimport {withPath} from \"./path.js\";\nimport asterisk from \"./symbol/asterisk.js\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport diamond2 from \"./symbol/diamond2.js\";\nimport plus from \"./symbol/plus.js\";\nimport square from \"./symbol/square.js\";\nimport square2 from \"./symbol/square2.js\";\nimport star from \"./symbol/star.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport triangle2 from \"./symbol/triangle2.js\";\nimport wye from \"./symbol/wye.js\";\nimport times from \"./symbol/times.js\";\n\n// These symbols are designed to be filled.\nexport const symbolsFill = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\n// These symbols are designed to be stroked (with a width of 1.5px and round caps).\nexport const symbolsStroke = [\n  circle,\n  plus,\n  times,\n  triangle2,\n  asterisk,\n  square2,\n  diamond2\n];\n\nexport default function Symbol(type, size) {\n  let context = null,\n      path = withPath(symbol);\n\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n", "export default function() {}\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // falls through\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n", "import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n", "import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n", "import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n", "function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n", "function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n", "function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n", "export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n", "export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n", "import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n", "export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n", "import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n", "import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n", "import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n", "import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n", "import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n", "import { symbolAsterisk, symbolDiamond2, symbolPlus, symbolSquare2, symbolTriangle2, symbolX as symbolTimes, symbolCircle, symbolCross, symbolDiamond, symbolSquare, symbolStar, symbolTriangle, symbolWye } from 'd3-shape';\nexport const sqrt3 = Math.sqrt(3);\nexport const sqrt4_3 = 2 / sqrt3;\nconst symbolHexagon = {\n    draw(context, size) {\n        const rx = Math.sqrt(size / Math.PI), ry = rx * sqrt4_3, hy = ry / 2;\n        context.moveTo(0, ry);\n        context.lineTo(rx, hy);\n        context.lineTo(rx, -hy);\n        context.lineTo(0, -ry);\n        context.lineTo(-rx, -hy);\n        context.lineTo(-rx, hy);\n        context.closePath();\n    }\n};\nconst symbols = new Map([\n    ['asterisk', symbolAsterisk],\n    ['circle', symbolCircle],\n    ['cross', symbolCross],\n    ['diamond', symbolDiamond],\n    ['diamond2', symbolDiamond2],\n    ['hexagon', symbolHexagon],\n    ['plus', symbolPlus],\n    ['square', symbolSquare],\n    ['square2', symbolSquare2],\n    ['star', symbolStar],\n    ['times', symbolTimes],\n    ['triangle', symbolTriangle],\n    ['triangle2', symbolTriangle2],\n    ['wye', symbolWye]\n]);\nfunction isSymbolObject(value) {\n    if (typeof value === 'string')\n        return false;\n    return value && typeof value.draw === 'function';\n}\nexport function isSymbol(value) {\n    if (isSymbolObject(value))\n        return true;\n    if (typeof value !== 'string')\n        return false;\n    return symbols.has(value.toLowerCase());\n}\nexport function maybeSymbol(symbol) {\n    if (symbol == null || isSymbolObject(symbol))\n        return symbol;\n    const value = symbols.get(`${symbol}`.toLowerCase());\n    if (value)\n        return value;\n    throw new Error(`invalid symbol: ${symbol}`);\n}\n", "import { isSymbol } from './symbols.js';\nimport { color } from 'd3-color';\nimport { CSS_COLOR, CSS_COLOR_MIX, CSS_COLOR_CONTRAST, CSS_VAR, CSS_URL, CSS_RGBA } from '../constants.js';\nexport function isBooleanOrNull(v) {\n    return v == null || typeof v === 'boolean';\n}\nexport function isDate(v) {\n    return v instanceof Date && !isNaN(v.getTime());\n}\nexport function isDateOrNull(v) {\n    return v == null || isDate(v);\n}\nexport function isNumberOrNull(v) {\n    return v == null || Number.isFinite(v) || (typeof v === 'string' && !Number.isNaN(+v));\n}\nexport function isNumberOrNullOrNaN(v) {\n    return (v == null ||\n        Number.isFinite(v) ||\n        Number.isNaN(v) ||\n        (typeof v === 'string' && !Number.isNaN(+v)));\n}\nexport function isStringOrNull(v) {\n    return v == null || typeof v === 'string';\n}\nexport function isSymbolOrNull(v) {\n    return v == null || ((typeof v === 'string' || typeof v === 'object') && isSymbol(v));\n}\nexport function isColorOrNull(v) {\n    if (v == null)\n        return true;\n    if (typeof v === 'string') {\n        v = `${v}`.toLowerCase();\n        return (v === 'currentcolor' ||\n            CSS_VAR.test(v) ||\n            CSS_COLOR.test(v) ||\n            CSS_COLOR_MIX.test(v) ||\n            CSS_COLOR_CONTRAST.test(v) ||\n            CSS_RGBA.test(v) ||\n            CSS_URL.test(v) ||\n            color(v) !== null);\n    }\n    return false;\n}\nexport function isOpacityOrNull(v) {\n    return v == null || (typeof v === 'number' && Number.isFinite(v) && v >= 0 && v <= 1);\n}\n", "import { isDate } from './typeChecks.js';\nexport default function (value) {\n    const t = typeof value;\n    return (t === 'string' ||\n        t === 'number' ||\n        t === 'boolean' ||\n        t === 'object' ||\n        isDate(value) ||\n        t === null);\n}\n", "import { resolveProp } from './resolve.js';\nimport { isDate } from './typeChecks.js';\n/**\n * Returns first argument that is not null or undefined\n */\nexport function coalesce(...args) {\n    for (const arg of args) {\n        if (arg !== null && arg !== undefined) {\n            return arg;\n        }\n    }\n    return null; // Return null if all arguments are null or undefined\n}\nexport function testFilter(datum, options) {\n    return options.filter == null || resolveProp(options.filter, datum);\n}\nexport function randomId() {\n    return Math.ceil(1e9 + Math.random() * 1e9).toString(36);\n}\nexport function isSnippet(value) {\n    return typeof value === 'function' && value.length === 1;\n}\nexport function isValid(value) {\n    return (value !== null &&\n        value !== undefined &&\n        !Number.isNaN(value) &&\n        (typeof value !== 'number' || Number.isFinite(value)));\n}\nexport function isObject(option) {\n    // doesn't work with Proxies\n    return (typeof option === 'object' && !isDate(option) && !Array.isArray(option) && option !== null);\n}\nconst NUMERIC = /^[+-]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i;\nexport function maybeNumber(value) {\n    if (typeof value === 'number' && Number.isFinite(value))\n        return value;\n    if (typeof value === 'string') {\n        // only accept numeric strings\n        if (NUMERIC.test(value.trim())) {\n            return parseFloat(value);\n        }\n    }\n    return null;\n}\nexport const constant = (x) => () => x;\nexport const POSITION_CHANNELS = new Set(['x', 'x1', 'x2', 'y', 'y1', 'y2']);\nexport function parseInset(inset, width) {\n    if (typeof inset === 'number') {\n        return inset;\n    }\n    if (inset.endsWith('%')) {\n        return (width * +inset.slice(0, -1)) / 100;\n    }\n    return +inset;\n}\nexport function omit(obj, ...keys) {\n    return Object.fromEntries(Object.entries(obj).filter(([key]) => !keys.includes(key)));\n}\nexport function identity(x) {\n    return x;\n}\nexport const GEOJSON_PREFER_STROKE = new Set(['MultiLineString', 'LineString']);\n", "import { resolveProp } from './resolve.js';\n/**\n * all style props that can be applied via channels but\n * are not scaled\n */\nconst styleProps = {\n    strokeWidth: 'stroke-width',\n    strokeDasharray: 'stroke-dasharray',\n    strokeLinejoin: 'stroke-linejoin',\n    strokeLinecap: 'stroke-linecap',\n    blend: 'mix-blend-mode',\n    clipPath: 'clip-path',\n    mask: 'mask',\n    fontFamily: 'font-family',\n    fontSize: 'font-size',\n    fontStyle: 'font-style',\n    fontWeight: 'font-weight',\n    textAnchor: 'text-anchor',\n    fontVariant: 'font-variant',\n    letterSpacing: 'letter-spacing',\n    textDecoration: 'text-decoration',\n    textTransform: 'text-transform',\n    wordSpacing: 'word-spacing',\n    cursor: 'cursor',\n    pointerEvents: 'pointer-events'\n};\nconst styleDefaults = {\n    fontWeight: 'normal'\n};\nexport function getBaseStylesObject(datum, props) {\n    return Object.fromEntries(Object.entries(styleProps)\n        .filter(([key, cssKey]) => cssKey && props[key] != null)\n        .map(([key, cssKey]) => [\n        cssKey,\n        maybeToPixel(cssKey, (resolveProp(props[key], datum, styleDefaults[key] || null) ??\n            ''))\n    ]));\n}\nexport default function (datum, props) {\n    return Object.entries(getBaseStylesObject(datum, props))\n        .map(([key, value]) => `${key}: ${value}`)\n        .join(';');\n}\nexport function maybeToPixel(cssKey, value) {\n    if (cssKey === 'font-size' || cssKey === 'stroke-width') {\n        return typeof value === 'number' ? `${value}px` : value;\n    }\n    return value;\n}\nexport function maybeFromPixel(value) {\n    return typeof value === 'string' && value.endsWith('px') ? +value.slice(0, -2) : value;\n}\nexport function maybeFromRem(value, rootFontSize = 16) {\n    return typeof value === 'string' && value.endsWith('rem')\n        ? +value.slice(0, -3) * rootFontSize\n        : value;\n}\nlet nextClipId = 0;\nlet nextPatternId = 0;\nexport function getClipId() {\n    return `svp-clip-${++nextClipId}`;\n}\nexport function getPatternId() {\n    return `svp-pattern-${++nextPatternId}`;\n}\n", "import isDataRecord from '../helpers/isDataRecord.js';\nimport { INDEX } from '../constants';\nexport const X = Symbol('x');\nexport const Y = Symbol('y');\nexport const RAW_VALUE = Symbol('originalValue');\nexport function indexData(data) {\n    return data.map((d, i) => ({ ...d, [INDEX]: i }));\n}\n/*\n * This transform takes an array of raw values as input and returns data records\n * in which the values are interpreted as x channel and their index as y\n */\nexport function recordizeX({ data, ...channels }, { withIndex } = { withIndex: true }) {\n    const dataIsRawValueArray = !isDataRecord(data[0]) && !Array.isArray(data[0]) && channels.x == null;\n    if (dataIsRawValueArray) {\n        // we remove x, x1 and x2 from the channels since they make no sense when\n        // the data is a raw value array\n        const { x, x1, x2, ...nonXChannels } = channels;\n        return {\n            data: data.map((value, index) => ({\n                [RAW_VALUE]: value,\n                [INDEX]: index\n            })),\n            ...nonXChannels,\n            x: RAW_VALUE,\n            ...(withIndex ? { y: INDEX } : {})\n        };\n    }\n    return { data: indexData(data), ...channels };\n}\n/*\n * This transform takes an array of raw values as input and returns data records\n * in which the values are interpreted as y channel and their index as yx\n */\nexport function recordizeY({ data, ...channels }, { withIndex } = { withIndex: true }) {\n    if (!data)\n        return { data, ...channels };\n    const dataIsRawValueArray = !isDataRecord(data[0]) && !Array.isArray(data[0]) && channels.y == null;\n    if (dataIsRawValueArray) {\n        // we remove y, y1 and y2 from the channels since they make no sense when\n        // the data is a raw value array\n        const { y, y1, y2, ...nonYChannels } = channels;\n        return {\n            data: Array.from(data).map((value, index) => ({\n                [INDEX]: index,\n                [RAW_VALUE]: value\n            })),\n            ...nonYChannels,\n            ...(withIndex ? { x: INDEX } : {}),\n            y: RAW_VALUE\n        };\n    }\n    return { data: indexData(data), ...channels };\n}\n/**\n * This transform is used to allow users to pass an [[x0, y0], [x1, y1], ...] array\n * as dataset to marks that support it. It transforms the arrays into records, so\n * the rest of our code doesn't have to deal with this case anymore.\n */\nexport function recordizeXY({ data, ...channels }) {\n    if (!data)\n        return { data, ...channels };\n    if (!isDataRecord(data[0]) &&\n        Array.isArray(data[0]) &&\n        channels.x === undefined &&\n        channels.y === undefined) {\n        return {\n            data: data.map(([x, y, ...rest], i) => ({\n                [RAW_VALUE]: [x, y, ...rest],\n                [INDEX]: i,\n                [X]: x,\n                [Y]: y\n            })),\n            ...channels,\n            x: X,\n            y: Y\n        };\n    }\n    return { data: data, ...channels };\n}\nexport function recordize({ data, ...channels }) {\n    if (!data)\n        return { data, ...channels };\n    if (!isDataRecord(data[0])) {\n        return {\n            data: data.map((d, i) => ({\n                [RAW_VALUE]: d,\n                [INDEX]: i\n            })),\n            ...channels\n        };\n    }\n    return { data: indexData(data), ...channels };\n}\n", "import { CHANNEL_SCALE, INDEX } from '../constants.js';\nimport isDataRecord from './isDataRecord.js';\nimport isRawValue from './isRawValue.js';\nimport { isValid } from './index.js';\nimport { getBaseStylesObject } from './getBaseStyles.js';\nimport { RAW_VALUE } from '../transforms/recordize.js';\nexport function resolveProp(accessor, datum, _defaultValue = null) {\n    if (typeof accessor === 'function') {\n        const accessorFn = accessor;\n        // datum[RAW_VALUE] exists if an array of raw values was used as dataset and got\n        // \"recordized\" by the recordi e transform. We want to hide this wrapping to the user\n        // so we're passing the original value to accessor functions instead of our wrapped record\n        return datum == null\n            ? accessorFn()\n            : accessorFn(datum.hasOwnProperty(RAW_VALUE) ? datum[RAW_VALUE] : datum, datum[INDEX]);\n    }\n    else {\n        const accessorValue = accessor;\n        // accessor may be a\n        if ((typeof accessorValue === 'string' || typeof accessorValue === 'symbol') &&\n            datum &&\n            datum[accessorValue] !== undefined) {\n            return datum[accessor];\n        }\n    }\n    return isRawValue(accessor) ? accessor : _defaultValue;\n}\nexport function toChannelOption(name, channel) {\n    const isPositionScale = CHANNEL_SCALE[name] === 'x' || CHANNEL_SCALE[name] === 'y';\n    const isOpacityScale = CHANNEL_SCALE[name] === 'opacity';\n    return isDataRecord(channel)\n        ? channel\n        : {\n            value: channel,\n            scale: (!isPositionScale && !isOpacityScale && typeof channel === 'number') ||\n                typeof channel === 'undefined'\n                ? null\n                : CHANNEL_SCALE[name],\n            channel: null\n        };\n}\nexport function resolveChannel(channel, datum, channels) {\n    const scale = CHANNEL_SCALE[channel];\n    // the z channel has an automatic alias mechanism\n    const accessor = channel === 'z' ? channels.z || channels.fill || channels.stroke : channels[channel];\n    const channelOptions = toChannelOption(channel, accessor);\n    if (channelOptions.channel) {\n        return resolveChannel(channelOptions.channel, datum, channels);\n    }\n    return resolve(datum, channelOptions.value, channel, scale);\n}\nfunction resolve(datum, accessor, channel, scale) {\n    if (isDataRecord(datum)) {\n        // use accessor function\n        if (typeof accessor === 'function')\n            // datum[RAW_VALUE] exists if an array of raw values was used as dataset and got\n            // \"recordized\" by the recordize transform. We want to hide this wrapping to the user\n            // so we're passing the original value to accessor functions instead of our wrapped record\n            return accessor(datum[RAW_VALUE] != null ? datum[RAW_VALUE] : datum, datum?.[INDEX]);\n        // use accessor string\n        if ((typeof accessor === 'string' || typeof accessor === 'symbol') &&\n            datum[accessor] !== undefined)\n            return datum[accessor];\n        // fallback to channel name as accessor\n        if (accessor === null && datum[channel] !== undefined)\n            return datum[channel];\n        return isRawValue(accessor) ? accessor : null;\n    }\n    else if (Array.isArray(datum) &&\n        (typeof accessor === 'string' || typeof accessor === 'number') &&\n        datum[accessor] != null) {\n        return datum[accessor];\n    }\n    else {\n        // return single value or accessor\n        return typeof accessor === 'function'\n            ? accessor(datum, datum?.[INDEX])\n            : accessor !== null && isRawValue(accessor)\n                ? accessor\n                : !Array.isArray(datum) && (scale === 'x' || scale === 'y')\n                    ? datum\n                    : null;\n    }\n}\nconst scaledStyleProps = {\n    fill: 'fill',\n    stroke: 'stroke',\n    fillOpacity: 'fill-opacity',\n    strokeOpacity: 'stroke-opacity',\n    opacity: 'opacity'\n};\nconst scaledStylePropsKeys = Object.keys(scaledStyleProps);\n// TODO: find a better name\nconst oppositeColor = {\n    fill: 'stroke',\n    stroke: 'fill'\n};\nexport function resolveScaledStyleProps(datum, channels, useScale, plot, defaultColorProp = null) {\n    return {\n        ...getBaseStylesObject(datum, channels),\n        fill: 'none',\n        stroke: 'none',\n        ...(defaultColorProp && channels[oppositeColor[defaultColorProp]] == null\n            ? { [defaultColorProp]: 'currentColor' }\n            : {}),\n        ...Object.fromEntries(Object.entries(scaledStyleProps)\n            .filter(([key]) => channels[key] != null)\n            .map(([key, cssAttr]) => [key, cssAttr, resolveChannel(key, datum, channels)])\n            .filter(([key, , value]) => isValid(value) || key === 'fill' || key === 'stroke')\n            .map(([key, cssAttr, value]) => {\n            if (useScale[key]) {\n                if (value == undefined &&\n                    (key === 'fill' || key === 'stroke') &&\n                    plot.options.color.unknown) {\n                    return [cssAttr, plot.options.color.unknown];\n                }\n                return [cssAttr, plot.scales[CHANNEL_SCALE[key]].fn(value)];\n            }\n            return [cssAttr, value];\n        }))\n    };\n}\nexport function resolveScaledStyles(datum, channels, useScale, plot, defaultColorProp = null) {\n    return `${stylePropsToCSS(resolveScaledStyleProps(datum, channels, useScale, plot, defaultColorProp))};${channels.style || ''}`;\n}\nfunction stylePropsToCSS(props) {\n    return `${Object.entries(props)\n        .map(([key, value]) => `${key}: ${value}`)\n        .join(';')}`;\n}\nexport function resolveStyles(plot, datum, channels, defaultColorProp = null, useScale, recomputeChannels = false) {\n    const styleProps = {\n        ...getBaseStylesObject(datum?.datum, channels),\n        fill: 'none',\n        stroke: 'none',\n        ...(defaultColorProp &&\n            (channels[oppositeColor[defaultColorProp]] == null ||\n                channels[oppositeColor[defaultColorProp]] === 'none')\n            ? { [defaultColorProp]: 'currentColor' }\n            : {}),\n        ...Object.fromEntries(Object.entries(scaledStyleProps)\n            .filter(([key]) => channels[key] != null)\n            .map(([key, cssAttr]) => [\n            key,\n            cssAttr,\n            recomputeChannels ? resolveChannel(key, datum?.datum, channels) : datum?.[key]\n        ])\n            .filter(([key, , value]) => isValid(value) || key === 'fill' || key === 'stroke')\n            .map(([key, cssAttr, value]) => {\n            if (useScale[key]) {\n                if (value == undefined &&\n                    (key === 'fill' || key === 'stroke') &&\n                    plot.options.color.unknown) {\n                    return [cssAttr, plot.options.color.unknown];\n                }\n            }\n            else if ((key === 'fill' || key === 'stroke') && value === true) {\n                return [cssAttr, 'currentColor'];\n            }\n            return [cssAttr, value];\n        }))\n    };\n    if (plot.css) {\n        return [null, plot.css(`${stylePropsToCSS(styleProps)};${channels.style ?? ''}`)];\n    }\n    else {\n        return [`${stylePropsToCSS(styleProps)};${channels.style ?? ''}`, null];\n    }\n}\n", "<script lang=\"ts\">\n    import { setContext, type Snippet } from 'svelte';\n    import { resolveChannel } from '../helpers/resolve.js';\n    import type { BaseMarkProps, DataRecord, RawValue } from '../types/index.js';\n\n    let {\n        fx,\n        fy,\n        left,\n        top,\n        right,\n        bottom,\n        topEmpty,\n        bottomEmpty,\n        leftEmpty,\n        rightEmpty,\n        children\n    }: {\n        fx: RawValue;\n        fy: RawValue;\n        left: boolean;\n        top: boolean;\n        right: boolean;\n        bottom: boolean;\n        topEmpty: boolean;\n        bottomEmpty: boolean;\n        leftEmpty: boolean;\n        rightEmpty: boolean;\n        children?: Snippet;\n    } = $props();\n\n    setContext('svelteplot/facet', {\n        getTestFacet() {\n            return (datum: DataRecord, options: Partial<BaseMarkProps>) => {\n                return (\n                    (options.fx == null || resolveChannel('fx', datum, options) === fx) &&\n                    (options.fy == null || resolveChannel('fy', datum, options) === fy)\n                );\n            };\n        },\n        getFacetState() {\n            return {\n                fx,\n                fy,\n                left,\n                top,\n                right,\n                bottom,\n                topEmpty,\n                bottomEmpty,\n                leftEmpty,\n                rightEmpty\n            };\n        }\n    });\n</script>\n\n{@render children?.()}\n", "import { resolveChannel } from './resolve.js';\n/**\n * This function tracks which facets are \"empty\", meaning that they don't contain\n * any \"facetted\" data points. This can happen when fx and fy are combined and\n * certain combinations don't yield results.\n *\n * @param marks\n * @param fxValues x facet domain\n * @param fyValues y facet domain\n * @returns\n */\nexport function getEmptyFacets(marks, fxValues, fyValues) {\n    const facettedMarks = marks.filter((mark) => {\n        return (mark.options.__firstFacet &&\n            mark.data.length > 0 && // has data\n            !mark.options.automatic && // not an automatic mark\n            (fxValues.length === 1 || mark.options.fx != null) && // uses x faceting\n            (fyValues.length === 1 || mark.options.fy != null) // uses y faceting\n        );\n    });\n    const facettedData = facettedMarks\n        .map((mark) => mark.data.map((datum) => {\n        const fx = resolveChannel('fx', datum, mark.options);\n        const fy = resolveChannel('fy', datum, mark.options);\n        return {\n            fx,\n            fy\n        };\n    }))\n        .flat(1);\n    const out = new Map();\n    for (const fx of fxValues) {\n        out.set(fx, new Map());\n        for (const fy of fyValues) {\n            // we need to loop over all facetted marks to see if there's any which has\n            // no data for the current fx,fy combination\n            let hasFacettedData = fxValues.length === 1 || fyValues.length === 1;\n            for (const datum of facettedData) {\n                if (datum.fx === fx && datum.fy === fy) {\n                    hasFacettedData = true;\n                    break;\n                }\n            }\n            out.get(fx)?.set(fy, !hasFacettedData);\n        }\n    }\n    return out;\n}\n// TODO: write unit tests\n", "import { getContext } from 'svelte';\n/**\n * Internal state representation of a Plot.\n */\nclass PlotState {\n    // Define properties and methods for PlotState as needed\n    width = $state(50);\n    height = $state(50);\n    options = $state({});\n    facetWidth = $state(0);\n    facetHeight = $state(0);\n    plotWidth = $state(0);\n    plotHeight = $state(0);\n    scales = $state();\n    body = $state();\n    /**\n     * True if there's a color scale and a symbol scale and both are bound to the same\n     * single channel accessor.\n     */\n    colorSymbolRedundant = $state(false);\n    /**\n     * True if the plot is using filled dot marks.\n     */\n    hasFilledDotMarks = $state(false);\n    css = $state(null);\n    constructor(state) {\n        // Initialization code here\n        Object.assign(this, state);\n    }\n    update(newState) {\n        Object.assign(this, newState);\n    }\n    get publicState() {\n        return new PublicPlotState(this);\n    }\n}\n/**\n * A public-facing wrapper around PlotState that exposes only read-only properties.\n */\nclass PublicPlotState {\n    #plotState;\n    constructor(plotState) {\n        this.#plotState = plotState;\n    }\n    get width() {\n        return this.#plotState.width;\n    }\n    get height() {\n        return this.#plotState.height;\n    }\n    get options() {\n        return this.#plotState.options;\n    }\n    get scales() {\n        return this.#plotState.scales;\n    }\n    get plotWidth() {\n        return this.#plotState.plotWidth;\n    }\n    get plotHeight() {\n        return this.#plotState.plotHeight;\n    }\n    get facetWidth() {\n        return this.#plotState.facetWidth;\n    }\n    get facetHeight() {\n        return this.#plotState.facetHeight;\n    }\n    get body() {\n        return this.#plotState.body;\n    }\n    get colorSymbolRedundant() {\n        return this.#plotState.colorSymbolRedundant;\n    }\n    get hasFilledDotMarks() {\n        return this.#plotState.hasFilledDotMarks;\n    }\n    get css() {\n        return this.#plotState.css;\n    }\n}\nexport function setPlot(initialState) {\n    return new PlotState({\n        ...initialState\n    });\n}\nexport function usePlot() {\n    const { getPlotState } = getContext('svelteplot');\n    return getPlotState().publicState;\n}\n", "<!-- \n    @component\n    The FacetGrid component repeats the\n    marks for each facet domain value \n-->\n<script lang=\"ts\">\n    import { getContext, type Snippet } from 'svelte';\n    import type { PlotContext, GenericMarkOptions, Mark } from '../types/index.js';\n    import { scaleBand } from 'd3-scale';\n    import Facet from './Facet.svelte';\n    import { getEmptyFacets } from '../helpers/facets.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const { updateDimensions } = getContext<PlotContext>('svelteplot');\n    // we need the plot context for the overall width & height\n    const plot = usePlot();\n\n    let {\n        children,\n        marks\n    }: {\n        children: Snippet;\n        marks: Mark<GenericMarkOptions>[];\n    } = $props();\n\n    const useFacetX = $derived(plot.scales.fx.domain.length > 0);\n    const useFacetY = $derived(plot.scales.fy.domain.length > 0);\n\n    const fxValues = $derived(useFacetX ? plot.scales.fx.domain : [true]);\n    const fyValues = $derived(useFacetY ? plot.scales.fy.domain : [true]);\n\n    // we need to track which facets are \"empty\", meaning that they don't contain\n    // any \"faceted\" data points. this can happen when fx and fy are combined and\n    // certain combinations don't yield results\n    const emptyFacets = $derived(getEmptyFacets(marks, fxValues, fyValues));\n\n    // create band scales for fx and fy\n    const facetXScale = $derived(\n        scaleBand()\n            .paddingOuter(0)\n            .paddingInner(\n                fxValues.length > 1\n                    ? (plot.options.fx?.paddingInner ?? plot.options.fx?.padding ?? 0.1)\n                    : 0\n            )\n            .domain(fxValues)\n            .rangeRound([0, plot.plotWidth])\n    );\n    const facetYScale = $derived(\n        scaleBand()\n            .paddingOuter(0)\n            .paddingInner(\n                fyValues.length > 1\n                    ? (plot.options.fy?.paddingInner ?? plot.options.fy?.padding ?? 0.1)\n                    : 0\n            )\n            .domain(fyValues)\n            .rangeRound([0, plot.plotHeight])\n    );\n\n    const facetWidth = $derived(useFacetX ? facetXScale.bandwidth() : plot.plotWidth);\n    const facetHeight = $derived(useFacetY ? facetYScale.bandwidth() : plot.plotHeight);\n\n    $effect.pre(() => {\n        updateDimensions(facetWidth, facetHeight);\n    });\n</script>\n\n{#each fxValues as facetX, i (i)}\n    {#each fyValues as facetY, j (j)}\n        <g\n            class=\"facet\"\n            data-facet-x={i}\n            data-facet-y={j}\n            data-facet={i * fyValues.length + j}\n            fill=\"currentColor\"\n            style:display={emptyFacets.get(facetX)?.get(facetY) ? 'none' : 'block'}\n            transform=\"translate({useFacetX ? facetXScale(facetX) : 0}, {useFacetY\n                ? facetYScale(facetY)\n                : 0})\">\n            <!-- facets need invisible rect -->\n            <rect\n                x={plot.options.marginLeft}\n                y={plot.options.marginTop}\n                width={facetWidth}\n                height={facetHeight}\n                fill=\"transparent\"\n                pointer-events=\"all\" />\n            <Facet\n                fx={facetX}\n                fy={facetY}\n                left={i === 0}\n                right={i === fxValues.length - 1}\n                top={j === 0}\n                bottom={j === fyValues.length - 1}\n                leftEmpty={!!(i === 0 || emptyFacets.get(fxValues[i - 1])?.get(facetY))}\n                topEmpty={!!(j === 0 || emptyFacets.get(facetX)?.get(fyValues[j - 1]))}\n                rightEmpty={!!(\n                    i === fxValues.length - 1 || emptyFacets.get(fxValues[i + 1])?.get(facetY)\n                )}\n                bottomEmpty={!!(\n                    j === fyValues.length - 1 || emptyFacets.get(facetX)?.get(fyValues[j + 1])\n                )}>\n                {@render children()}\n            </Facet>\n        </g>\n    {/each}\n{/each}\n", "function isObject(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\nexport default function mergeDeep(target, ...sources) {\n    if (!sources.length)\n        return target;\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (!target[key]) {\n                    Object.assign(target, { [key]: {} });\n                }\n                else {\n                    target[key] = Object.assign({}, target[key]);\n                }\n                mergeDeep(target[key], source[key]);\n            }\n            else if (source[key] !== null) {\n                Object.assign(target, { [key]: source[key] });\n            }\n        }\n    }\n    return mergeDeep(target, ...sources);\n}\n", "export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n", "export default function noop() {}\n", "function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n", "import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n", "import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n", "export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n", "import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n", "import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n", "import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n", "import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n", "import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n", "import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n", "import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n", "import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n", "import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n", "export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n", "import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n", "import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n", "export default x => x;\n", "import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n", "import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n", "import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n", "import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n", "import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n", "// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n", "import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n", "export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n", "import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n", "import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n", "import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n", "import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n", "import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n", "import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n", "import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n", "import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n", "import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n", "import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n", "import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n", "import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n", "import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n", "import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n", "import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n", "import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n", "import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n", "import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n", "import { geoClipRectangle, geoPath, geoTransform } from 'd3-geo';\nimport { constant, isObject } from './index.js';\nconst identity = constant({ stream: (stream) => stream });\nconst defaultAspectRatio = 0.618;\nexport function createProjection({ projOptions, inset: globalInset = 2, insetTop = globalInset, insetRight = globalInset, insetBottom = globalInset, insetLeft = globalInset } = {}, dimensions) {\n    // no projection defined\n    if (projOptions == null)\n        return;\n    // projection function passed as projection option\n    if (typeof projOptions.stream === 'function')\n        return projOptions; // d3 projection\n    let options;\n    let domain;\n    let clip = 'frame';\n    // If the projection was specified as an object with additional options,\n    // extract those. The order of precedence for insetTop (and other insets) is:\n    // projection.insetTop, projection.inset, (global) insetTop, (global) inset.\n    // Any other options on this object will be passed through to the initializer.\n    if (isObject(projOptions)) {\n        let inset;\n        ({\n            type: projOptions,\n            domain,\n            inset,\n            insetTop = inset !== undefined ? inset : insetTop,\n            insetRight = inset !== undefined ? inset : insetRight,\n            insetBottom = inset !== undefined ? inset : insetBottom,\n            insetLeft = inset !== undefined ? inset : insetLeft,\n            clip = clip,\n            ...options\n        } = projOptions);\n        if (projOptions == null)\n            return;\n    }\n    // let projFactory;\n    let aspectRatio = defaultAspectRatio;\n    const projFactory = projOptions;\n    // Compute the frame dimensions and invoke the projection initializer.\n    const { width, height, marginLeft, marginRight, marginTop, marginBottom } = dimensions;\n    const dx = width - marginLeft - marginRight - insetLeft - insetRight;\n    const dy = height - marginTop - marginBottom - insetTop - insetBottom;\n    const projInstance = projFactory?.({ width: dx, height: dy, clip, ...options });\n    // The projection initializer might decide to not use a projection.\n    if (projInstance == null)\n        return;\n    clip = maybePostClip(clip, marginLeft, marginTop, width - marginRight, height - marginBottom);\n    // Translate the origin to the top-left corner, respecting margins and insets.\n    let tx = marginLeft + insetLeft;\n    let ty = marginTop + insetTop;\n    let transform;\n    let invertTransform = (d) => d;\n    // If a domain is specified, fit the projection to the frame.\n    if (domain != null && dx > 0 && dy > 0) {\n        const [[x0, y0], [x1, y1]] = geoPath(projInstance).bounds(domain);\n        const k = Math.min(dx / (x1 - x0), dy / (y1 - y0));\n        aspectRatio = (y1 - y0) / (x1 - x0);\n        // aspectRatio = 1/k;\n        if (k > 0) {\n            tx -= (k * (x0 + x1) - dx) / 2;\n            ty -= (k * (y0 + y1) - dy) / 2;\n            transform = geoTransform({\n                point(x, y) {\n                    this.stream.point(x * k + tx, y * k + ty);\n                }\n            });\n            invertTransform = ([x, y]) => [(x - tx) / k, (y - ty) / k];\n        }\n        else {\n            // eslint-disable-next-line no-console\n            console.warn(`Warning: the projection could not be fit to the specified domain; using the default scale.`);\n        }\n    }\n    else if (domain != null) {\n        // eslint-disable-next-line no-console\n        console.warn(`Warning: the projection could not be fit to the specified domain; using the default scale.`);\n    }\n    transform ??=\n        tx === 0 && ty === 0\n            ? identity()\n            : geoTransform({\n                point(x, y) {\n                    this.stream.point(x + tx, y + ty);\n                }\n            });\n    invertTransform ??= ([x, y]) => [x - tx, y - ty];\n    return {\n        aspectRatio,\n        invert([x, y]) {\n            return projInstance.invert(invertTransform([x, y]));\n        },\n        stream: (s) => projInstance.stream(transform.stream(clip(s)))\n    };\n}\nfunction maybePostClip(clip, x1, y1, x2, y2) {\n    if (clip === false || clip == null || typeof clip === 'number')\n        return (s) => s;\n    if (clip === true)\n        clip = 'frame';\n    switch (`${clip}`.toLowerCase()) {\n        case 'frame':\n            return geoClipRectangle(x1, y1, x2, y2);\n        default:\n            throw new Error(`unknown projection clip type: ${clip}`);\n    }\n}\n", "/**\n * @license\n * Copyright 2020-2023 Observable, Inc.\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n */\nimport { bisector } from 'd3-array';\nimport { utcSecond, utcMinute, utcHour, unixDay, utcWeek, utcMonth, utcYear, utcMonday, utcTuesday, utcWednesday, utcThursday, utcFriday, utcSaturday, utcSunday, timeSecond, timeMinute, timeHour, timeDay, timeWeek, timeMonth, timeYear, timeMonday, timeTuesday, timeWednesday, timeThursday, timeFriday, timeSaturday, timeSunday } from 'd3-time';\n// import {orderof} from \"./options.js\";\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n// See https://github.com/d3/d3-time/blob/9e8dc940f38f78d7588aad68a54a25b1f0c2d97b/src/ticks.js#L14-L33\nconst tickIntervals = [\n    ['millisecond', 1],\n    ['2 milliseconds', 2],\n    ['5 milliseconds', 5],\n    ['10 milliseconds', 10],\n    ['20 milliseconds', 20],\n    ['50 milliseconds', 50],\n    ['100 milliseconds', 100],\n    ['200 milliseconds', 200],\n    ['500 milliseconds', 500],\n    ['second', durationSecond],\n    ['5 seconds', 5 * durationSecond],\n    ['15 seconds', 15 * durationSecond],\n    ['30 seconds', 30 * durationSecond],\n    ['minute', durationMinute],\n    ['5 minutes', 5 * durationMinute],\n    ['15 minutes', 15 * durationMinute],\n    ['30 minutes', 30 * durationMinute],\n    ['hour', durationHour],\n    ['3 hours', 3 * durationHour],\n    ['6 hours', 6 * durationHour],\n    ['12 hours', 12 * durationHour],\n    ['day', durationDay],\n    ['2 days', 2 * durationDay],\n    ['week', durationWeek],\n    ['2 weeks', 2 * durationWeek], // https://github.com/d3/d3-time/issues/46\n    ['month', durationMonth],\n    ['3 months', 3 * durationMonth],\n    ['6 months', 6 * durationMonth], // https://github.com/d3/d3-time/issues/46\n    ['year', durationYear],\n    ['2 years', 2 * durationYear],\n    ['5 years', 5 * durationYear],\n    ['10 years', 10 * durationYear],\n    ['20 years', 20 * durationYear],\n    ['50 years', 50 * durationYear],\n    ['100 years', 100 * durationYear] // TODO generalize to longer time scales\n];\nexport const durations = new Map([\n    ['second', durationSecond],\n    ['minute', durationMinute],\n    ['hour', durationHour],\n    ['day', durationDay],\n    ['monday', durationWeek],\n    ['tuesday', durationWeek],\n    ['wednesday', durationWeek],\n    ['thursday', durationWeek],\n    ['friday', durationWeek],\n    ['saturday', durationWeek],\n    ['sunday', durationWeek],\n    ['week', durationWeek],\n    ['month', durationMonth],\n    ['year', durationYear]\n]);\nconst timeIntervals = new Map([\n    ['second', timeSecond],\n    ['minute', timeMinute],\n    ['hour', timeHour],\n    ['day', timeDay], // https://github.com/d3/d3-time/issues/62\n    ['monday', timeMonday],\n    ['tuesday', timeTuesday],\n    ['wednesday', timeWednesday],\n    ['thursday', timeThursday],\n    ['friday', timeFriday],\n    ['saturday', timeSaturday],\n    ['sunday', timeSunday],\n    ['week', timeWeek],\n    ['month', timeMonth],\n    ['year', timeYear]\n]);\nconst utcIntervals = new Map([\n    ['second', utcSecond],\n    ['minute', utcMinute],\n    ['hour', utcHour],\n    ['day', unixDay],\n    ['monday', utcMonday],\n    ['tuesday', utcTuesday],\n    ['wednesday', utcWednesday],\n    ['thursday', utcThursday],\n    ['friday', utcFriday],\n    ['saturday', utcSaturday],\n    ['sunday', utcSunday],\n    ['week', utcWeek],\n    ['month', utcMonth],\n    ['year', utcYear]\n]);\n// These hidden fields describe standard intervals so that we can, for example,\n// generalize a scale’s time interval to a larger ticks time interval to reduce\n// the number of displayed ticks. TODO We could instead allow the interval\n// implementation to expose a “generalize” method that returns a larger, aligned\n// interval; that would allow us to move this logic to D3, and allow\n// generalization even when a custom interval is provided.\nexport const intervalDuration = Symbol('intervalDuration');\nexport const intervalType = Symbol('intervalType');\n// We greedily mutate D3’s standard intervals on load so that the hidden fields\n// are available even if specified as e.g. d3.utcMonth instead of \"month\".\nfor (const [name, interval] of timeIntervals) {\n    interval[intervalDuration] = durations.get(name);\n    interval[intervalType] = 'time';\n}\nfor (const [name, interval] of utcIntervals) {\n    interval[intervalDuration] = durations.get(name);\n    interval[intervalType] = 'utc';\n}\nconst utcFormatIntervals = [\n    ['year', utcYear, 'utc'],\n    ['month', utcMonth, 'utc'],\n    ['day', unixDay, 'utc', 6 * durationMonth],\n    ['hour', utcHour, 'utc', 3 * durationDay],\n    ['minute', utcMinute, 'utc', 6 * durationHour],\n    ['second', utcSecond, 'utc', 30 * durationMinute]\n];\nconst timeFormatIntervals = [\n    ['year', timeYear, 'time'],\n    ['month', timeMonth, 'time'],\n    ['day', timeDay, 'time', 6 * durationMonth],\n    ['hour', timeHour, 'time', 3 * durationDay],\n    ['minute', timeMinute, 'time', 6 * durationHour],\n    ['second', timeSecond, 'time', 30 * durationMinute]\n];\n// An interleaved array of UTC and local time intervals, in descending order\n// from largest to smallest, used to determine the most specific standard time\n// format for a given array of dates. This is a subset of the tick intervals\n// listed above; we only need the breakpoints where the format changes.\nconst formatIntervals = [\n    utcFormatIntervals[0],\n    timeFormatIntervals[0],\n    utcFormatIntervals[1],\n    timeFormatIntervals[1],\n    utcFormatIntervals[2],\n    timeFormatIntervals[2],\n    // Below day, local time typically has an hourly offset from UTC and hence the\n    // two are aligned and indistinguishable; therefore, we only consider UTC, and\n    // we don’t consider these if the domain only has a single value.\n    ...utcFormatIntervals.slice(3)\n];\nexport function parseTimeInterval(input) {\n    let name = `${input}`.toLowerCase();\n    if (name.endsWith('s'))\n        name = name.slice(0, -1); // drop plural\n    let period = 1;\n    const match = /^(\\d+)\\s+/.exec(name);\n    if (match) {\n        name = name.slice(match[0].length);\n        period = +match[1];\n    }\n    switch (name) {\n        case 'quarter':\n            name = 'month';\n            period *= 3;\n            break;\n        case 'half':\n            name = 'month';\n            period *= 6;\n            break;\n    }\n    let interval = utcIntervals.get(name);\n    if (!interval)\n        throw new Error(`unknown interval: ${input}`);\n    if (period > 1 && !interval.every)\n        throw new Error(`non-periodic interval: ${name}`);\n    return [name, period];\n}\nexport function maybeTimeInterval(input) {\n    return asInterval(parseTimeInterval(input), 'time');\n}\nexport function maybeUtcInterval(input) {\n    return asInterval(parseTimeInterval(input), 'utc');\n}\nfunction asInterval([name, period], type) {\n    let interval = (type === 'time' ? timeIntervals : utcIntervals).get(name);\n    if (period > 1) {\n        interval = interval.every(period);\n        interval[intervalDuration] = durations.get(name) * period;\n        interval[intervalType] = type;\n    }\n    return interval;\n}\n// If the given interval is a standard time interval, we may be able to promote\n// it a larger aligned time interval, rather than showing every nth tick.\nexport function generalizeTimeInterval(interval, n) {\n    if (!(n > 1))\n        return; // no need to generalize\n    const duration = interval[intervalDuration];\n    if (!tickIntervals.some(([, d]) => d === duration))\n        return; // nonstandard or unknown interval\n    if (duration % durationDay === 0 && durationDay < duration && duration < durationMonth)\n        return; // not generalizable\n    const [i] = tickIntervals[bisector(([, step]) => Math.log(step)).center(tickIntervals, Math.log(duration * n))];\n    return (interval[intervalType] === 'time' ? maybeTimeInterval : maybeUtcInterval)(i);\n}\n// function formatTimeInterval(name, type, anchor) {\n//     const format = type === 'time' ? timeFormat : utcFormat;\n//     // For tips and legends, use a format that doesn’t require context.\n//     if (anchor == null) {\n//         return format(\n//             name === 'year'\n//                 ? '%Y'\n//                 : name === 'month'\n//                   ? '%Y-%m'\n//                   : name === 'day'\n//                     ? '%Y-%m-%d'\n//                     : name === 'hour' || name === 'minute'\n//                       ? '%Y-%m-%dT%H:%M'\n//                       : name === 'second'\n//                         ? '%Y-%m-%dT%H:%M:%S'\n//                         : '%Y-%m-%dT%H:%M:%S.%L'\n//         );\n//     }\n//     // Otherwise, assume that this is for axis ticks.\n//     const template = getTimeTemplate(anchor);\n//     switch (name) {\n//         case 'millisecond':\n//             return formatConditional(format('.%L'), format(':%M:%S'), template);\n//         case 'second':\n//             return formatConditional(format(':%S'), format('%-I:%M'), template);\n//         case 'minute':\n//             return formatConditional(format('%-I:%M'), format('%p'), template);\n//         case 'hour':\n//             return formatConditional(format('%-I %p'), format('%b %-d'), template);\n//         case 'day':\n//             return formatConditional(format('%-d'), format('%b'), template);\n//         case 'month':\n//             return formatConditional(format('%b'), format('%Y'), template);\n//         case 'year':\n//             return format('%Y');\n//     }\n//     throw new Error('unable to format time ticks');\n// }\n// function getTimeTemplate(anchor) {\n//     return anchor === 'left' || anchor === 'right'\n//         ? (f1, f2) => `\\n${f1}\\n${f2}` // extra newline to keep f1 centered\n//         : anchor === 'top'\n//           ? (f1, f2) => `${f2}\\n${f1}`\n//           : (f1, f2) => `${f1}\\n${f2}`;\n// }\n// function getFormatIntervals(type) {\n//     return type === 'time'\n//         ? timeFormatIntervals\n//         : type === 'utc'\n//           ? utcFormatIntervals\n//           : formatIntervals;\n// }\n// Given an array of dates, returns the largest compatible standard time\n// interval. If no standard interval is compatible (other than milliseconds,\n// which is universally compatible), returns undefined.\n// export function inferTimeFormat(type, dates, anchor) {\n//     const step = max(pairs(dates, (a, b) => Math.abs(b - a))); // maybe undefined!\n//     if (step < 1000) return formatTimeInterval('millisecond', 'utc', anchor);\n//     for (const [name, interval, intervalType, maxStep] of getFormatIntervals(type)) {\n//         if (step > maxStep) break; // e.g., 52 weeks\n//         if (name === 'hour' && !step) break; // e.g., domain with a single date\n//         if (dates.every((d) => interval.floor(d) >= d))\n//             return formatTimeInterval(name, intervalType, anchor);\n//     }\n// }\n// function formatConditional(format1, format2, template) {\n//     return (x, i, X) => {\n//         const f1 = format1(x, i); // always shown\n//         const f2 = format2(x, i); // only shown if different\n//         const j = i - orderof(X); // detect reversed domains\n//         return i !== j && X[j] !== undefined && f2 === format2(X[j], j) ? f1 : template(f1, f2);\n//     };\n// }\n", "import { maybeTimeInterval } from './time.js';\nimport { extent, range as rangei } from 'd3-array';\nexport function maybeInterval(interval) {\n    if (interval == null)\n        return;\n    if (typeof interval === 'number') {\n        if (0 < interval && interval < 1 && Number.isInteger(1 / interval))\n            interval = -1 / interval;\n        const n = Math.abs(interval);\n        return interval < 0\n            ? {\n                floor: (d) => Math.floor(d * n) / n,\n                round: (d) => Math.round(d * n) / n,\n                offset: (d) => (d * n + 1) / n, // note: no optional step for simplicity\n                range: (lo, hi) => rangei(Math.ceil(lo * n), hi * n).map((x) => x / n)\n            }\n            : {\n                floor: (d) => Math.floor(d / n) * n,\n                round: (d) => Math.round(d / n) * n,\n                offset: (d) => d + n, // note: no optional step for simplicity\n                range: (lo, hi) => rangei(Math.ceil(lo / n), hi / n).map((x) => x * n)\n            };\n    }\n    if (typeof interval === 'string')\n        return maybeTimeInterval(interval);\n    if (typeof interval.floor !== 'function')\n        throw new Error('invalid interval; missing floor method');\n    if (typeof interval.offset !== 'function')\n        throw new Error('invalid interval; missing offset method');\n    return interval;\n}\nexport function autoTicks(type, ticks, interval, domain, scaleFn, count) {\n    if (ticks)\n        return ticks;\n    if (interval) {\n        const [lo, hi] = extent(domain);\n        if (lo == null || hi == null)\n            return [];\n        const I = maybeInterval(interval);\n        return I.range(lo, I.offset(hi)).filter((d) => d >= lo && d <= hi);\n    }\n    return typeof scaleFn.ticks === 'function' ? scaleFn.ticks(count) : [];\n}\n", "export default Math.random;\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomInt(source) {\n  function randomInt(min, max) {\n    if (arguments.length < 2) max = min, min = 0;\n    min = Math.floor(min);\n    max = Math.floor(max) - min;\n    return function() {\n      return Math.floor(source() * max + min);\n    };\n  }\n\n  randomInt.source = sourceRandomInt;\n\n  return randomInt;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomLogNormal(source) {\n  var N = normal.source(source);\n\n  function randomLogNormal() {\n    var randomNormal = N.apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    if ((n = +n) <= 0) return () => 0;\n    return function() {\n      for (var sum = 0, i = n; i > 1; --i) sum += source();\n      return sum + i * source();\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport irwinHall from \"./irwinHall.js\";\n\nexport default (function sourceRandomBates(source) {\n  var I = irwinHall.source(source);\n\n  function randomBates(n) {\n    // use limiting distribution at n === 0\n    if ((n = +n) === 0) return source;\n    var randomIrwinHall = I(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log1p(-source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomPareto(source) {\n  function randomPareto(alpha) {\n    if ((alpha = +alpha) < 0) throw new RangeError(\"invalid alpha\");\n    alpha = 1 / -alpha;\n    return function() {\n      return Math.pow(1 - source(), alpha);\n    };\n  }\n\n  randomPareto.source = sourceRandomPareto;\n\n  return randomPareto;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomBernoulli(source) {\n  function randomBernoulli(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    return function() {\n      return Math.floor(source() + p);\n    };\n  }\n\n  randomBernoulli.source = sourceRandomBernoulli;\n\n  return randomBernoulli;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomGeometric(source) {\n  function randomGeometric(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    if (p === 0) return () => Infinity;\n    if (p === 1) return () => 1;\n    p = Math.log1p(-p);\n    return function() {\n      return 1 + Math.floor(Math.log1p(-source()) / p);\n    };\n  }\n\n  randomGeometric.source = sourceRandomGeometric;\n\n  return randomGeometric;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomGamma(source) {\n  var randomNormal = normal.source(source)();\n\n  function randomGamma(k, theta) {\n    if ((k = +k) < 0) throw new RangeError(\"invalid k\");\n    // degenerate distribution if k === 0\n    if (k === 0) return () => 0;\n    theta = theta == null ? 1 : +theta;\n    // exponential distribution if k === 1\n    if (k === 1) return () => -Math.log1p(-source()) * theta;\n\n    var d = (k < 1 ? k + 1 : k) - 1 / 3,\n        c = 1 / (3 * Math.sqrt(d)),\n        multiplier = k < 1 ? () => Math.pow(source(), 1 / k) : () => 1;\n    return function() {\n      do {\n        do {\n          var x = randomNormal(),\n              v = 1 + c * x;\n        } while (v <= 0);\n        v *= v * v;\n        var u = 1 - source();\n      } while (u >= 1 - 0.0331 * x * x * x * x && Math.log(u) >= 0.5 * x * x + d * (1 - v + Math.log(v)));\n      return d * v * multiplier() * theta;\n    };\n  }\n\n  randomGamma.source = sourceRandomGamma;\n\n  return randomGamma;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomBeta(source) {\n  var G = gamma.source(source);\n\n  function randomBeta(alpha, beta) {\n    var X = G(alpha),\n        Y = G(beta);\n    return function() {\n      var x = X();\n      return x === 0 ? 0 : x / (x + Y());\n    };\n  }\n\n  randomBeta.source = sourceRandomBeta;\n\n  return randomBeta;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport beta from \"./beta.js\";\nimport geometric from \"./geometric.js\";\n\nexport default (function sourceRandomBinomial(source) {\n  var G = geometric.source(source),\n      B = beta.source(source);\n\n  function randomBinomial(n, p) {\n    n = +n;\n    if ((p = +p) >= 1) return () => n;\n    if (p <= 0) return () => 0;\n    return function() {\n      var acc = 0, nn = n, pp = p;\n      while (nn * pp > 16 && nn * (1 - pp) > 16) {\n        var i = Math.floor((nn + 1) * pp),\n            y = B(i, nn - i + 1)();\n        if (y <= pp) {\n          acc += i;\n          nn -= i;\n          pp = (pp - y) / (1 - y);\n        } else {\n          nn = i - 1;\n          pp /= y;\n        }\n      }\n      var sign = pp < 0.5,\n          pFinal = sign ? pp : 1 - pp,\n          g = G(pFinal);\n      for (var s = g(), k = 0; s <= nn; ++k) s += g();\n      return acc + (sign ? k : nn - k);\n    };\n  }\n\n  randomBinomial.source = sourceRandomBinomial;\n\n  return randomBinomial;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomWeibull(source) {\n  function randomWeibull(k, a, b) {\n    var outerFunc;\n    if ((k = +k) === 0) {\n      outerFunc = x => -Math.log(x);\n    } else {\n      k = 1 / k;\n      outerFunc = x => Math.pow(x, k);\n    }\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * outerFunc(-Math.log1p(-source()));\n    };\n  }\n\n  randomWeibull.source = sourceRandomWeibull;\n\n  return randomWeibull;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomCauchy(source) {\n  function randomCauchy(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * Math.tan(Math.PI * source());\n    };\n  }\n\n  randomCauchy.source = sourceRandomCauchy;\n\n  return randomCauchy;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomLogistic(source) {\n  function randomLogistic(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      var u = source();\n      return a + b * Math.log(u / (1 - u));\n    };\n  }\n\n  randomLogistic.source = sourceRandomLogistic;\n\n  return randomLogistic;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function() {\n      var acc = 0, l = lambda;\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n\n  return randomPoisson;\n})(defaultSource);\n", "// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst mul = 0x19660D;\nconst inc = 0x3C6EF35F;\nconst eps = 1 / 0x100000000;\n\nexport default function lcg(seed = Math.random()) {\n  let state = (0 <= seed && seed < 1 ? seed / eps : Math.abs(seed)) | 0;\n  return () => (state = mul * state + inc | 0, eps * (state >>> 0));\n}\n", "import isDataRecord from '../helpers/isDataRecord.js';\nimport { resolveChannel } from '../helpers/resolve.js';\nimport { shuffler } from 'd3-array';\nimport { randomLcg } from 'd3-random';\nexport const SORT_KEY = Symbol('sortKey');\nexport const IS_SORTED = Symbol('isSorted');\nexport function sort({ data, ...channels }, options = {}) {\n    if (!Array.isArray(data))\n        return { data, ...channels };\n    if (channels.sort) {\n        const { sort } = channels;\n        if (isDataRecord(sort) &&\n            typeof sort.channel === 'string' &&\n            sort.channel.charAt(0) === '-') {\n            sort.channel = sort.channel.substring(1);\n            sort.order = 'descending';\n        }\n        // if sort is a function that does not take exactly one argument, we treat it\n        // as comparator function, as you would pass to array.sort\n        const isComparator = typeof channels.sort === 'function' && channels.sort.length !== 1;\n        // sort data\n        return {\n            data: isComparator\n                ? data.toSorted(channels.sort)\n                : data\n                    .map((d) => ({\n                    ...d,\n                    [SORT_KEY]: resolveChannel('sort', d, { ...channels, sort })\n                }))\n                    .map((d) => ({\n                    ...d,\n                    [SORT_KEY]: typeof d[SORT_KEY] === 'number' && !Number.isFinite(d[SORT_KEY])\n                        ? Number.POSITIVE_INFINITY\n                        : d[SORT_KEY]\n                }))\n                    .toSorted((a, b) => (typeof a[SORT_KEY] === 'string' && typeof b[SORT_KEY] === 'string'\n                    ? a[SORT_KEY].localeCompare(b[SORT_KEY])\n                    : a[SORT_KEY] > b[SORT_KEY]\n                        ? 1\n                        : a[SORT_KEY] < b[SORT_KEY]\n                            ? -1\n                            : 0) *\n                    (options.reverse ||\n                        (isDataRecord(sort) && sort?.order === 'descending')\n                        ? -1\n                        : 1))\n                    .map(({ [SORT_KEY]: a, ...rest }) => rest),\n            ...channels,\n            [IS_SORTED]: sort,\n            // set the sort channel to null to disable the implicit alphabetical\n            // ordering of ordinal domains, and also to avoid double sorting in case\n            // this transform is used \"outside\" a mark\n            sort: null\n        };\n    }\n    return {\n        data,\n        ...channels\n    };\n}\n/**\n * shuffles the data row order\n */\nexport function shuffle({ data, ...channels }, options = {}) {\n    const random = randomLcg(options.seed);\n    const shuffle = shuffler(random);\n    return {\n        data: shuffle([...data]),\n        ...channels,\n        // set the sort channel to null to disable the implicit\n        // alphabetical ordering of ordinal domains\n        sort: null,\n        [IS_SORTED]: true\n    };\n}\n/**\n * reverses the data row order\n */\nexport function reverse({ data, ...channels }) {\n    return {\n        data: data.toReversed(),\n        ...channels,\n        // set the sort channel to null to disable the implicit\n        // alphabetical ordering of ordinal domains\n        sort: null,\n        [IS_SORTED]: true\n    };\n}\n", "import { extent, ascending } from 'd3-array';\nimport { isColorOrNull, isDate, isDateOrNull, isNumberOrNull, isNumberOrNullOrNaN, isStringOrNull } from './typeChecks.js';\nimport { CHANNEL_SCALE, ORIGINAL_NAME_KEYS, VALID_SCALE_TYPES } from '../constants.js';\nimport { isSymbolOrNull } from './typeChecks.js';\nimport { resolveProp, toChannelOption } from './resolve.js';\nimport isDataRecord from './isDataRecord.js';\nimport { createProjection } from './projection.js';\nimport { maybeInterval } from './autoTicks.js';\nimport { IS_SORTED } from '../transforms/sort.js';\n/**\n * compute the plot scales\n */\nexport function computeScales(plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, marks, plotDefaults) {\n    const x = createScale('x', plotOptions.x, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults);\n    const y = createScale('y', plotOptions.y, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults);\n    const r = createScale('r', plotOptions.r, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults);\n    const color = createScale('color', plotOptions.color, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults);\n    const opacity = createScale('opacity', plotOptions.opacity, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults);\n    const length = createScale('length', plotOptions.length, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults);\n    const symbol = createScale('symbol', plotOptions.symbol, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults);\n    // create fx and fy scales from mark data directly\n    const fx = createScale('fx', plotOptions.fx, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults);\n    const fy = createScale('fy', plotOptions.fy, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults);\n    const projection = plotOptions.projection\n        ? createProjection({ projOptions: plotOptions.projection, inset: plotOptions.inset }, {\n            width: plotWidth,\n            height: plotHeight,\n            marginBottom: plotOptions.marginBottom,\n            marginLeft: plotOptions.marginLeft,\n            marginRight: plotOptions.marginRight,\n            marginTop: plotOptions.marginTop\n        })\n        : null;\n    return { x, y, r, color, opacity, length, symbol, fx, fy, projection };\n}\nexport function createScale(name, scaleOptions, marks, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults) {\n    if (!plotOptions.implicitScales && !scaleOptions.scale) {\n        // no scale defined, return a dummy scale\n        const fn = name === 'color' ? () => 'currentColor' : () => 0;\n        fn.range = name === 'color' ? () => ['currentColor'] : () => [0];\n        return { type: 'linear', domain: [0], range: [0], fn, skip: new Map(), isDummy: true };\n    }\n    // gather all marks that use channels which support this scale\n    const dataValues = new Set();\n    const allDataValues = [];\n    const markTypes = new Set();\n    const skip = new Map();\n    let manualActiveMarks = 0;\n    const propNames = new Set();\n    const uniqueScaleProps = new Set();\n    let sortOrdinalDomain = plotOptions.sortOrdinalDomains ?? true;\n    for (const mark of marks) {\n        // we only sort the scale domain alphabetically, if none of the\n        // marks that map to it are using the `sort` transform. Note that\n        // we're deliberately checking for !== undefined and not for != null\n        // since the explicit sort transforms like shuffle will set the\n        // sort channel to null to we know that there's an explicit order\n        if ((name === 'x' || name === 'y') && mark.options[IS_SORTED] != undefined) {\n            sortOrdinalDomain = false;\n        }\n        for (const channel of mark.channels) {\n            // channelOptions can be passed as prop, but most often users will just\n            // pass the channel accessor or constant value, so we may need to wrap\n            if (!skip.has(channel))\n                skip.set(channel, new Set());\n            if (mark.data.length > 0) {\n                const channelOptions = isDataRecord(mark.options[channel])\n                    ? mark.options[channel]\n                    : { value: mark.options[channel], scale: CHANNEL_SCALE[channel] };\n                // check if this mark channel is using this scale, which users can prevent\n                // by passing `{ scale: null }` as prop\n                const useScale = channelOptions.scale === name &&\n                    // only use scale if implicit scales are enabled or use has explicitly\n                    // defined a scale\n                    (plotOptions.implicitScales || scaleOptions.scale) &&\n                    // type number means, someone is defining a channel as constant, e.g.\n                    // <Dot r={10} /> in which case we don't want to pass it through a scale\n                    // typeof channelOptions.value !== 'number' &&\n                    typeof channelOptions.value !== 'undefined';\n                if (useScale) {\n                    if (name === 'opacity' && looksLikeOpacity(channelOptions.value)) {\n                        // special handling for opacity scales, where any accessor that looks like\n                        // a number between 0 and 1 will be interpreted as output type\n                        skip.get(channel).add(mark.id);\n                    }\n                    else {\n                        const isOutputType = name === 'color'\n                            ? isColorOrNull\n                            : name === 'symbol'\n                                ? isSymbolOrNull\n                                : false;\n                        let allValuesAreOutputType = !!isOutputType && mark.data.length > 0;\n                        if (isOutputType) {\n                            for (const datum of mark.data) {\n                                const val = resolveProp(channelOptions.value, datum);\n                                allValuesAreOutputType =\n                                    allValuesAreOutputType && val !== null && isOutputType(val);\n                                if (!allValuesAreOutputType)\n                                    break;\n                            }\n                        }\n                        if (allValuesAreOutputType) {\n                            skip.get(channel).add(mark.id);\n                        }\n                        if (typeof channelOptions.value === 'string' &&\n                            !looksLikeANumber(channelOptions.value) &&\n                            !channelOptions.value.startsWith('__') &&\n                            mark.data[0][channelOptions.value] !== undefined) {\n                            propNames.add(channelOptions.value);\n                        }\n                        uniqueScaleProps.add(channelOptions.value);\n                        if (channelOptions.value != null && !allValuesAreOutputType) {\n                            manualActiveMarks++;\n                            markTypes.add(mark.type);\n                            // active mark channel\n                            for (const datum of mark.data) {\n                                const value = resolveProp(channelOptions.value, datum);\n                                dataValues.add(value);\n                                if ((name === 'color' && scaleOptions.type === 'quantile') ||\n                                    scaleOptions.type === 'quantile-cont') {\n                                    allDataValues.push(value);\n                                }\n                            }\n                        }\n                    }\n                }\n                // special handling of marks using the stackX/stackY transform\n                if ((name === 'x' || name === 'y') &&\n                    mark.options[ORIGINAL_NAME_KEYS[name]] &&\n                    !mark.options[ORIGINAL_NAME_KEYS[name]].startsWith('__')) {\n                    propNames.add(mark.options[ORIGINAL_NAME_KEYS[name]]);\n                }\n            }\n            else {\n                // also skip marks without data to prevent exceptions\n                // (skip.get(channel) as Set<symbol>).add(mark.id);\n            }\n        }\n    }\n    if ((name === 'x' || name === 'y') && scaleOptions.sort) {\n        sortOrdinalDomain = true;\n    }\n    if ((name === 'x' || name === 'y') && scaleOptions.sort === false) {\n        sortOrdinalDomain = false;\n    }\n    // construct domain from data values\n    const valueArr = [...dataValues.values(), ...(scaleOptions.domain || [])].filter((d) => d != null);\n    const type = scaleOptions.type === 'auto'\n        ? inferScaleType(name, valueArr, markTypes, scaleOptions)\n        : scaleOptions.type;\n    if (VALID_SCALE_TYPES[name] && !VALID_SCALE_TYPES[name].has(type)) {\n        throw new Error(`Invalid scale type ${type} for scale\n            ${name}. Valid types are ${[...VALID_SCALE_TYPES[name]].join(', ')}`);\n    }\n    const isOrdinal = isOrdinalScale(type);\n    if (isOrdinal && sortOrdinalDomain) {\n        valueArr.sort(ascending);\n    }\n    const valueArray = type === 'quantile' || type === 'quantile-cont' ? allDataValues.toSorted() : valueArr;\n    let domain = scaleOptions.domain\n        ? isOrdinal\n            ? scaleOptions.domain\n            : extent(scaleOptions.zero ? [0, ...scaleOptions.domain] : scaleOptions.domain)\n        : type === 'band' ||\n            type === 'point' ||\n            type === 'ordinal' ||\n            type === 'categorical' ||\n            type === 'quantile' ||\n            type === 'quantile-cont'\n            ? name === 'y'\n                ? valueArray.toReversed()\n                : valueArray\n            : extent(scaleOptions.zero ? [0, ...valueArray] : valueArray);\n    if (scaleOptions.interval) {\n        if (isOrdinal) {\n            domain = domainFromInterval(domain, scaleOptions.interval, name);\n        }\n        else {\n            if (markTypes.size > 0) {\n                console.error('Setting interval via axis options is only supported for ordinal scales');\n            }\n        }\n    }\n    if (!scaleOptions.scale) {\n        throw new Error(`No scale function defined for ${name}`);\n    }\n    const fn = scaleOptions.scale({\n        name,\n        type,\n        domain,\n        scaleOptions,\n        plotOptions,\n        plotWidth,\n        plotHeight,\n        plotHasFilledDotMarks,\n        plotDefaults\n    });\n    const range = fn.range();\n    return {\n        type,\n        domain,\n        range,\n        fn,\n        skip,\n        manualActiveMarks,\n        uniqueScaleProps,\n        autoTitle: type === 'time'\n            ? null\n            : propNames.size === 1\n                ? `${[...propNames.values()][0]}${type === 'log' ? ' (log)' : ''}`\n                : null\n    };\n}\nfunction domainFromInterval(domain, interval, name) {\n    const interval_ = maybeInterval(interval);\n    const [lo, hi] = extent(domain);\n    const out = interval_.range(lo, interval_.offset(hi));\n    return name === 'y' ? out.toReversed() : out;\n}\nconst markTypesWithBandDefault = {\n    x: new Set(['barY', 'cell', 'tickY', 'waffleY']),\n    y: new Set(['barX', 'cell', 'tickX', 'waffleX'])\n};\n/**\n * Infer a scale type based on the scale name, the data values mapped to it and\n * the mark types that are bound to the scale\n */\nexport function inferScaleType(name, dataValues, markTypes, scaleOptions = {}) {\n    if (name === 'color') {\n        if (!dataValues.length)\n            return 'ordinal';\n        if (dataValues.every(isNumberOrNullOrNaN))\n            return 'linear';\n        if (dataValues.every(isDateOrNull))\n            return 'linear';\n        if (dataValues.every(isStringOrNull))\n            return 'categorical';\n        return 'categorical';\n    }\n    if (name === 'symbol')\n        return 'ordinal';\n    if (name === 'x' || name === 'y') {\n        // if for a positional scale we may infer the scale type from the scale options\n        if (scaleOptions.nice || scaleOptions.zero)\n            return 'linear';\n        if (scaleOptions.domain && scaleOptions.domain.length === 2) {\n            if (scaleOptions.domain.every(Number.isFinite))\n                return 'linear';\n            if (scaleOptions.domain.every(isDate))\n                return 'time';\n        }\n    }\n    // for positional scales, try to pick a scale that's required by the mark types\n    if (name === 'y' && Array.from(markTypes).some((d) => markTypesWithBandDefault.y.has(d)))\n        return 'band';\n    if (name === 'x' && Array.from(markTypes).some((d) => markTypesWithBandDefault.x.has(d)))\n        return 'band';\n    if (!dataValues.length)\n        return 'linear';\n    if (dataValues.length === 1)\n        return 'point';\n    if (dataValues.every(isNumberOrNull))\n        return name === 'r' ? 'sqrt' : 'linear';\n    if (dataValues.every(isDateOrNull))\n        return 'time';\n    if (dataValues.every(isStringOrNull))\n        return 'point';\n    return 'linear';\n}\nconst scaledChannelNames = [\n    'x',\n    'x1',\n    'x2',\n    'y',\n    'y1',\n    'y2',\n    'r',\n    'opacity',\n    'fill',\n    'fillOpacity',\n    'stroke',\n    'strokeOpacity',\n    'symbol',\n    'length'\n];\n/**\n * Mark channels can explicitly or implicitly be exempt from being\n * mapped to a scale, so everywhere where values are being mapped to\n * scales, we need to check if the scale is supposed to be used\n * not. That's what this function is used for.\n */\nexport function getUsedScales(plot, options, mark) {\n    return Object.fromEntries(scaledChannelNames.map((channel) => {\n        const scale = CHANNEL_SCALE[channel];\n        const skipMarks = plot.scales[scale].skip.get(channel) || new Set();\n        return [\n            channel,\n            !skipMarks.has(mark.id) &&\n                toChannelOption(channel, options[channel]).scale !== null &&\n                !plot.scales[scale].isDummy\n        ];\n    }));\n}\nexport function looksLikeANumber(input) {\n    return (Number.isFinite(input) ||\n        (typeof input === 'string' && input.trim().length > 0 && Number.isFinite(+input)));\n}\nfunction isWithin(number, min, max) {\n    return Number.isFinite(number) && number >= min && number <= max;\n}\nfunction looksLikeOpacity(input) {\n    return looksLikeANumber(input) && isWithin(+input, 0, 1);\n}\nexport function projectXY(scales, x, y, useXScale = true, useYScale = true) {\n    if (scales.projection) {\n        // TODO: pretty sure this is not how projection streams are supposed to be used\n        // efficiently, in observable plot, all data points of a mark are projected using\n        // the same stream\n        let x_, y_;\n        const stream = scales.projection.stream({\n            point(px, py) {\n                x_ = px;\n                y_ = py;\n            }\n        });\n        stream.point(x, y);\n        return [x_, y_];\n    }\n    return [\n        useXScale ? projectX('x', scales, x) : x,\n        useYScale ? projectY('y', scales, y) : y\n    ];\n}\nexport function projectX(channel, scales, value) {\n    return (scales.x.fn(value) +\n        (channel === 'x' && scales.x.type === 'band'\n            ? scales.x.fn.bandwidth() * 0.5\n            : channel === 'x2' && scales.x.type === 'band'\n                ? scales.x.fn.bandwidth()\n                : 0));\n}\nexport function projectY(channel, scales, value) {\n    return (scales.y.fn(value) +\n        (channel === 'y' && scales.y.type === 'band'\n            ? scales.y.fn.bandwidth() * 0.5\n            : channel === 'y2' && scales.y.type === 'band'\n                ? scales.y.fn.bandwidth()\n                : 0));\n}\nexport function isOrdinalScale(scaleType) {\n    return (scaleType === 'band' ||\n        scaleType === 'point' ||\n        scaleType === 'ordinal' ||\n        scaleType === 'categorical' ||\n        scaleType === 'threshold');\n}\n", "import { getContext, hasContext, setContext } from 'svelte';\nconst PLOT_DEFAULTS_KEY = Symbol('svelteplot/defaults');\nexport function setPlotDefaults(plotDefaults) {\n    const existingDefaults = getPlotDefaults();\n    const mergedDefaults = { ...existingDefaults, ...plotDefaults };\n    setContext(PLOT_DEFAULTS_KEY, mergedDefaults);\n}\nexport function getPlotDefaults() {\n    return hasContext(PLOT_DEFAULTS_KEY)\n        ? getContext(PLOT_DEFAULTS_KEY)\n        : // Fallback for backward compatibility\n            hasContext('svelteplot/defaults')\n                ? (console.error(`svelteplot: Please use new setPlotDefaults hook instead of 'svelteplot/defaults' context`),\n                    getContext('svelteplot/defaults'))\n                : {};\n}\n", "<!--\n    @component\n    The core Plot component handles the main layout of the plot but it does not\n    include smart automatic scales and marks. It is to be used in cases where\n    you want to reduce the footprint of the plot to the bare minimum.\n\n    Keep in mind that you will have to create your own scales if you're using\n    this component. \n-->\n<script lang=\"ts\">\n    import { setContext } from 'svelte';\n    import { SvelteMap } from 'svelte/reactivity';\n    import { writable } from 'svelte/store';\n\n    import type {\n        PlotOptions,\n        GenericMarkOptions,\n        Mark,\n        PlotScales,\n        ScaleName,\n        PlotScale,\n        PlotDefaults,\n        PlotState,\n        RawValue,\n        PlotMargin\n    } from '../types/index.js';\n    import FacetGrid from './FacetGrid.svelte';\n\n    import mergeDeep from '../helpers/mergeDeep.js';\n    import { computeScales, projectXY } from '../helpers/scales.js';\n    import { CHANNEL_SCALE, SCALES } from '../constants.js';\n    import { getPlotDefaults, setPlotDefaults } from '../hooks/plotDefaults.js';\n    import { maybeNumber } from '../helpers/index.js';\n    import { setPlot, usePlot } from '../hooks/usePlot.svelte.js';\n\n    // automatic margins can be applied by the marks, registered\n    // with their respective unique identifier as keys\n    let autoMarginLeft = writable(new SvelteMap<string, number>());\n    let autoMarginRight = writable(new SvelteMap<string, number>());\n    let autoMarginBottom = writable(new SvelteMap<string, number>());\n    let autoMarginTop = writable(new SvelteMap<string, number>());\n\n    // autoMargin stores are shared via context\n    setContext('svelteplot/autoMargins', {\n        autoMarginLeft,\n        autoMarginRight,\n        autoMarginBottom,\n        autoMarginTop\n    });\n\n    // compute maximum margins to either side of the plot from the\n    // automatic margins defined by marks\n    const maxMarginLeft = $derived(Math.max(...$autoMarginLeft.values()));\n    const maxMarginRight = $derived(Math.max(...$autoMarginRight.values()));\n    const maxMarginBottom = $derived(Math.max(...$autoMarginBottom.values()));\n    const maxMarginTop = $derived(Math.max(...$autoMarginTop.values()));\n\n    const USER_DEFAULTS = getPlotDefaults();\n\n    // default settings in the plot and marks can be overwritten by\n    // defining the svelteplot/defaults context outside of Plot\n    const DEFAULTS: PlotDefaults = {\n        height: 350,\n        initialWidth: 500,\n        inset: 0,\n        margin: 'auto',\n        colorScheme: 'turbo',\n        unknown: '#cccccc99',\n        sortOrdinalDomains: true,\n        categoricalColorScheme: 'observable10',\n        pointScaleHeight: 20,\n        bandScaleHeight: 30,\n        locale: 'en-US',\n        numberFormat: {\n            style: 'decimal',\n            // notation: 'compact',\n            useGrouping: 'min2',\n            compactDisplay: 'short'\n        },\n        markerDotRadius: 3,\n        ...USER_DEFAULTS,\n        axisX: {\n            anchor: 'bottom',\n            implicit: true,\n            ...USER_DEFAULTS.axis,\n            ...USER_DEFAULTS.axisX\n        },\n        axisY: {\n            anchor: 'left',\n            implicit: true,\n            ...USER_DEFAULTS.axis,\n            ...USER_DEFAULTS.axisY\n        },\n        gridX: {\n            implicit: false,\n            ...USER_DEFAULTS.grid,\n            ...USER_DEFAULTS.gridX\n        },\n        gridY: {\n            implicit: false,\n            ...USER_DEFAULTS.grid,\n            ...USER_DEFAULTS.gridY\n        }\n    };\n\n    let {\n        header,\n        footer,\n        overlay,\n        underlay,\n        children,\n        facetAxes,\n        testid,\n        facet,\n        class: className = '',\n        css = DEFAULTS.css,\n        width: fixedWidth,\n        ...initialOptions\n    }: Partial<PlotOptions> = $props();\n\n    let width = $state(DEFAULTS.initialWidth);\n\n    setPlotDefaults(DEFAULTS);\n\n    // information that influences the default plot options\n    type PlotOptionsParameters = {\n        explicitScales: Set<ScaleName>;\n        explicitDomains: Set<ScaleName>;\n        hasProjection: boolean;\n        margin?: number | 'auto';\n        inset?: number;\n    };\n\n    /**\n     * the marks used in the plot\n     */\n    let marks = $state.raw<Mark<GenericMarkOptions>[]>([]);\n\n    /**\n     *\n     */\n    const explicitMarks = $derived(marks.filter((m) => !m.options.automatic));\n\n    // knowing if the plot includes explicit grids and marks is useful for\n    // including the automatic/implicit axes/grids\n    const hasExplicitAxisX = $derived(!!explicitMarks.find((m) => m.type === 'axisX'));\n    const hasExplicitAxisY = $derived(!!explicitMarks.find((m) => m.type === 'axisY'));\n    const hasExplicitGridX = $derived(!!explicitMarks.find((m) => m.type === 'gridX'));\n    const hasExplicitGridY = $derived(!!explicitMarks.find((m) => m.type === 'gridY'));\n\n    const explicitScales = $derived(\n        new Set(\n            explicitMarks\n                .map((m) =>\n                    [...m.scales.values()].filter((scale) => {\n                        // remove the scales where no input channels are defined for this mark\n                        const channels = Object.entries(CHANNEL_SCALE)\n                            .filter(([, scaleName]) => scale === scaleName)\n                            .map(([channel]) => channel);\n                        return channels.find((channel) => m.options[channel] != null);\n                    })\n                )\n                .flat(1)\n        )\n    );\n\n    const explicitDomains = $derived(\n        new Set(SCALES.filter((scale) => !!initialOptions[scale]?.domain))\n    );\n\n    // one-dimensional plots have different automatic margins and heights\n    const isOneDimensional = $derived(explicitScales.has('x') !== explicitScales.has('y'));\n\n    // construct the plot options from the user-defined options (top-level props) as well\n    // as extending them from smart context-aware defaults\n    const plotOptions = $derived(\n        extendPlotOptions(initialOptions, {\n            explicitScales,\n            explicitDomains,\n            hasProjection: !!initialOptions.projection,\n            margin: initialOptions.margin,\n            inset: initialOptions.inset\n        })\n    );\n\n    // if the plot is showing filled dot marks we're using different defaults\n    // for the symbol axis range, so we're passing on this info to the computeScales\n    // function below\n    const hasFilledDotMarks = $derived(\n        !!explicitMarks.find((d) => d.type === 'dot' && d.options.fill)\n    );\n\n    // compute preliminary scales with a fixed height, since we don't have\n    // height defined at this point, but still need some of the scales\n    const preScales: PlotScales = $derived(\n        computeScales(plotOptions, width, 400, hasFilledDotMarks, marks, DEFAULTS)\n    );\n\n    const hasProjection = $derived(!!preScales.projection);\n\n    const plotWidth = $derived(\n        (fixedWidth || width) - plotOptions.marginLeft - plotOptions.marginRight\n    );\n\n    // the facet and y domain counts are used for computing the automatic height\n    const xFacetCount = $derived(Math.max(1, preScales.fx.domain.length));\n    const yFacetCount = $derived(Math.max(1, preScales.fy.domain.length));\n    const yDomainCount = $derived(\n        isOneDimensional && explicitScales.has('x') ? 1 : preScales.y.domain.length\n    );\n\n    const defaultPointScaleHeight = $derived(\n        explicitScales.has('r') && plotOptions.r.range\n            ? plotOptions.r.range[1] * 2\n            : DEFAULTS.pointScaleHeight\n    );\n\n    // compute the (automatic) height based on various factors:\n    // - if the plot used a projection and the projection requires an aspect ratio,\n    //   we use it, but adjust for the facet counts\n    // - if the user defined a domain-aspect ratio, we use the heightFromAspect\n    //   method to compute the height based on the preliminary x and y scales\n    // - for one-dimensional scales using the x scale we set a fixed height\n    // - for y band-scales we use the number of items in the y domain\n    const height = $derived(\n        typeof plotOptions.height === 'function'\n            ? plotOptions.height(plotWidth)\n            : maybeNumber(plotOptions.height) === null || plotOptions.height === 'auto'\n              ? Math.round(\n                    preScales.projection && preScales.projection.aspectRatio\n                        ? ((plotWidth * preScales.projection.aspectRatio) / xFacetCount) *\n                              yFacetCount +\n                              plotOptions.marginTop +\n                              plotOptions.marginBottom\n                        : plotOptions.aspectRatio\n                          ? heightFromAspect(\n                                preScales.x,\n                                preScales.y,\n                                plotOptions.aspectRatio,\n                                plotWidth,\n                                plotOptions.marginTop,\n                                plotOptions.marginBottom\n                            )\n                          : ((isOneDimensional && explicitScales.has('x')) || !explicitMarks.length\n                                ? yFacetCount * DEFAULTS.bandScaleHeight\n                                : preScales.y.type === 'band'\n                                  ? yFacetCount * yDomainCount * DEFAULTS.bandScaleHeight\n                                  : preScales.y.type === 'point'\n                                    ? yFacetCount * yDomainCount * defaultPointScaleHeight\n                                    : DEFAULTS.height) +\n                            plotOptions.marginTop +\n                            plotOptions.marginBottom\n                )\n              : maybeNumber(plotOptions.height)\n    );\n\n    const plotHeight = $derived(height - plotOptions.marginTop - plotOptions.marginBottom);\n\n    // TODO: check if there's still a reason to store and expose the plot body element\n    let plotBody: HTMLDivElement | null = $state(null);\n\n    let facetWidth: number | null = $state(null);\n    let facetHeight: number | null = $state(null);\n\n    let plotState = setPlot(computePlotState());\n\n    $effect(() => {\n        plotState.update(computePlotState());\n    });\n\n    function computePlotState() {\n        // now that we know the actual height and facet dimensions, we can compute\n        // the scales used in all the marks\n        const scales = computeScales(\n            plotOptions,\n            facetWidth || width,\n            facetHeight || height,\n            hasFilledDotMarks,\n            marks,\n            DEFAULTS\n        );\n        const colorSymbolRedundant =\n            scales.color.uniqueScaleProps?.size === 1 &&\n            scales.symbol.uniqueScaleProps?.size === 1 &&\n            [...scales.color.uniqueScaleProps?.values()][0] ===\n                [...scales.symbol.uniqueScaleProps?.values()][0];\n        return {\n            options: plotOptions,\n            width,\n            height,\n            facetWidth,\n            facetHeight,\n            plotHeight,\n            plotWidth,\n            scales,\n            colorSymbolRedundant,\n            hasFilledDotMarks,\n            body: plotBody,\n            css\n        };\n    }\n\n    setContext('svelteplot', {\n        /**\n         * used by the Mark component to register new marks to the plot\n         */\n        addMark(mark: Mark<GenericMarkOptions>) {\n            if (marks.find((m) => m.id === mark.id)) {\n                return;\n            }\n\n            marks = [...marks, mark];\n        },\n        /**\n         * used by the Mark component to update marks when its props change\n         */\n        updateMark(mark: Mark<GenericMarkOptions>) {\n            // marks = marks.map((m) => (m.id === mark.id ? mark : m));\n        },\n        /**\n         * used by the Mark component to unregister marks when their\n         * respective components get removed from the plot\n         */\n        removeMark(mark: Mark<GenericMarkOptions>) {\n            marks = marks.filter((m) => m.id !== mark.id);\n        },\n        getPlotState() {\n            return plotState;\n        },\n        getTopLevelFacet() {\n            // we need to expose the facet options to allow marks to\n            // react to state changes by updating the fx and fy channels\n            return facet;\n        },\n        updateDimensions(w: number, h: number) {\n            if (facetWidth !== w) facetWidth = w;\n            if (facetHeight !== h) facetHeight = h;\n        },\n        updatePlotState() {\n            plotState.update(computePlotState());\n        }\n    });\n\n    // TODO: perhaps we don't need this anymore\n    export function getWidth() {\n        return width;\n    }\n\n    function heightFromAspect(\n        x: PlotScale,\n        y: PlotScale,\n        aspectRatio: number,\n        plotWidth: number,\n        marginTop: number,\n        marginBottom: number\n    ) {\n        const xDomainExtent =\n            x.type === 'band' || x.type === 'point'\n                ? x.domain.length\n                : Math.abs(x.domain[1] - x.domain[0]);\n        const yDomainExtent =\n            y.type === 'band' || y.type === 'point'\n                ? y.domain.length\n                : Math.abs(y.domain[1] - y.domain[0]);\n        return (\n            ((plotWidth / xDomainExtent) * yDomainExtent) / aspectRatio + marginTop + marginBottom\n        );\n    }\n\n    function extendPlotOptions(\n        initialOpts: Partial<PlotOptions>,\n        opts: PlotOptionsParameters\n    ): PlotOptions {\n        return mergeDeep<PlotOptions>(\n            {},\n            { sortOrdinalDomains: DEFAULTS.sortOrdinalDomains },\n            smartDefaultPlotOptions(opts),\n            initialOptions\n        );\n    }\n\n    function maybeMargin(\n        // the margin option provided to the <Plot> component\n        margin: number | 'auto' | PlotMargin | undefined,\n        // direction to extract from the margin object\n        direction: 'left' | 'right' | 'top' | 'bottom',\n        // the margin option defined in the plot defaults\n        defaultValue: PlotMargin | number | 'auto',\n        // automatic margins computed from the marks\n        autoMargins: {\n            left: number;\n            right: number;\n            top: number;\n            bottom: number;\n        }\n    ): number {\n        // direction-specific margin value takes precedence\n        const marginValue =\n            typeof margin === 'object' && margin[direction] != null\n                ? margin[direction]\n                : // use the margin value if it's a number\n                  typeof margin === 'number' || margin === 'auto'\n                  ? margin\n                  : // use direction-specific default value if defined\n                    typeof defaultValue === 'object' && defaultValue[direction] != null\n                    ? defaultValue[direction]\n                    : typeof defaultValue === 'number' || defaultValue === 'auto'\n                      ? defaultValue\n                      : 'auto';\n\n        return marginValue === 'auto' ? autoMargins[direction] : marginValue;\n    }\n\n    /**\n     * compute smart default options for the plot based on the scales and marks\n     */\n    function smartDefaultPlotOptions({\n        explicitScales,\n        explicitDomains,\n        hasProjection,\n        margin\n    }: PlotOptionsParameters): PlotOptions {\n        const autoXAxis = explicitScales.has('x') || explicitDomains.has('x');\n        const autoYAxis = explicitScales.has('y') || explicitDomains.has('y');\n        const isOneDimensional = autoXAxis !== autoYAxis;\n        const oneDimX = autoXAxis && !autoYAxis;\n        const oneDimY = autoYAxis && !autoXAxis;\n\n        const autoMargins = {\n            left: hasProjection ? 0 : Math.max(maxMarginLeft + 1, 1),\n            right: hasProjection ? 0 : oneDimY ? 0 : Math.max(maxMarginRight + 1, 4),\n            top: hasProjection ? 0 : oneDimX ? 0 : Math.max(5, maxMarginTop),\n            bottom: hasProjection ? 0 : Math.max(5, maxMarginBottom)\n        };\n\n        return {\n            title: '',\n            subtitle: '',\n            caption: '',\n            height: 'auto',\n            // maxWidth: oneDimY ? `${60 * e}px` : undefined,\n            marginLeft: maybeMargin(margin, 'left', DEFAULTS.margin, autoMargins),\n            marginRight: maybeMargin(margin, 'right', DEFAULTS.margin, autoMargins),\n            marginTop: maybeMargin(margin, 'top', DEFAULTS.margin, autoMargins),\n            marginBottom: maybeMargin(margin, 'bottom', DEFAULTS.margin, autoMargins),\n            inset: isOneDimensional ? 10 : DEFAULTS.inset,\n            grid: (DEFAULTS.gridX?.implicit ?? false) && (DEFAULTS.gridY?.implicit ?? false),\n            axes: (DEFAULTS.axisX?.implicit ?? false) && (DEFAULTS.axisY?.implicit ?? false),\n            frame: DEFAULTS.frame?.implicit ?? false,\n            projection: null,\n            aspectRatio: null,\n            facet: {},\n            padding: 0.1,\n            x: {\n                type: 'auto',\n                axis: DEFAULTS.axisX.implicit && autoXAxis ? DEFAULTS.axisX.anchor : false,\n                labelAnchor: 'auto',\n                reverse: false,\n                clamp: false,\n                nice: false,\n                zero: false,\n                round: false,\n                percent: false,\n                align: 0.5,\n                tickSpacing: DEFAULTS.axisX.tickSpacing ?? 80,\n                tickFormat: 'auto',\n                grid: DEFAULTS.gridX.implicit ?? false\n            },\n            y: {\n                type: 'auto',\n                axis: DEFAULTS.axisY.implicit && autoYAxis ? DEFAULTS.axisY.anchor : false,\n                labelAnchor: 'auto',\n                reverse: false,\n                clamp: false,\n                nice: false,\n                zero: false,\n                round: false,\n                percent: false,\n                align: 0.5,\n                tickSpacing: DEFAULTS.axisY.tickSpacing ?? 50,\n                tickFormat: 'auto',\n                grid: DEFAULTS.gridY.implicit ?? false\n            },\n            opacity: {\n                type: 'linear',\n                reverse: false,\n                clamp: false,\n                nice: false,\n                zero: false,\n                round: false,\n                tickSpacing: 0,\n                percent: false,\n                padding: 0.1,\n                align: 0.5\n            },\n            r: {\n                type: 'sqrt',\n                reverse: false,\n                clamp: false,\n                nice: false,\n                zero: true,\n                percent: false,\n                round: false,\n                padding: 0,\n                align: 0\n            },\n            color: { type: 'auto', unknown: DEFAULTS.unknown },\n            length: { type: 'linear' },\n            symbol: { type: 'ordinal' },\n            fx: { type: 'band', axis: 'top' },\n            fy: { type: 'band', axis: 'right' },\n            locale: DEFAULTS.locale,\n            css: DEFAULTS.css\n        };\n    }\n\n    const mapXY = $derived((x: RawValue, y: RawValue) => {\n        const [px, py] = projectXY(plotState.scales, x, y);\n        return { x: px, y: py };\n    });\n</script>\n\n<figure\n    class=\"svelteplot {className}\"\n    bind:clientWidth={width}\n    style:max-width={plotOptions.maxWidth}\n    data-testid={testid}>\n    {#if header}\n        <div class=\"plot-header\">\n            {@render header?.()}\n        </div>\n    {/if}\n    <div class=\"plot-body\" bind:this={plotBody}>\n        {#if underlay}<div class=\"plot-underlay\">{@render underlay(plotOptions)}</div>{/if}\n        <svg\n            width={fixedWidth || width}\n            {height}\n            fill=\"currentColor\"\n            viewBox=\"0 0 {width} {height}\">\n            {@render facetAxes?.()}\n            <FacetGrid marks={explicitMarks}>\n                {#if children}\n                    {@render children({\n                        width,\n                        height,\n                        options: plotOptions,\n                        scales: plotState.scales,\n                        mapXY,\n                        hasProjection,\n                        hasExplicitAxisX,\n                        hasExplicitAxisY,\n                        hasExplicitGridX,\n                        hasExplicitGridY\n                    })}\n                {/if}\n            </FacetGrid>\n        </svg>\n        {#if overlay}<div class=\"plot-overlay\">\n                {@render overlay?.({\n                    width,\n                    height,\n                    options: plotOptions,\n                    scales: plotState.scales,\n                    mapXY,\n                    hasProjection,\n                    hasExplicitAxisX,\n                    hasExplicitAxisY,\n                    hasExplicitGridX,\n                    hasExplicitGridY\n                })}\n            </div>{/if}\n    </div>\n    {#if footer}\n        <figcaption class=\"plot-footer\">\n            {@render footer?.()}\n        </figcaption>\n    {/if}\n</figure>\n\n<style>\n    figure {\n        --svp-bg: var(--svelteplot-bg, white);\n        margin: 0;\n        padding: 0;\n    }\n\n    .plot-body {\n        position: relative;\n    }\n\n    .plot-overlay,\n    .plot-underlay {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        pointer-events: none;\n    }\n\n    .plot-underlay {\n        z-index: -1;\n    }\n\n    .plot-header {\n        margin-top: 1rem;\n        display: flex;\n        flex-direction: column;\n        row-gap: 0.35rem;\n    }\n\n    .plot-header :global(h2),\n    .plot-header :global(h3) {\n        margin: 0 !important;\n        padding: 0 !important;\n        border: 0 !important;\n    }\n\n    .plot-footer {\n        margin-bottom: 2rem;\n    }\n</style>\n", "function noop() { }\n\nexport { noop };\n", "function partial(func, ...partialArgs) {\n    return partialImpl(func, placeholderSymbol, ...partialArgs);\n}\nfunction partialImpl(func, placeholder, ...partialArgs) {\n    const partialed = function (...providedArgs) {\n        let providedArgsIndex = 0;\n        const substitutedArgs = partialArgs\n            .slice()\n            .map(arg => (arg === placeholder ? providedArgs[providedArgsIndex++] : arg));\n        const remainingArgs = providedArgs.slice(providedArgsIndex);\n        return func.apply(this, substitutedArgs.concat(remainingArgs));\n    };\n    if (func.prototype) {\n        partialed.prototype = Object.create(func.prototype);\n    }\n    return partialed;\n}\nconst placeholderSymbol = Symbol('partial.placeholder');\npartial.placeholder = placeholderSymbol;\n\nexport { partial, partialImpl };\n", "function partialRight(func, ...partialArgs) {\n    return partialRightImpl(func, placeholderSymbol, ...partialArgs);\n}\nfunction partialRightImpl(func, placeholder, ...partialArgs) {\n    const partialedRight = function (...providedArgs) {\n        const placeholderLength = partialArgs.filter(arg => arg === placeholder).length;\n        const rangeLength = Math.max(providedArgs.length - placeholderLength, 0);\n        const remainingArgs = providedArgs.slice(0, rangeLength);\n        let providedArgsIndex = rangeLength;\n        const substitutedArgs = partialArgs\n            .slice()\n            .map(arg => (arg === placeholder ? providedArgs[providedArgsIndex++] : arg));\n        return func.apply(this, remainingArgs.concat(substitutedArgs));\n    };\n    if (func.prototype) {\n        partialedRight.prototype = Object.create(func.prototype);\n    }\n    return partialedRight;\n}\nconst placeholderSymbol = Symbol('partialRight.placeholder');\npartialRight.placeholder = placeholderSymbol;\n\nexport { partialRight, partialRightImpl };\n", "import { delay } from '../promise/delay.mjs';\n\nconst DEFAULT_DELAY = 0;\nconst DEFAULT_RETRIES = Number.POSITIVE_INFINITY;\nconst DEFAULT_SHOULD_RETRY = () => true;\nasync function retry(func, _options) {\n    let delay$1;\n    let retries;\n    let signal;\n    let shouldRetry;\n    if (typeof _options === 'number') {\n        delay$1 = DEFAULT_DELAY;\n        retries = _options;\n        signal = undefined;\n        shouldRetry = DEFAULT_SHOULD_RETRY;\n    }\n    else {\n        delay$1 = _options?.delay ?? DEFAULT_DELAY;\n        retries = _options?.retries ?? DEFAULT_RETRIES;\n        signal = _options?.signal;\n        shouldRetry = _options?.shouldRetry ?? DEFAULT_SHOULD_RETRY;\n    }\n    let error;\n    for (let attempts = 0; attempts < retries; attempts++) {\n        if (signal?.aborted) {\n            throw error ?? new Error(`The retry operation was aborted due to an abort signal.`);\n        }\n        try {\n            return await func();\n        }\n        catch (err) {\n            error = err;\n            if (!shouldRetry(err, attempts)) {\n                throw err;\n            }\n            const currentDelay = typeof delay$1 === 'function' ? delay$1(attempts) : delay$1;\n            await delay(currentDelay);\n        }\n    }\n    throw error;\n}\n\nexport { retry };\n", "function getSymbols(object) {\n    return Object.getOwnPropertySymbols(object).filter(symbol => Object.prototype.propertyIsEnumerable.call(object, symbol));\n}\n\nexport { getSymbols };\n", "function getTag(value) {\n    if (value == null) {\n        return value === undefined ? '[object Undefined]' : '[object Null]';\n    }\n    return Object.prototype.toString.call(value);\n}\n\nexport { getTag };\n", "const regexpTag = '[object RegExp]';\nconst stringTag = '[object String]';\nconst numberTag = '[object Number]';\nconst booleanTag = '[object Boolean]';\nconst argumentsTag = '[object Arguments]';\nconst symbolTag = '[object Symbol]';\nconst dateTag = '[object Date]';\nconst mapTag = '[object Map]';\nconst setTag = '[object Set]';\nconst arrayTag = '[object Array]';\nconst functionTag = '[object Function]';\nconst arrayBufferTag = '[object ArrayBuffer]';\nconst objectTag = '[object Object]';\nconst errorTag = '[object Error]';\nconst dataViewTag = '[object DataView]';\nconst uint8ArrayTag = '[object Uint8Array]';\nconst uint8ClampedArrayTag = '[object Uint8ClampedArray]';\nconst uint16ArrayTag = '[object Uint16Array]';\nconst uint32ArrayTag = '[object Uint32Array]';\nconst bigUint64ArrayTag = '[object BigUint64Array]';\nconst int8ArrayTag = '[object Int8Array]';\nconst int16ArrayTag = '[object Int16Array]';\nconst int32ArrayTag = '[object Int32Array]';\nconst bigInt64ArrayTag = '[object BigInt64Array]';\nconst float32ArrayTag = '[object Float32Array]';\nconst float64ArrayTag = '[object Float64Array]';\n\nexport { argumentsTag, arrayBufferTag, arrayTag, bigInt64ArrayTag, bigUint64ArrayTag, booleanTag, dataViewTag, dateTag, errorTag, float32ArrayTag, float64ArrayTag, functionTag, int16ArrayTag, int32ArrayTag, int8ArrayTag, mapTag, numberTag, objectTag, regexpTag, setTag, stringTag, symbolTag, uint16ArrayTag, uint32ArrayTag, uint8ArrayTag, uint8ClampedArrayTag };\n", "function isPlainObject(value) {\n    if (!value || typeof value !== 'object') {\n        return false;\n    }\n    const proto = Object.getPrototypeOf(value);\n    const hasObjectPrototype = proto === null ||\n        proto === Object.prototype ||\n        Object.getPrototypeOf(proto) === null;\n    if (!hasObjectPrototype) {\n        return false;\n    }\n    return Object.prototype.toString.call(value) === '[object Object]';\n}\n\nexport { isPlainObject };\n", "function pick(obj, keys) {\n    const result = {};\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (Object.hasOwn(obj, key)) {\n            result[key] = obj[key];\n        }\n    }\n    return result;\n}\n\nexport { pick };\n", "const CASE_SPLIT_PATTERN = /\\p{Lu}?\\p{Ll}+|[0-9]+|\\p{Lu}+(?!\\p{Ll})|\\p{Emoji_Presentation}|\\p{Extended_Pictographic}|\\p{L}+/gu;\nfunction words(str) {\n    return Array.from(str.match(CASE_SPLIT_PATTERN) ?? []);\n}\n\nexport { CASE_SPLIT_PATTERN, words };\n", "function isEqualsSameValueZero(value, other) {\n    return value === other || (Number.isNaN(value) && Number.isNaN(other));\n}\n\nexport { isEqualsSameValueZero };\n", "import { isPlainObject } from './isPlainObject.mjs';\nimport { getSymbols } from '../compat/_internal/getSymbols.mjs';\nimport { getTag } from '../compat/_internal/getTag.mjs';\nimport { functionTag, regexpTag, symbolTag, dateTag, booleanTag, numberTag, stringTag, objectTag, errorTag, dataViewTag, arrayBufferTag, float64ArrayTag, float32ArrayTag, bigInt64ArrayTag, int32ArrayTag, int16ArrayTag, int8ArrayTag, bigUint64ArrayTag, uint32ArrayTag, uint16ArrayTag, uint8ClampedArrayTag, uint8ArrayTag, arrayTag, setTag, mapTag, argumentsTag } from '../compat/_internal/tags.mjs';\nimport { isEqualsSameValueZero } from '../_internal/isEqualsSameValueZero.mjs';\n\nfunction isEqualWith(a, b, areValuesEqual) {\n    return isEqualWithImpl(a, b, undefined, undefined, undefined, undefined, areValuesEqual);\n}\nfunction isEqualWithImpl(a, b, property, aParent, bParent, stack, areValuesEqual) {\n    const result = areValuesEqual(a, b, property, aParent, bParent, stack);\n    if (result !== undefined) {\n        return result;\n    }\n    if (typeof a === typeof b) {\n        switch (typeof a) {\n            case 'bigint':\n            case 'string':\n            case 'boolean':\n            case 'symbol':\n            case 'undefined': {\n                return a === b;\n            }\n            case 'number': {\n                return a === b || Object.is(a, b);\n            }\n            case 'function': {\n                return a === b;\n            }\n            case 'object': {\n                return areObjectsEqual(a, b, stack, areValuesEqual);\n            }\n        }\n    }\n    return areObjectsEqual(a, b, stack, areValuesEqual);\n}\nfunction areObjectsEqual(a, b, stack, areValuesEqual) {\n    if (Object.is(a, b)) {\n        return true;\n    }\n    let aTag = getTag(a);\n    let bTag = getTag(b);\n    if (aTag === argumentsTag) {\n        aTag = objectTag;\n    }\n    if (bTag === argumentsTag) {\n        bTag = objectTag;\n    }\n    if (aTag !== bTag) {\n        return false;\n    }\n    switch (aTag) {\n        case stringTag:\n            return a.toString() === b.toString();\n        case numberTag: {\n            const x = a.valueOf();\n            const y = b.valueOf();\n            return isEqualsSameValueZero(x, y);\n        }\n        case booleanTag:\n        case dateTag:\n        case symbolTag:\n            return Object.is(a.valueOf(), b.valueOf());\n        case regexpTag: {\n            return a.source === b.source && a.flags === b.flags;\n        }\n        case functionTag: {\n            return a === b;\n        }\n    }\n    stack = stack ?? new Map();\n    const aStack = stack.get(a);\n    const bStack = stack.get(b);\n    if (aStack != null && bStack != null) {\n        return aStack === b;\n    }\n    stack.set(a, b);\n    stack.set(b, a);\n    try {\n        switch (aTag) {\n            case mapTag: {\n                if (a.size !== b.size) {\n                    return false;\n                }\n                for (const [key, value] of a.entries()) {\n                    if (!b.has(key) || !isEqualWithImpl(value, b.get(key), key, a, b, stack, areValuesEqual)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            case setTag: {\n                if (a.size !== b.size) {\n                    return false;\n                }\n                const aValues = Array.from(a.values());\n                const bValues = Array.from(b.values());\n                for (let i = 0; i < aValues.length; i++) {\n                    const aValue = aValues[i];\n                    const index = bValues.findIndex(bValue => {\n                        return isEqualWithImpl(aValue, bValue, undefined, a, b, stack, areValuesEqual);\n                    });\n                    if (index === -1) {\n                        return false;\n                    }\n                    bValues.splice(index, 1);\n                }\n                return true;\n            }\n            case arrayTag:\n            case uint8ArrayTag:\n            case uint8ClampedArrayTag:\n            case uint16ArrayTag:\n            case uint32ArrayTag:\n            case bigUint64ArrayTag:\n            case int8ArrayTag:\n            case int16ArrayTag:\n            case int32ArrayTag:\n            case bigInt64ArrayTag:\n            case float32ArrayTag:\n            case float64ArrayTag: {\n                if (typeof Buffer !== 'undefined' && Buffer.isBuffer(a) !== Buffer.isBuffer(b)) {\n                    return false;\n                }\n                if (a.length !== b.length) {\n                    return false;\n                }\n                for (let i = 0; i < a.length; i++) {\n                    if (!isEqualWithImpl(a[i], b[i], i, a, b, stack, areValuesEqual)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            case arrayBufferTag: {\n                if (a.byteLength !== b.byteLength) {\n                    return false;\n                }\n                return areObjectsEqual(new Uint8Array(a), new Uint8Array(b), stack, areValuesEqual);\n            }\n            case dataViewTag: {\n                if (a.byteLength !== b.byteLength || a.byteOffset !== b.byteOffset) {\n                    return false;\n                }\n                return areObjectsEqual(new Uint8Array(a), new Uint8Array(b), stack, areValuesEqual);\n            }\n            case errorTag: {\n                return a.name === b.name && a.message === b.message;\n            }\n            case objectTag: {\n                const areEqualInstances = areObjectsEqual(a.constructor, b.constructor, stack, areValuesEqual) ||\n                    (isPlainObject(a) && isPlainObject(b));\n                if (!areEqualInstances) {\n                    return false;\n                }\n                const aKeys = [...Object.keys(a), ...getSymbols(a)];\n                const bKeys = [...Object.keys(b), ...getSymbols(b)];\n                if (aKeys.length !== bKeys.length) {\n                    return false;\n                }\n                for (let i = 0; i < aKeys.length; i++) {\n                    const propKey = aKeys[i];\n                    const aProp = a[propKey];\n                    if (!Object.hasOwn(b, propKey)) {\n                        return false;\n                    }\n                    const bProp = b[propKey];\n                    if (!isEqualWithImpl(aProp, bProp, propKey, a, b, stack, areValuesEqual)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            default: {\n                return false;\n            }\n        }\n    }\n    finally {\n        stack.delete(a);\n        stack.delete(b);\n    }\n}\n\nexport { isEqualWith };\n", "import { isEqualWith } from './isEqualWith.mjs';\nimport { noop } from '../function/noop.mjs';\n\nfunction isEqual(a, b) {\n    return isEqualWith(a, b, noop);\n}\n\nexport { isEqual };\n", "// using a symbol doesn't work because channels are spread into components\nexport const RENAME = '__renamed__';\n/**\n * renames a channel without modifying the data\n */\nexport function renameChannels({ data, ...channels }, options) {\n    const newChannels = channels;\n    for (const [from, to] of Object.entries(options)) {\n        if (newChannels[from] !== undefined) {\n            newChannels[to] = newChannels[from];\n            // keep track of the renaming\n            newChannels[RENAME] = newChannels[RENAME] || {};\n            newChannels[RENAME][to] = from;\n            delete newChannels[from];\n        }\n    }\n    return { data, ...newChannels };\n}\n/**\n * renames a channel and copy the data\n */\nexport function renameChannelsAndData({ data, ...channels }, options) {\n    const newData = [];\n    for (const datum of data) {\n        const newDatum = { ...datum };\n        for (const [from, to] of Object.entries(options)) {\n            if (channels[from] !== undefined) {\n                newDatum[to] = newDatum[from];\n                delete newDatum[from];\n            }\n        }\n        newData.push(newDatum);\n    }\n    return renameChannels({ data: newData, ...channels }, options);\n}\nexport function replaceChannels({ data, ...channels }, options) {\n    const newChannels = { ...channels };\n    for (const [from, to] of Object.entries(options)) {\n        if (newChannels[from] !== undefined) {\n            for (const t of to) {\n                newChannels[t] = newChannels[from];\n            }\n            delete newChannels[from];\n        }\n    }\n    return { data, ...newChannels };\n}\n", "import IntervalTree from 'interval-tree-1d';\nimport { groupFacetsAndZ } from '../helpers/group';\nexport function dodgeX(args, plotState) {\n    if (!args.dodgeX)\n        return args.data;\n    let { anchor = 'left', padding = 1, r = args.dodgeX.r } = maybeAnchor(args.dodgeX);\n    let anchorFunction;\n    switch (`${anchor}`.toLowerCase()) {\n        case 'left':\n            anchorFunction = anchorXLeft;\n            break;\n        case 'right':\n            anchorFunction = anchorXRight;\n            break;\n        case 'middle':\n            anchorFunction = anchorXMiddle;\n            break;\n        default:\n            throw new Error(`unknown dodge anchor: ${anchor}`);\n    }\n    return dodge('x', 'y', anchorFunction, Number(padding), r, args, plotState);\n}\nexport function dodgeY(args, plotState) {\n    if (!args.dodgeY)\n        return args.data;\n    let { anchor = 'bottom', padding = 1, r = args.dodgeY.r } = maybeAnchor(args.dodgeY);\n    let anchorFunction;\n    switch (`${anchor}`.toLowerCase()) {\n        case 'top':\n            anchorFunction = anchorYTop;\n            break;\n        case 'bottom':\n            anchorFunction = anchorYBottom;\n            break;\n        case 'middle':\n            anchorFunction = anchorYMiddle;\n            break;\n        default:\n            throw new Error(`unknown dodge anchor: ${anchor}`);\n    }\n    return dodge('y', 'x', anchorFunction, Number(padding), r, args, plotState);\n}\nfunction dodge(y, x, anchor, padding, r, { data, ...channels }, plotState) {\n    if (r != null && typeof r !== 'number') {\n        // use the r channel\n        // let { channels, sort, reverse } = options;\n        // channels = maybeNamed(channels);\n        // if (channels?.r === undefined)\n        //     options = { ...options, channels: { ...channels, r: { value: r, scale: 'r' } } };\n        // if (sort === undefined && reverse === undefined) options.sort = { channel: '-r' };\n    }\n    const { fx, fy } = channels;\n    let [ky, ty] = anchor(plotState);\n    const compare = ky ? compareAscending : compareSymmetric;\n    const cr = r !== undefined ? r : 3; // default radius if no r channel\n    // group data by facets\n    groupFacetsAndZ(data, { fx, fy }, (items) => {\n        // apply dodge within each facet\n        const tree = IntervalTree();\n        const data = items.filter((d) => (typeof d.r !== 'number' || d.r >= 0) && isFinite(d[x]) && isFinite(d[y]));\n        const intervals = new Float64Array(2 * data.length + 2);\n        data.forEach((d, i) => {\n            const ri = d.r ?? r ?? 3;\n            const y0 = ky ? ri + padding : 0; // offset baseline for varying radius\n            const l = d[x] - ri;\n            const h = d[x] + ri;\n            // The first two positions are 0 to test placing the dot on the baseline.\n            let k = 2;\n            // For any previously placed circles that may overlap this circle, compute\n            // the y-positions that place this circle tangent to these other circles.\n            // https://observablehq.com/@mbostock/circle-offset-along-line\n            tree.queryInterval(l - padding, h + padding, ([, , j]) => {\n                const yj = data[j][y] - y0;\n                const dx = d[x] - data[j][x];\n                const dr = padding + (channels.r ? d.r + data[j].r : 2 * cr);\n                const dy = Math.sqrt(dr * dr - dx * dx);\n                intervals[k++] = yj - dy;\n                intervals[k++] = yj + dy;\n            });\n            // Find the best y-value where this circle can fit.\n            let candidates = intervals.slice(0, k);\n            if (ky)\n                candidates = candidates.filter((y) => y >= 0);\n            out: for (const diff of candidates.sort(compare)) {\n                for (let j = 0; j < k; j += 2) {\n                    if (intervals[j] + 1e-6 < diff && diff < intervals[j + 1] - 1e-6) {\n                        continue out;\n                    }\n                }\n                d[y] = diff + y0;\n                break;\n            }\n            // Insert the placed circle into the interval tree.\n            tree.insert([l, h, i]);\n        });\n        if (!ky)\n            ky = 1;\n        data.forEach((d) => (d[y] = d[y] * ky + ty));\n    });\n    return data;\n}\nfunction maybeAnchor(anchor) {\n    return typeof anchor === 'string' ? { anchor } : anchor;\n}\nfunction anchorXLeft({ options: { marginLeft } }) {\n    return [1, marginLeft];\n}\nfunction anchorXRight({ facetWidth: width, options: { marginLeft } }) {\n    return [-1, marginLeft + width];\n}\nfunction anchorXMiddle({ facetWidth: width, options: { marginLeft } }) {\n    return [0, marginLeft + width / 2];\n}\nfunction anchorYTop({ options: { marginTop } }) {\n    return [1, marginTop];\n}\nfunction anchorYBottom({ facetHeight: height }) {\n    return [-1, height];\n}\nfunction anchorYMiddle({ facetHeight: height, options: { marginTop, marginBottom } }) {\n    return [0, (marginTop + height) / 2];\n}\nfunction compareSymmetric(a, b) {\n    return Math.abs(a) - Math.abs(b);\n}\nfunction compareAscending(a, b) {\n    return a - b;\n}\n", "import { resolveChannel } from './resolve.js';\nimport { groups as d3Groups } from 'd3-array';\n/**\n * Groups the data by the fx, fy and z channels and calls the reduce function\n * for each group. Returns the new channels to be added in the transform.\n */\nexport function groupFacetsAndZ(items, channels, reduce) {\n    const groupBy = ['fx', 'fy', 'z'].map((groupChannel) => {\n        let groupByChannel = null;\n        if (groupChannel === 'z') {\n            if (channels.z)\n                groupByChannel = 'z';\n            else if (channels.fill)\n                groupByChannel = 'fill';\n            else if (channels.stroke)\n                groupByChannel = 'stroke';\n        }\n        else if (channels[groupChannel]) {\n            groupByChannel = groupChannel;\n        }\n        if (groupByChannel) {\n            const groupByPropName = typeof channels[groupByChannel] === 'string'\n                ? channels[groupByChannel]\n                : `__group_${groupByChannel}`;\n            return [\n                groupByChannel,\n                groupByPropName,\n                (d) => resolveChannel(groupByChannel, d, channels)\n            ];\n        }\n        else {\n            return [null, null, () => true];\n        }\n    });\n    const groups = d3Groups(items, ...groupBy.map((d) => d[2]));\n    for (const [fxKey, fxGroups] of groups) {\n        const newItemGroupProps = {};\n        if (groupBy[0][0] !== null && groupBy[0][1])\n            newItemGroupProps[groupBy[0][1]] = fxKey;\n        for (const [fyKey, fyGroups] of fxGroups) {\n            if (groupBy[1][0] !== null && groupBy[1][1])\n                newItemGroupProps[groupBy[1][1]] = fyKey;\n            for (const [zKey, zGroups] of fyGroups) {\n                if (groupBy[2][0] !== null && groupBy[2][1])\n                    newItemGroupProps[groupBy[2][1]] = zKey;\n                reduce(zGroups, newItemGroupProps);\n            }\n        }\n    }\n    // return the new channel accessors to be added in the transform\n    return Object.fromEntries(groupBy\n        .filter(([groupByChannel]) => groupByChannel !== null)\n        .map(([groupByChannel, groupByProp]) => [groupByChannel, groupByProp]));\n}\n", "<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface MarkProps extends Partial<BaseMarkProps<Datum>> {\n        data?: Datum[];\n        automatic?: boolean;\n        type: MarkType;\n        channels?: ScaledChannelName[];\n        required?: ScaledChannelName[];\n        requiredScales?: Partial<Record<ScaleName, ScaleType[]>>;\n        children?: Snippet<\n            [\n                {\n                    mark: Mark<GenericMarkOptions>;\n                    usedScales: ReturnType<typeof getUsedScales>;\n                    scaledData: ScaledDataRecord<Datum>[];\n                }\n            ]\n        >;\n        defaults?: Partial<Record<ScaledChannelName, RawValue>>;\n    }\n\n    import { getContext, untrack, type Snippet } from 'svelte';\n    import { CHANNEL_SCALE, INDEX } from './constants.js';\n    import type {\n        ScaledChannelName,\n        MarkType,\n        DataRecord,\n        PlotContext,\n        ChannelName,\n        GenericMarkOptions,\n        ChannelAccessor,\n        BaseMarkProps,\n        FacetContext,\n        ScaleName,\n        RawValue,\n        ResolvedDataRecord,\n        ScaledDataRecord,\n        ScaleType\n    } from './types/index.js';\n    import { isEqual } from 'es-toolkit';\n    import { getUsedScales, projectXY, projectX, projectY } from './helpers/scales.js';\n    import { testFilter, isValid } from './helpers/index.js';\n    import { resolveChannel, resolveProp } from './helpers/resolve.js';\n    import { RENAME } from './transforms/rename.js';\n    import { dodgeX, dodgeY } from './transforms/dodge.js';\n\n    let {\n        data = [],\n        children,\n        type,\n        channels = [],\n        required = [],\n        requiredScales = {},\n        defaults = {},\n        ...options\n    }: MarkProps = $props();\n\n    const channelsWithFacets: ScaledChannelName[] = $derived([...channels, 'fx', 'fy']);\n\n    const { addMark, removeMark, getTopLevelFacet, getPlotState } =\n        getContext<PlotContext>('svelteplot');\n\n    const plot = $derived(getPlotState());\n    const facet = $derived(getTopLevelFacet());\n\n    const { getFacetState } = getContext<FacetContext>('svelteplot/facet');\n    const { left, top } = $derived(getFacetState());\n\n    class Mark {\n        id;\n        type;\n        channels: ScaledChannelName[] = $state.raw([]);\n        scales: Set<ScaleName> = $state.raw(new Set());\n        data: DataRecord[] = $state.raw([]);\n        options: GenericMarkOptions = $state.raw({});\n\n        constructor(type: MarkType) {\n            this.id = Symbol();\n            this.type = type;\n        }\n    }\n\n    const mark = new Mark(type);\n\n    $effect(() => {\n        return () => {\n            removeMark(mark);\n            added = false;\n        };\n    });\n\n    // let mark2 = $state(mark);\n    const facetMode = $derived(options.facet || 'auto');\n\n    const optionsWithAutoFacet = $derived({\n        ...options,\n        __firstFacet: left && top,\n        ...(facet &&\n        facet.data &&\n        ((facetMode === 'auto' && facet.data === data) || facetMode === 'include')\n            ? {\n                  fx: facet.x,\n                  fy: facet.y\n              }\n            : {})\n    });\n\n    let added = false;\n\n    $effect(() => {\n        const prevOptions = untrack(() => mark.options);\n        if (!isEqual(prevOptions, optionsWithAutoFacet)) {\n            mark.options = optionsWithAutoFacet;\n        }\n    });\n\n    $effect(() => {\n        if (added) return;\n        // without using untrack() here we end up with inexplicable\n        // circular dependency updates resulting in a stack overflow\n        const channels = untrack(() => channelsWithFacets);\n        mark.channels = channels;\n        mark.scales = new Set(\n            channels\n                .filter((channel) => options[channel] !== 0)\n                .map((channel) => CHANNEL_SCALE[channel])\n        );\n        mark.data = untrack(() => data);\n        mark.options = untrack(() => optionsWithAutoFacet);\n\n        addMark(mark);\n        added = true;\n    });\n\n    const { getTestFacet } = getContext<FacetContext>('svelteplot/facet');\n    const testFacet = $derived(getTestFacet());\n\n    const resolvedData: ResolvedDataRecord<Datum>[] = $derived(\n        data\n            .map((d, i) => ({ ...d, [INDEX]: i }))\n            .flatMap((row, index) => {\n                const channels = options as Record<ChannelName, ChannelAccessor<Datum>>;\n                if (!testFacet(row, channels) || !testFilter(row, channels)) return [];\n                const out: ResolvedDataRecord<Datum> = {\n                    datum: row,\n                    index\n                };\n                for (const [channel] of Object.entries(CHANNEL_SCALE) as [\n                    ScaledChannelName,\n                    ScaleName\n                ][]) {\n                    // check if the mark has defined an accessor for this channel\n                    if (options?.[channel] !== undefined && out[channel] === undefined) {\n                        // resolve value\n                        out[channel] = resolveChannel(channel, row, options, index);\n                        if (options[channel] === INDEX) {\n                            const scale = plot.scales[CHANNEL_SCALE[channel]];\n                            if (scale.type === 'band' || scale.type === 'point') {\n                                out[channel] = scale.domain[out[channel] % scale.domain.length];\n                            }\n                        }\n                    }\n                }\n                return [out];\n            })\n    );\n\n    let prevResolvedData: ResolvedDataRecord[] = [];\n\n    $effect(() => {\n        if (isDifferent(data, mark.data) || isDifferent(resolvedData, prevResolvedData)) {\n            prevResolvedData = resolvedData;\n            // data has changed\n            mark.data = data;\n        }\n    });\n\n    function isDifferent(array1: ResolvedDataRecord[], array2: ResolvedDataRecord[]) {\n        if (array1.length !== array2.length) return true;\n        for (let i = 0; i < array1.length; i++) {\n            for (const [channel] of Object.entries(CHANNEL_SCALE) as [\n                ScaledChannelName,\n                ScaleName\n            ][]) {\n                if (!isEqual(array1[i][channel], array2[i][channel])) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    const errors = $derived([\n        ...required\n            .filter((name) => options[name] == null)\n            .map((name) => `missing channel value for ${mark.type} mark: ${name}`),\n        ...Object.entries(requiredScales)\n            .filter(([scale, types]) => {\n                return !types.includes(plot.scales[scale].type);\n            })\n            .map(\n                ([scale, types]) => `scale type mismatch for ${scale} (needs ${types.join(' or ')})`\n            )\n    ]);\n\n    $effect(() => {\n        for (const name of required) {\n            if (options[name] == null) throw new Error(`missing channel value: ${name}`);\n        }\n    });\n\n    const usedScales = $derived(getUsedScales(plot, optionsWithAutoFacet, mark));\n    /**\n     * based on the data and the global scales we can now map the data\n     * elements to the scales\n     */\n    const scaledData = $derived(\n        dodge(\n            resolvedData.flatMap((row) => {\n                const out: ScaledDataRecord<Datum> = {\n                    datum: row.datum,\n                    resolved: row,\n                    index: row[INDEX],\n                    valid: true\n                };\n                // compute dx/dy\n                out.dx = Number(resolveProp<number>(options.dx, out.datum, 0));\n                out.dy = Number(resolveProp<number>(options.dy, out.datum, 0));\n\n                // special handling if there's a projection, e.g. a line mark\n                if (plot.scales.projection && mark.type !== 'geo') {\n                    for (const suffix of ['', '1', '2']) {\n                        if (\n                            options?.[`x${suffix}`] !== undefined &&\n                            options?.[`y${suffix}`] !== undefined\n                        ) {\n                            // we have two-dimensional accessors\n                            // for the x and y channels\n                            const [x, y] =\n                                mark.type === 'line'\n                                    ? [row.x, row.y] // line paths are projected later\n                                    : projectXY(\n                                          plot.scales,\n                                          row.x,\n                                          row.y,\n                                          usedScales.x,\n                                          usedScales.y,\n                                          suffix\n                                      );\n\n                            out[`x${suffix}`] = x;\n                            out[`y${suffix}`] = y;\n                            out.valid =\n                                out.valid &&\n                                isValid(row.x) &&\n                                isValid(row.y) &&\n                                isValid(x) &&\n                                isValid(y);\n                        }\n                    }\n                }\n\n                // iterate over all scaled channels\n                for (const [channel, scale] of Object.entries(CHANNEL_SCALE) as [\n                    ScaledChannelName,\n                    ScaleName\n                ][]) {\n                    // check if the mark has defined an accessor for this channel\n                    if (options?.[channel] != null && out[channel] === undefined) {\n                        // resolve value\n                        const value = row[channel];\n                        // if this channel was renamed, use the original channel for scaling\n                        const origChannel = options?.[RENAME]?.[channel] || channel;\n                        const scaled = usedScales[channel]\n                            ? scale === 'x'\n                                ? projectX(origChannel as 'x' | 'x1' | 'x2', plot.scales, value)\n                                : scale === 'y'\n                                  ? projectY(origChannel as 'y' | 'y1' | 'y2', plot.scales, value)\n                                  : scale === 'color' && !isValid(value)\n                                    ? plot.options.color.unknown\n                                    : plot.scales[scale].fn(value)\n                            : value;\n\n                        out.valid = out.valid && (scale === 'color' || isValid(value));\n\n                        // apply dx/dy transform\n                        out[channel] =\n                            Number.isFinite(scaled) && (scale === 'x' || scale === 'y')\n                                ? scaled + (scale === 'x' ? out.dx : out.dy)\n                                : scaled;\n                    } else if (defaults[channel]) {\n                        out[channel] = defaults[channel];\n                    }\n                }\n\n                return [out];\n            }),\n            options\n        )\n    );\n\n    function dodge<T>(data: ScaledDataRecord<Datum>[], options: BaseMarkProps<T>) {\n        if (options.dodgeX) {\n            return dodgeX({ data, ...options }, plot);\n        }\n        if (options.dodgeY) {\n            return dodgeY({ data, ...options }, plot);\n        }\n        return data;\n    }\n</script>\n\n{#if errors.length}\n    <text transform=\"translate(10,10)\">\n        {#each errors as error, i (i)}\n            <tspan x=\"0\" dy={i ? 14 : 0}>{error}</tspan>\n        {/each}\n    </text>\n{:else if children}\n    {@render children({\n        mark,\n        usedScales,\n        scaledData\n    })}\n{/if}\n\n<style>\n    text {\n        stroke: var(--svp-bg);\n        fill: crimson;\n        font-size: 11px;\n        stroke-width: 3px;\n        font-weight: bold;\n        paint-order: stroke fill;\n    }\n</style>\n", "/**\n * Remove identical lines from a set of ticks\n */\nexport default function removeIdenticalLines(input) {\n    const uniqueTicks = [];\n    if (!input.length)\n        return input;\n    for (let c = 0; c < input.length; c++) {\n        // initialize new tick array with empty text lines\n        uniqueTicks.push({\n            ...input[c],\n            text: []\n        });\n    }\n    const maxLines = Math.max(...input.map((t) => t.text.length));\n    for (let l = 0; l < maxLines; l++) {\n        const isIdentical = input.length > 1 && input.every((tick) => input[0].text[l] === tick.text[l]);\n        for (let c = 0; c < input.length; c++) {\n            if (!isIdentical && input[c].text[l] != null)\n                uniqueTicks[c].text.push(input[c].text[l]);\n        }\n    }\n    return uniqueTicks;\n}\n", "import { sum } from 'd3-array';\n// Per-character width table for a typical proportional font.\n// This is not perfect for all fonts, but is better than treating\n// all characters as equal width. Set `monospace = true` to bypass.\nconst CHAR_W = {\n    A: 7,\n    a: 7,\n    B: 8,\n    b: 7,\n    C: 8,\n    c: 6,\n    D: 9,\n    d: 7,\n    E: 7,\n    e: 7,\n    F: 7,\n    f: 4,\n    G: 9,\n    g: 7,\n    H: 9,\n    h: 7,\n    I: 3,\n    i: 3,\n    J: 5,\n    j: 3,\n    K: 8,\n    k: 6,\n    L: 7,\n    l: 3,\n    M: 11,\n    m: 11,\n    N: 9,\n    n: 7,\n    O: 9,\n    o: 7,\n    P: 8,\n    p: 7,\n    Q: 9,\n    q: 7,\n    R: 8,\n    r: 4,\n    S: 8,\n    s: 6,\n    T: 7,\n    t: 4,\n    U: 9,\n    u: 7,\n    V: 7,\n    v: 6,\n    W: 11,\n    w: 9,\n    X: 7,\n    x: 6,\n    Y: 7,\n    y: 6,\n    Z: 7,\n    z: 5,\n    '.': 2,\n    ',': 2,\n    ':': 2,\n    ';': 2\n};\n/**\n * Greedy word-wrapping that approximates visual width by character widths.\n *\n * - Splits input into words, additionally breaking on `-` to avoid very long segments.\n * - Uses a rough character width table to approximate line widths.\n * - Wraps once the maximum visual width is exceeded, but only after a minimum.\n */\nexport default function wordwrap(line, options = {}) {\n    let { minCharactersPerLine, minLineWidth, maxCharactersPerLine, maxLineWidth, fontSize, monospace } = { fontSize: 12, maxCharactersPerLine: 10, ...options };\n    // Tokenized words (with hyphen-splitting applied) including trailing spaces/hyphens.\n    const tokens = [];\n    // First split by spaces, then further split by hyphens so we can\n    // wrap inside hyphenated words if necessary.\n    const spaceSeparated = line.split(' ');\n    spaceSeparated.forEach((word, wordIndex) => {\n        const hyphenParts = word.split('-');\n        const trailingWhitespace = wordIndex < spaceSeparated.length - 1 ? ' ' : '';\n        if (hyphenParts.length > 1) {\n            hyphenParts.forEach((part, partIndex) => {\n                const suffix = partIndex < hyphenParts.length - 1 ? '-' : trailingWhitespace;\n                tokens.push(part + suffix);\n            });\n        }\n        else {\n            tokens.push(word + trailingWhitespace);\n        }\n    });\n    if (!maxLineWidth) {\n        // Fallback for max characters per line if not provided / falsy.\n        // Convert character counts into approximate visual widths.\n        maxLineWidth = maxCharactersPerLine * CHAR_W.a;\n    }\n    if (!minLineWidth) {\n        // Estimate a good minimum line length:\n        //  - start from either a provided value or\n        //  - clamp a scaled median word length between 3 and half of maxCharactersPerLine.\n        const sortedWordLengths = tokens.map((t) => t.length).sort((a, b) => a - b);\n        const medianIndex = Math.round(tokens.length / 2);\n        const medianWordLength = sortedWordLengths[medianIndex] ?? maxCharactersPerLine;\n        const minChars = minCharactersPerLine ||\n            Math.max(3, Math.min(maxCharactersPerLine * 0.5, 0.75 * medianWordLength));\n        minLineWidth = minChars * CHAR_W.a;\n    }\n    const lines = [];\n    const currentWords = [];\n    let currentWidth = 0;\n    // Helper to look up a character width, falling back to \"a\" if unknown\n    // or when monospace mode is enabled.\n    const charWidth = (char) => (fontSize / 12) * (!monospace ? CHAR_W[char] : CHAR_W.a);\n    // Greedy line construction: append tokens until the next one would exceed\n    // max visual width, but only break if the line has passed the minimum width.\n    tokens.forEach((token) => {\n        const tokenWidth = sum(token.split('').map(charWidth));\n        if (currentWidth + tokenWidth > maxLineWidth && currentWidth > minLineWidth) {\n            lines.push(currentWords.join(''));\n            currentWords.length = 0;\n            currentWidth = 0;\n        }\n        currentWidth += tokenWidth;\n        currentWords.push(token);\n    });\n    // Flush trailing tokens into the last line.\n    if (currentWords.length > 0) {\n        lines.push(currentWords.join(''));\n    }\n    // Filter out any empty lines that may have been created.\n    return lines.filter((d) => d !== '');\n}\n", "<script lang=\"ts\">\n    // this component only takes care of rendering the x axis so we can re-use it\n    // for the facet labels\n    import { getContext, untrack } from 'svelte';\n    import removeIdenticalLines from '../../helpers/removeIdenticalLines.js';\n    import type {\n        AutoMarginStores,\n        ChannelAccessor,\n        ConstantAccessor,\n        PlotState,\n        RawValue,\n        ScaledDataRecord,\n        ScaleType\n    } from '../../types/index.js';\n    import { resolveProp, resolveStyles } from '../../helpers/resolve.js';\n    import { max } from 'd3-array';\n    import { randomId, testFilter } from '../../helpers/index.js';\n    import { INDEX } from '../../constants';\n    import { RAW_VALUE } from '../../transforms/recordize';\n    import wordwrap from '../../helpers/wordwrap';\n\n    type BaseAxisXProps = {\n        scaleFn: (d: RawValue) => number;\n        scaleType: ScaleType;\n        ticks: RawValue[];\n        tickFormat: (d: RawValue, i: number, ticks: RawValue[]) => string | string[];\n        anchor: 'top' | 'bottom';\n        tickSize: number;\n        tickPadding: number;\n        tickFontSize: ConstantAccessor<number>;\n        tickClass: ConstantAccessor<string>;\n        marginTop: number;\n        height: number;\n        title: string;\n        options: {\n            dx: ConstantAccessor<number>;\n            dy: ConstantAccessor<number>;\n            filter: ChannelAccessor;\n            wordwrap: boolean;\n            textAnchor: ConstantAccessor<'start' | 'middle' | 'end'> | 'auto';\n            removeDuplicateTicks: boolean;\n        };\n        text: boolean;\n        plot: PlotState;\n        class: string;\n    };\n\n    let {\n        scaleFn,\n        scaleType,\n        ticks,\n        tickFormat,\n        anchor,\n        tickSize,\n        tickPadding,\n        tickFontSize,\n        tickClass,\n        marginTop,\n        height,\n        options,\n        plot,\n        title,\n        class: className = 'axis-x',\n        text = true\n    }: BaseAxisXProps = $props();\n\n    const isBandScale = $derived(scaleType === 'band');\n    const bandWidth = $derived(isBandScale ? scaleFn.bandwidth() : 0);\n\n    function splitTick(tick: string | string[]) {\n        return Array.isArray(tick)\n            ? tick\n            : typeof tick === 'string' && isBandScale && options.wordwrap !== false\n              ? wordwrap(tick, {\n                    maxLineWidth: bandWidth * 0.9,\n                    minCharactersPerLine: 4,\n                    fontSize: +resolveProp(tickFontSize, {}, 11),\n                    monospace: false\n                })\n              : [tick];\n    }\n\n    let tickRotate = $derived(plot.options.x.tickRotate || 0);\n\n    let tickY = $derived(anchor === 'bottom' ? marginTop + height : marginTop);\n\n    let isQuantitative = $derived(scaleType !== 'point' && scaleType !== 'band');\n\n    // generate id used for registering margins\n    const id = randomId();\n\n    const { autoMarginTop, autoMarginBottom, autoMarginLeft, autoMarginRight } =\n        getContext<AutoMarginStores>('svelteplot/autoMargins');\n\n    let tickTextElements = $state([] as SVGTextElement[]);\n\n    const positionedTicks = $derived.by(() => {\n        let tickObjects = removeIdenticalLines(\n            ticks.map((tick, i) => {\n                const datum = { [RAW_VALUE]: tick, [INDEX]: i };\n                return {\n                    ...datum,\n                    hidden: false,\n                    dx: +resolveProp(options.dx, datum, 0),\n                    dy: +resolveProp(options.dy, datum, 0),\n                    x: scaleFn(tick) + (scaleType === 'band' ? scaleFn.bandwidth() * 0.5 : 0),\n                    text: splitTick(tickFormat(tick, i, ticks)),\n                    element: null as SVGTextElement | null\n                };\n            })\n        );\n        const T = tickObjects.length;\n        if (text) {\n            for (let i = 0; i < T; i++) {\n                let j = i;\n                // find the preceding tick that was not hidden\n                do {\n                    j--;\n                } while (j >= 0 && tickObjects[j].hidden);\n                if (j >= 0) {\n                    const tickLabelSpace = Math.abs(tickObjects[i].x - tickObjects[j].x);\n                    tickObjects[i].hidden = tickLabelSpace < 15;\n                }\n            }\n        }\n        return tickObjects as ScaledDataRecord[];\n    });\n\n    $effect(() => {\n        // just add some minimal horizontal margins for axis ticks\n        untrack(() => $autoMarginLeft);\n        untrack(() => $autoMarginRight);\n        $autoMarginLeft.set(id, 5);\n        $autoMarginRight.set(id, 10);\n    });\n\n    $effect(() => {\n        untrack(() => [$autoMarginTop, $autoMarginBottom]);\n        if (!text) return;\n        const outsideTextAnchor = anchor === 'top' ? 'end' : 'start';\n        // measure tick label heights\n        const maxLabelHeight =\n            Math.ceil(\n                max(\n                    positionedTicks.map((tick, i) => {\n                        if (\n                            resolveProp(options.anchor, tick, outsideTextAnchor) !==\n                            outsideTextAnchor\n                        )\n                            return 0;\n                        if (tick.hidden || !testFilter(tick, options)) return 0;\n                        if (tickTextElements[i])\n                            return tickTextElements[i].getBoundingClientRect().height;\n                        return 0;\n                    }) as number[]\n                )\n            ) +\n            Math.max(0, tickPadding + tickSize) +\n            (title ? 15 : 0);\n\n        if (!isNaN(maxLabelHeight)) {\n            if (anchor === 'top' && $autoMarginTop.get(id) !== maxLabelHeight) {\n                $autoMarginTop.set(id, maxLabelHeight);\n            } else if (anchor === 'bottom' && $autoMarginBottom.get(id) !== maxLabelHeight) {\n                $autoMarginBottom.set(id, maxLabelHeight);\n            }\n        }\n    });\n\n    $effect(() => {\n        // clear margins on destroy\n        return () => {\n            if ($autoMarginBottom.has(id)) $autoMarginBottom.delete(id);\n            if ($autoMarginTop.has(id)) $autoMarginTop.delete(id);\n            if ($autoMarginLeft.has(id)) $autoMarginLeft.delete(id);\n            if ($autoMarginRight.has(id)) $autoMarginRight.delete(id);\n        };\n    });\n</script>\n\n<g class={className}>\n    {#each positionedTicks as tick, t (tick[RAW_VALUE])}\n        {#if testFilter(tick, options) && !tick.hidden}\n            {@const tickClass_ = resolveProp(tickClass, tick)}\n            {@const tickFontSize_ = +resolveProp(tickFontSize, tick, 10)}\n            <g\n                class=\"tick {tickClass_ || ''}\"\n                transform=\"translate({tick.x + tick.dx}, {tickY + tick.dy})\"\n                text-anchor={tickRotate < 0 ? 'end' : tickRotate > 0 ? 'start' : 'middle'}>\n                {#if tickSize}\n                    {@const [tickLineStyle, tickLineClass] = resolveStyles(\n                        plot,\n                        { datum: tick },\n                        options,\n                        'stroke',\n                        { x: true },\n                        true\n                    )}\n                    <line\n                        style={tickLineStyle}\n                        class={tickLineClass}\n                        y2={anchor === 'bottom' ? tickSize : -tickSize} />\n                {/if}\n\n                {#if text}\n                    {@const textLines = tick.text}\n                    {@const prevTextLines = t && positionedTicks[t - 1].text}\n\n                    {@const moveDown =\n                        (tickSize + tickPadding + (tickRotate !== 0 ? tickFontSize_ * 0.35 : 0)) *\n                        (anchor === 'bottom' ? 1 : -1)}\n                    {@const [textStyle, textClass] = resolveStyles(\n                        plot,\n                        { datum: tick },\n                        {\n                            fontVariant: isQuantitative ? 'tabular-nums' : 'normal',\n                            ...options,\n                            textAnchor:\n                                options.textAnchor === 'auto'\n                                    ? // automatically adjust text anchor based on rotation\n                                      tickRotate < 0\n                                        ? 'end'\n                                        : tickRotate > 0\n                                          ? 'start'\n                                          : 'middle'\n                                    : options.textAnchor,\n                            fontSize: tickFontSize_,\n                            stroke: null\n                        },\n                        'fill',\n                        { x: true },\n                        true\n                    )}\n                    <text\n                        bind:this={tickTextElements[t]}\n                        transform=\"translate(0, {moveDown})  rotate({tickRotate})\"\n                        style={textStyle}\n                        class={textClass}\n                        x={0}\n                        y={0}\n                        dominant-baseline={tickRotate !== 0\n                            ? 'central'\n                            : anchor === 'bottom'\n                              ? 'hanging'\n                              : 'auto'}>\n                        {#if ticks.length > 0 || t === 0 || t === ticks.length - 1}\n                            {#if textLines.length === 1}\n                                {textLines[0]}\n                            {:else}\n                                {#each textLines as line, i (i)}\n                                    <tspan x=\"0\" dy={i ? 12 : 0}\n                                        >{!prevTextLines ||\n                                        prevTextLines[i] !== line ||\n                                        options.removeDuplicateTicks === false\n                                            ? line\n                                            : ''}</tspan>\n                                {/each}\n                            {/if}\n                        {/if}\n                    </text>\n                {/if}\n            </g>\n        {/if}\n    {/each}\n</g>\n\n<style>\n    line {\n        stroke: currentColor;\n    }\n    text {\n        opacity: 0.8;\n        fill: currentColor;\n    }\n</style>\n", "import { isDate } from './typeChecks.js';\nconst DATE_TIME = {\n    hour: 'numeric',\n    minute: 'numeric',\n    month: 'short',\n    day: 'numeric'\n};\nconst autoFormatDateTime = (locale) => {\n    const format = new Intl.DateTimeFormat(locale, DATE_TIME).format;\n    return (date) => format(date).replace(', ', '\\n');\n};\nconst DAY_MONTH = {\n    month: 'short',\n    day: 'numeric'\n};\nconst autoFormatDayMonth = (locale) => {\n    const format = new Intl.DateTimeFormat(locale, DAY_MONTH).format;\n    return (date) => format(date).replace(' ', '\\n');\n};\nconst MONTH_YEAR = {\n    month: 'short',\n    year: 'numeric'\n};\nconst autoFormatMonthYear = (locale) => {\n    const format = new Intl.DateTimeFormat(locale, MONTH_YEAR).format;\n    return (date) => format(date).replace(' ', '\\n');\n};\nexport default function autoTimeFormat(x, plotWidth, plotLocale) {\n    const daysPer100Px = ((toNumber(x.domain[1]) - toNumber(x.domain[0])) / plotWidth / 864e5) * 100;\n    const format = daysPer100Px < 1\n        ? autoFormatDateTime(plotLocale)\n        : daysPer100Px < 30\n            ? autoFormatDayMonth(plotLocale)\n            : autoFormatMonthYear(plotLocale);\n    return (date) => format(date).split('\\n');\n}\nfunction toNumber(d) {\n    return isDate(d) ? d.getTime() : +d;\n}\n", "<!-- @component\n    Renders a horizontal axis with labels and tick marks\n-->\n<script lang=\"ts\" generics=\"Datum extends RawValue\">\n    import { getContext } from 'svelte';\n    import Mark from '../Mark.svelte';\n    import BaseAxisX from './helpers/BaseAxisX.svelte';\n    import type {\n        BaseMarkProps,\n        RawValue,\n        ConstantAccessor,\n        FacetContext,\n        ChannelName\n    } from '../types/index.js';\n    import type * as CSS from 'csstype';\n    import autoTimeFormat from '../helpers/autoTimeFormat.js';\n    import { autoTicks } from '../helpers/autoTicks.js';\n    import { resolveScaledStyles } from '../helpers/resolve.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { extent } from 'd3-array';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    interface AxisXMarkProps extends Omit<\n        BaseMarkProps<Datum>,\n        'fillOpacity' | 'paintOrder' | 'title' | 'href' | 'target'\n    > {\n        data?: Datum[];\n        automatic?: boolean;\n        title?: string | false | null;\n        anchor?: 'top' | 'bottom';\n        interval?: string | number;\n        facetAnchor?: 'auto' | 'top-empty' | 'bottom-empty' | 'top' | 'bottom';\n        labelAnchor?: 'auto' | 'left' | 'center' | 'right';\n        tickSize?: number;\n        tickFontSize?: ConstantAccessor<number, Datum>;\n        titleFontSize?: number;\n        tickPadding?: number;\n        tickFormat?:\n            | 'auto'\n            | Intl.DateTimeFormatOptions\n            | Intl.NumberFormatOptions\n            | ((d: RawValue, i: number) => string);\n        tickClass?: ConstantAccessor<string, Datum>;\n        /** ticks is a shorthand for defining data, tickCount or interval */\n        ticks?: number | string | Datum[];\n        /** set to false or null to disable tick labels */\n        text?: boolean | null;\n        /** approximate number of ticks to be generated */\n        tickCount?: number;\n        /** approximate number of pixels between generated ticks */\n        tickSpacing?: number;\n        /** text anchor for axis labels */\n        textAnchor?: ConstantAccessor<CSS.Property.TextAnchor | 'auto', Datum>;\n        removeDuplicateTicks: boolean;\n    }\n\n    let markProps: AxisXMarkProps = $props();\n\n    const DEFAULTS: Omit<AxisXMarkProps, 'data' | ChannelName> = {\n        tickSize: 6,\n        tickPadding: 3,\n        tickFontSize: 11,\n        titleFontSize: 11,\n        textAnchor: 'auto',\n        opacity: 0.8,\n        anchor: 'bottom',\n        ...getPlotDefaults().axis,\n        ...getPlotDefaults().axisX\n    };\n\n    const { ticks: magicTicks } = $derived({ ...DEFAULTS, ...markProps });\n\n    const {\n        data,\n        automatic = false,\n        title,\n        anchor,\n        facetAnchor = 'auto',\n        interval,\n        tickSize,\n        tickFontSize,\n        tickPadding,\n        labelAnchor,\n        tickFormat,\n        tickClass,\n        class: className,\n        tickCount,\n        tickSpacing,\n        text = true,\n        ...options\n    }: AxisXMarkProps = $derived({\n        data: Array.isArray(magicTicks) ? magicTicks : [],\n        tickCount: typeof magicTicks === 'number' ? magicTicks : undefined,\n        interval: typeof magicTicks === 'string' ? magicTicks : undefined,\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const autoTickCount = $derived(\n        tickCount != null\n            ? tickCount\n            : tickSpacing != null\n              ? Math.max(3, Math.round(plot.facetWidth / tickSpacing))\n              : Math.max(3, Math.round(plot.facetWidth / plot.options.x.tickSpacing))\n    );\n\n    const ticks: RawValue[] = $derived(\n        data.length > 0\n            ? // use custom tick values if user passed any as prop\n              Array.from(new Set(data))\n            : // use custom scale tick values if user passed any as plot scale option\n              autoTicks(\n                  plot.scales.x.type,\n                  plot.options.x.ticks,\n                  interval || plot.options.x.interval,\n                  plot.scales.x.domain,\n                  plot.scales.x.fn,\n                  autoTickCount\n              )\n    );\n\n    const useCompactNotation = $derived.by(() => {\n        const range =\n            extent(plot.scales.x.domain).filter(\n                (d): d is number => typeof d === 'number' && Number.isFinite(d)\n            ) ?? [];\n\n        if (range[0] === undefined || range[1] === undefined) return false;\n        const crossesZero = range[0] <= 0 && range[1] >= 0;\n        if (crossesZero) return true;\n        const magnitudes = range.map((d) =>\n            d === 0 ? -Infinity : Math.floor(Math.log10(Math.abs(d)))\n        );\n        return magnitudes[0] !== magnitudes[1];\n    });\n\n    const tickFmt = $derived(tickFormat || plot.options.x.tickFormat);\n\n    const useTickFormat = $derived(\n        typeof tickFmt === 'function'\n            ? tickFmt\n            : plot.scales.x.type === 'band' || plot.scales.x.type === 'point'\n              ? (d) => d\n              : plot.scales.x.type === 'time'\n                ? // time scale\n                  typeof tickFmt === 'object'\n                    ? (d: Date) => Intl.DateTimeFormat(plot.options.locale, tickFmt).format(d)\n                    : autoTimeFormat(plot.scales.x, plot.plotWidth, plot.options.locale)\n                : // numeric scale\n                  typeof tickFmt === 'object'\n                  ? (d: number) => Intl.NumberFormat(plot.options.locale, tickFmt).format(d)\n                  : // auto\n                    (d: RawValue) =>\n                        Intl.NumberFormat(plot.options.locale, {\n                            // use compact notation if range covers multiple magnitudes\n                            ...(useCompactNotation ? { notation: 'compact' } : {}),\n                            ...DEFAULTS.numberFormat,\n                            style: plot.options.x.percent ? 'percent' : 'decimal'\n                        }).format(d)\n    );\n\n    const optionsLabel = $derived(plot.options?.x?.label);\n    const scaleType = $derived(plot.scales.x.type);\n    const isQuantitative = $derived(scaleType !== 'point' && scaleType !== 'band');\n\n    const useTitle = $derived(\n        title !== undefined\n            ? title || ''\n            : optionsLabel === null\n              ? null\n              : optionsLabel !== undefined\n                ? optionsLabel\n                : plot.scales.x.autoTitle\n                  ? isQuantitative\n                      ? plot.options.x?.reverse\n                          ? `← ${plot.scales.x.autoTitle}${plot.options.x.percent ? ' (%)' : ''}`\n                          : `${plot.scales.x.autoTitle}${plot.options.x.percent ? ' (%)' : ''} →`\n                      : plot.scales.x.autoTitle\n                  : ''\n    );\n\n    const useLabelAnchor = $derived(labelAnchor || plot.options?.x?.labelAnchor || 'auto');\n    const titleAlign = $derived(\n        useLabelAnchor === 'auto' ? (isQuantitative ? 'right' : 'center') : useLabelAnchor\n    );\n\n    const { getFacetState } = getContext<FacetContext>('svelteplot/facet');\n    const { left, top, bottom, bottomEmpty, topEmpty } = $derived(getFacetState());\n\n    const useFacetAnchor = $derived(\n        facetAnchor !== 'auto' ? facetAnchor : anchor === 'bottom' ? 'bottom-empty' : 'top-empty'\n    );\n    const showAxis = $derived(\n        useFacetAnchor === 'top'\n            ? top\n            : useFacetAnchor === 'bottom'\n              ? bottom\n              : useFacetAnchor === 'top-empty'\n                ? topEmpty\n                : bottomEmpty\n    );\n</script>\n\n<Mark\n    type=\"axisX\"\n    data={data.length ? data.map((tick) => ({ __x: tick })) : []}\n    channels={['x']}\n    {...options}\n    x=\"__x\"\n    {automatic}>\n    {#if left && top && useTitle}\n        <text\n            style={resolveScaledStyles(\n                null,\n                {\n                    opacity: 0.8,\n                    ...options,\n                    stroke: null,\n                    fontSize: options.titleFontSize || 11,\n                    textAnchor:\n                        titleAlign === 'right'\n                            ? 'end'\n                            : titleAlign === 'center'\n                              ? 'middle'\n                              : 'start'\n                },\n                {},\n                plot,\n                'fill'\n            )}\n            x={plot.options.marginLeft +\n                plot.plotWidth * (titleAlign === 'right' ? 1 : titleAlign === 'center' ? 0.5 : 0)}\n            y={anchor === 'top'\n                ? (options.titleFontSize || 11) + 5\n                : plot.height - (options.titleFontSize || 11) - 5}\n            class=\"axis-x-title\"\n            dominant-baseline={anchor === 'top' ? 'auto' : 'hanging'}>{useTitle}</text>\n    {/if}\n    {#if showAxis}\n        <BaseAxisX\n            {anchor}\n            {className}\n            {labelAnchor}\n            options={{ ...options, ...plot.options.x }}\n            {plot}\n            {text}\n            {tickClass}\n            {tickFontSize}\n            {tickPadding}\n            {ticks}\n            {tickSize}\n            height={plot.facetHeight}\n            marginTop={plot.options.marginTop}\n            scaleFn={plot.scales.x.fn}\n            scaleType={plot.scales.x.type}\n            tickFormat={useTickFormat}\n            title={useTitle} />\n    {/if}\n</Mark>\n\n<style>\n    text {\n        fill: currentColor;\n    }\n</style>\n", "<script lang=\"ts\">\n    import { getContext, untrack } from 'svelte';\n    import { randomId, testFilter } from '../../helpers/index.js';\n    import { resolveProp, resolveStyles } from '../../helpers/resolve.js';\n    import { max } from 'd3-array';\n    import type {\n        AutoMarginStores,\n        ConstantAccessor,\n        DataRecord,\n        PlotState,\n        RawValue,\n        ScaledDataRecord,\n        ScaleType\n    } from '../../types/index.js';\n    import { RAW_VALUE } from '../../transforms/recordize';\n    import { INDEX } from '../../constants';\n\n    type BaseAxisYProps = {\n        scaleFn: (d: RawValue) => number;\n        scaleType: ScaleType;\n        ticks: RawValue[];\n        tickFormat: (d: RawValue, i: number, ticks: RawValue[]) => string | string[];\n        anchor: 'left' | 'right';\n        lineAnchor: 'top' | 'center' | 'bottom';\n        tickSize: number;\n        tickPadding: number;\n        tickFontSize: ConstantAccessor<number>;\n        tickClass: ConstantAccessor<number>;\n        marginLeft: number;\n        width: number;\n        title: string | null;\n        options: {\n            dx: ConstantAccessor<number>;\n            dy: ConstantAccessor<number>;\n            textAnchor: 'start' | 'middle' | 'end';\n        };\n        plot: PlotState;\n        text: boolean | null;\n        class: string;\n    };\n\n    let {\n        scaleFn,\n        scaleType,\n        ticks,\n        tickFormat,\n        anchor,\n        lineAnchor,\n        tickSize,\n        tickPadding,\n        tickFontSize,\n        tickClass,\n        marginLeft,\n        width,\n        title,\n        plot,\n        options,\n        text = true,\n        class: className = 'axis-y'\n    }: BaseAxisYProps = $props();\n\n    const LINE_ANCHOR = {\n        top: 'hanging',\n        center: 'middle',\n        bottom: 'auto'\n    };\n\n    const positionedTicks = $derived.by(() => {\n        let tickObjects = ticks.map((tick, i) => {\n            const datum = { [RAW_VALUE]: tick, [INDEX]: i };\n            return {\n                ...datum,\n                hidden: false,\n                dx: +resolveProp(options.dx, datum, 0),\n                dy: +resolveProp(options.dy, datum, 0),\n                y: scaleFn(tick) + (scaleType === 'band' ? scaleFn.bandwidth() * 0.5 : 0),\n                text: tickFormat(tick, i, ticks),\n                element: null as SVGTextElement | null\n            };\n        });\n        if (text) {\n            const T = tickObjects.length;\n            for (let i = 0; i < T; i++) {\n                let j = i;\n                // find the preceding tick that was not hidden\n                do {\n                    j--;\n                } while (j >= 0 && tickObjects[j].hidden);\n                if (j >= 0) {\n                    const tickLabelSpace = Math.abs(tickObjects[i].y - tickObjects[j].y);\n                    tickObjects[i].hidden = tickLabelSpace < 15;\n                }\n            }\n        }\n        return tickObjects;\n    });\n\n    let tickTexts = $state([] as SVGTextElement[]);\n\n    const isQuantitative = $derived(scaleType !== 'point' && scaleType !== 'band');\n\n    // generate id used for registering margins\n    const id = randomId();\n\n    const { autoMarginLeft, autoMarginRight, autoMarginTop } =\n        getContext<AutoMarginStores>('svelteplot/autoMargins');\n\n    $effect(() => {\n        untrack(() => [$autoMarginLeft, $autoMarginRight]);\n        const outsideTextAnchor = anchor === 'left' ? 'end' : 'start';\n        // measure tick label widths\n        const maxLabelWidth =\n            Math.ceil(\n                max(\n                    positionedTicks.map((tick, i) => {\n                        if (\n                            resolveProp(options.textAnchor, tick, outsideTextAnchor) !==\n                            outsideTextAnchor\n                        )\n                            return 0;\n                        if (tick.hidden || !testFilter(tick, options)) return 0;\n                        if (tickTexts[i]) return tickTexts[i].getBoundingClientRect().width;\n                        return 0;\n                    }) as number[]\n                )\n            ) + Math.max(0, tickPadding + tickSize);\n\n        if (!isNaN(maxLabelWidth)) {\n            if (anchor === 'left' && $autoMarginLeft.get(id) !== maxLabelWidth) {\n                $autoMarginLeft.set(id, maxLabelWidth);\n            } else if (anchor === 'right' && $autoMarginRight.get(id) !== maxLabelWidth) {\n                $autoMarginRight.set(id, maxLabelWidth);\n            }\n        }\n    });\n\n    $effect(() => {\n        untrack(() => [$autoMarginTop]);\n        if (title) {\n            // add margin top to make some space for title\n            $autoMarginTop.set(id, 27);\n        } else {\n            // no need for extra margin top\n            $autoMarginTop.delete(id);\n        }\n    });\n\n    $effect(() => {\n        // clear margins on destroy\n        return () => {\n            if ($autoMarginLeft.has(id)) $autoMarginLeft.delete(id);\n            if ($autoMarginRight.has(id)) $autoMarginRight.delete(id);\n            if ($autoMarginTop.has(id)) $autoMarginTop.delete(id);\n        };\n    });\n</script>\n\n<g class={className}>\n    {#each positionedTicks as tick, t (tick[RAW_VALUE])}\n        {#if testFilter(tick, options) && !tick.hidden}\n            {@const tickClass_ = resolveProp(tickClass, tick)}\n            {@const [textStyle, textClass] = resolveStyles(\n                plot,\n                { datum: tick },\n                {\n                    fontVariant: isQuantitative ? 'tabular-nums' : 'normal',\n                    ...options,\n                    fontSize: tickFontSize,\n                    stroke: null\n                },\n                'fill',\n                { y: true },\n                true\n            )}\n            <g\n                class=\"tick {tickClass_ || ''}\"\n                transform=\"translate({tick.dx +\n                    marginLeft +\n                    (anchor === 'left' ? 0 : width)},{tick.y + tick.dy})\">\n                {#if tickSize}\n                    {@const [tickLineStyle, tickLineClass] = resolveStyles(\n                        plot,\n                        { datum: tick },\n                        options,\n                        'stroke',\n                        { y: true },\n                        true\n                    )}\n                    <line\n                        style={tickLineStyle}\n                        class={tickLineClass}\n                        x2={anchor === 'left' ? -tickSize : tickSize} />\n                {/if}\n                {#if text}\n                    <text\n                        bind:this={tickTexts[t]}\n                        class={[textClass, { 'is-left': anchor === 'left' }]}\n                        style={textStyle}\n                        x={(tickSize + tickPadding) * (anchor === 'left' ? -1 : 1)}\n                        dominant-baseline={LINE_ANCHOR[lineAnchor]}\n                        >{Array.isArray(tick.text) ? tick.text.join(' ') : tick.text}</text>\n                {/if}\n            </g>\n        {/if}\n    {/each}\n</g>\n\n<style>\n    line {\n        stroke: currentColor;\n    }\n    text {\n        fill: currentColor;\n    }\n</style>\n", "<!-- @component\n    Renders a vertical axis with labels and tick marks\n-->\n<script lang=\"ts\" generics=\"Datum extends RawValue\">\n    import { getContext } from 'svelte';\n    import BaseAxisY from './helpers/BaseAxisY.svelte';\n    import Mark from '../Mark.svelte';\n    import type {\n        BaseMarkProps,\n        RawValue,\n        FacetContext,\n        ChannelName,\n        ConstantAccessor\n    } from '../types/index.js';\n    import autoTimeFormat from '../helpers/autoTimeFormat.js';\n    import { autoTicks } from '../helpers/autoTicks.js';\n    import { resolveScaledStyles } from '../helpers/resolve.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { extent } from 'd3-array';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    interface AxisYMarkProps extends Omit<\n        BaseMarkProps<Datum>,\n        'fillOpacity' | 'paintOrder' | 'title' | 'href' | 'target'\n    > {\n        data?: Datum[];\n        automatic?: boolean;\n        title?: string | false | null;\n        anchor?: 'left' | 'right';\n        facetAnchor?: 'auto' | 'left' | 'right' | 'left-empty' | 'right-empty';\n        lineAnchor?: 'top' | 'center' | 'bottom';\n        interval?: string | number;\n        labelAnchor?: 'auto' | 'left' | 'center' | 'right';\n        textAnchor?: 'auto' | 'start' | 'middle' | 'end';\n        tickSize?: number;\n        tickFontSize?: ConstantAccessor<number, Datum>;\n        titleFontSize?: number;\n        tickPadding?: number;\n        tickFormat?:\n            | 'auto'\n            | Intl.DateTimeFormatOptions\n            | Intl.NumberFormatOptions\n            | ((d: RawValue) => string);\n        tickClass?: ConstantAccessor<string, Datum>;\n        /** ticks is a shorthand for defining data, tickCount or interval */\n        ticks?: number | string | Datum[];\n        /** set to false or null to disable tick labels */\n        text?: boolean | null;\n        /** approximate number of ticks to be generated */\n        tickCount?: number;\n        /** approximate number of pixels between generated ticks */\n        tickSpacing?: number;\n    }\n\n    let markProps: AxisYMarkProps = $props();\n\n    const DEFAULTS: Omit<AxisYMarkProps, 'data' | ChannelName> = {\n        tickSize: 6,\n        tickPadding: 3,\n        tickFontSize: 11,\n        opacity: 0.8,\n        anchor: 'left',\n        textAnchor: 'auto',\n        ...getPlotDefaults().axis,\n        ...getPlotDefaults().axisY\n    };\n\n    const { ticks: magicTicks } = $derived({ ...DEFAULTS, ...markProps });\n\n    const {\n        data,\n        automatic = false,\n        title,\n        anchor = 'left',\n        class: className,\n        facetAnchor = 'auto',\n        interval,\n        lineAnchor = 'center',\n        textAnchor,\n        tickSize,\n        tickFontSize,\n        tickPadding,\n        tickFormat,\n        tickClass,\n        tickCount,\n        tickSpacing,\n        text = true,\n        ...options\n    }: AxisYMarkProps = $derived({\n        data: Array.isArray(magicTicks) ? magicTicks : [],\n        tickCount: typeof magicTicks === 'number' ? magicTicks : undefined,\n        interval: typeof magicTicks === 'string' ? magicTicks : undefined,\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const autoTickCount = $derived(\n        tickCount != null\n            ? tickCount\n            : tickSpacing != null\n              ? Math.max(3, Math.round(plot.facetHeight / tickSpacing))\n              : Math.max(2, Math.round(plot.facetHeight / plot.options.y.tickSpacing))\n    );\n\n    const ticks: RawValue[] = $derived(\n        data.length > 0\n            ? // use custom tick values if user passed any as prop\n              data\n            : // use custom scale tick values if user passed any as plot scale option\n              autoTicks(\n                  plot.scales.y.type,\n                  plot.options.y.ticks,\n                  interval || plot.options.y.interval,\n                  plot.scales.y.domain,\n                  plot.scales.y.fn,\n                  autoTickCount\n              )\n    );\n\n    const useCompactNotation = $derived.by(() => {\n        const range =\n            extent(plot.scales.y.domain).filter(\n                (d): d is number => typeof d === 'number' && Number.isFinite(d)\n            ) ?? [];\n\n        if (range[0] === undefined || range[1] === undefined) return false;\n        const crossesZero = range[0] <= 0 && range[1] >= 0;\n        if (crossesZero) return true;\n        const magnitudes = range.map((d) =>\n            d === 0 ? -Infinity : Math.floor(Math.log10(Math.abs(d)))\n        );\n        return magnitudes[0] !== magnitudes[1];\n    });\n\n    const tickFmt = $derived(tickFormat || plot.options.y.tickFormat);\n\n    const useTickFormat = $derived(\n        typeof tickFmt === 'function'\n            ? tickFmt\n            : plot.scales.y.type === 'band' || plot.scales.y.type === 'point'\n              ? (d) => d\n              : plot.scales.y.type === 'time'\n                ? // time scale\n                  typeof tickFmt === 'object'\n                    ? (d: Date) => Intl.DateTimeFormat(plot.options.locale, tickFmt).format(d)\n                    : autoTimeFormat(plot.scales.y, plot.plotWidth, plot.options.locale)\n                : // numeric scale\n                  typeof tickFmt === 'object'\n                  ? (d: number) => Intl.NumberFormat(plot.options.locale, tickFmt).format(d)\n                  : // auto\n                    (d: RawValue) =>\n                        Intl.NumberFormat(plot.options.locale, {\n                            // use compact notation if range covers multiple magnitudes\n                            ...(useCompactNotation ? { notation: 'compact' } : {}),\n                            ...DEFAULTS.numberFormat,\n                            style: plot.options.y.percent ? 'percent' : 'decimal'\n                        }).format(d)\n    );\n\n    const optionsLabel = $derived(plot.options.y.label);\n\n    const useTitle = $derived(\n        title !== undefined\n            ? title || ''\n            : optionsLabel === null\n              ? null\n              : optionsLabel !== undefined\n                ? optionsLabel\n                : plot.scales.y.autoTitle\n                  ? `${!plot.options.y.reverse ? '↑' : '↓'} ${plot.scales.y.autoTitle}${plot.options.y.percent ? ' (%)' : ''}`\n                  : ''\n    );\n\n    const { getFacetState } = getContext<FacetContext>('svelteplot/facet');\n    const { left, leftEmpty, right, rightEmpty, top } = $derived(getFacetState());\n\n    const useFacetAnchor = $derived(\n        facetAnchor !== 'auto' ? facetAnchor : anchor === 'left' ? 'left-empty' : 'right-empty'\n    );\n\n    const showAxis = $derived(\n        useFacetAnchor === 'left'\n            ? left\n            : useFacetAnchor === 'right'\n              ? right\n              : useFacetAnchor === 'left-empty'\n                ? leftEmpty\n                : rightEmpty\n    );\n</script>\n\n<Mark\n    type=\"axisY\"\n    data={data.length ? data.map((tick) => ({ __y: tick })) : []}\n    channels={['y']}\n    {...{ ...options, y: '__y' }}\n    {automatic}>\n    {#if left && top && useTitle}\n        <text\n            style={resolveScaledStyles(\n                null,\n                {\n                    opacity: 0.8,\n                    ...options,\n                    fontSize: options.titleFontSize ?? 11,\n                    fill: 'currentColor',\n                    stroke: null,\n                    textAnchor: anchor === 'left' ? 'start' : 'end'\n                },\n                {},\n                plot,\n                'fill'\n            )}\n            x={anchor === 'left' ? 0 : plot.width}\n            y={5}\n            class=\"axis-y-title\"\n            dominant-baseline=\"hanging\">{useTitle}</text>\n    {/if}\n    {#if showAxis}\n        <BaseAxisY\n            {anchor}\n            {className}\n            {lineAnchor}\n            options={{\n                ...options,\n                textAnchor:\n                    textAnchor == null || textAnchor === 'auto'\n                        ? anchor === 'left'\n                            ? 'end'\n                            : 'start'\n                        : textAnchor\n            }}\n            {plot}\n            {text}\n            {tickClass}\n            {tickFontSize}\n            {tickPadding}\n            {ticks}\n            {tickSize}\n            marginLeft={plot.options.marginLeft}\n            scaleFn={plot.scales.y.fn}\n            scaleType={plot.scales.y.type}\n            tickFormat={useTickFormat}\n            title={useTitle}\n            width={plot.facetWidth} />\n    {/if}\n</Mark>\n\n<style>\n    text {\n        fill: currentColor;\n    }\n</style>\n", "/**\n *\n */\nexport function roundedRect(x, y, width, height, borderRadius = {\n    topLeft: 0,\n    topRight: 0,\n    bottomLeft: 0,\n    bottomRight: 0\n}) {\n    const maxRadius = Math.min(width, height) / 2;\n    const [tl, tr, bl, br] = (typeof borderRadius === 'number'\n        ? new Array(4).fill(borderRadius)\n        : [\n            borderRadius?.topLeft || 0,\n            borderRadius?.topRight || 0,\n            borderRadius?.bottomLeft || 0,\n            borderRadius?.bottomRight || 0\n        ]).map((r) => Math.min(r, maxRadius));\n    return `\n    M ${x + tl} ${y}\n    H ${x + width - tr}\n    ${tr ? `A ${tr} ${tr} 0 0 1 ${x + width} ${y + tr}` : ''}\n    V ${y + height - br}\n    ${br ? `A ${br} ${br} 0 0 1 ${x + width - br} ${y + height}` : ''}\n    H ${x + bl}\n    ${bl ? `A ${bl} ${bl} 0 0 1 ${x} ${y + height - bl}` : ''}\n    V ${y + tl}\n    ${tl ? `A ${tl} ${tl} 0 0 1 ${x + tl} ${y}` : ''}\n    Z\n  `;\n}\n", "import { pick } from 'es-toolkit';\nimport { RAW_VALUE } from '../../transforms/recordize.js';\nimport { INDEX } from '../../constants.js';\n/**\n * Translates client coordinates (clientX, clientY) to the layer coordinates\n * of the plot frame, regardless of which element triggered the event\n */\nexport function clientToLayerCoordinates(event, plotBody) {\n    // If layerX/Y already exist and the target is the plot frame (rect element),\n    // we can use them directly\n    // if (event.layerX !== undefined && (event.target as SVGElement).tagName === 'rect') {\n    //     return [event.layerX, event.layerY];\n    // }\n    // Otherwise, transform from client coordinates to layer coordinates\n    // by getting the bounds of the plot body element and calculating the offset\n    if (!plotBody)\n        return [0, 0];\n    const plotBodyRect = plotBody.getBoundingClientRect();\n    // Calculate the coordinates relative to the plot body\n    return [event.clientX - plotBodyRect.left, event.clientY - plotBodyRect.top];\n}\nexport function addEventHandlers({ options, datum, plot }) {\n    const events = pick(options, [\n        'onclick',\n        'oncontextmenu',\n        'ondblclick',\n        'ondrag',\n        'ondragend',\n        'ondragenter',\n        'ondragleave',\n        'ondragover',\n        'ondragstart',\n        'ondrop',\n        'onmousedown',\n        'onmouseenter',\n        'onmouseleave',\n        'onmousemove',\n        'onmouseout',\n        'onmouseover',\n        'onmouseup',\n        'onpointercancel',\n        'onpointerdown',\n        'onpointerenter',\n        'onpointerleave',\n        'onpointermove',\n        'onpointerout',\n        'onpointerover',\n        'onpointerup',\n        'ontouchcancel',\n        'ontouchend',\n        'ontouchmove',\n        'onwheel'\n    ]);\n    return (node) => {\n        const listeners = new Map();\n        // attach event handlers\n        for (const [eventName, eventHandler] of Object.entries(events)) {\n            if (eventHandler) {\n                const wrappedHandler = (origEvent) => {\n                    const { scales, body, options: plotOptions } = plot;\n                    if (origEvent instanceof MouseEvent || origEvent instanceof PointerEvent) {\n                        let facetEl = origEvent.target;\n                        while (facetEl &&\n                            !facetEl.classList.contains('facet') &&\n                            facetEl.parentElement) {\n                            // ensure that parentElement is SVGElement\n                            if (!(facetEl.parentElement instanceof SVGElement))\n                                break;\n                            facetEl = facetEl.parentElement;\n                        }\n                        const facetRect = (facetEl?.firstElementChild ?? body).getBoundingClientRect();\n                        const relativeX = origEvent.clientX - facetRect.left + (plotOptions.marginLeft ?? 0);\n                        const relativeY = origEvent.clientY - facetRect.top + (plotOptions.marginTop ?? 0);\n                        if (scales.projection) {\n                            const [x, y] = scales.projection.invert([relativeX, relativeY]);\n                            origEvent.dataX = x;\n                            origEvent.dataY = y;\n                        }\n                        else {\n                            origEvent.dataX = invertScale(scales.x, relativeX);\n                            origEvent.dataY = invertScale(scales.y, relativeY);\n                        }\n                    }\n                    eventHandler(origEvent, datum.hasOwnProperty(RAW_VALUE) ? datum[RAW_VALUE] : datum, datum[INDEX]);\n                };\n                listeners.set(eventName, wrappedHandler);\n                node.addEventListener(eventName.substring(2), wrappedHandler);\n            }\n        }\n        if (events.onclick || events.onmousedown || events.onmouseup) {\n            // force role button\n            node.setAttribute('role', 'button');\n        }\n        return () => {\n            for (const [eventName, handler] of listeners.entries()) {\n                node.removeEventListener(eventName.substring(2), handler);\n            }\n        };\n    };\n}\nfunction invertScale(scale, position) {\n    if (scale.type === 'band') {\n        const range = scale.fn.range();\n        const domain = scale.fn.domain();\n        const eachBand = scale.fn.step();\n        const extent = range[1] - range[0];\n        const posInRange = (position - range[0]) * Math.sign(extent);\n        const index = Math.floor(posInRange / eachBand);\n        return domain[index];\n    }\n    return scale.fn.invert ? scale.fn.invert(position) : undefined;\n}\n", "<script lang=\"ts\" generics=\"Datum extends Record<string, any>\">\n    import { resolveProp } from '../../helpers/resolve.js';\n    import type { ConstantAccessor } from '../../types';\n\n    interface AnchorProps {\n        datum?: Datum;\n        options?: {\n            href?: ConstantAccessor<string, Datum>;\n            target?: ConstantAccessor<string, Datum>;\n            rel?: ConstantAccessor<string, Datum>;\n            type?: ConstantAccessor<string, Datum>;\n            download?: ConstantAccessor<string, Datum>;\n            [key: string]: any;\n        };\n        children?: () => any;\n    }\n\n    let { datum = {}, options = {}, children }: AnchorProps = $props();\n\n    const href = $derived(resolveProp(options.href, datum, null));\n    const target = $derived(resolveProp(options.target, datum, null));\n    const rel = $derived(resolveProp(options.rel, datum, null));\n    const type = $derived(resolveProp(options.type, datum, null));\n    const download = $derived(resolveProp(options.download, datum, null));\n\n    // filter data attributes from options\n    const dataAttributes = $derived(\n        Object.fromEntries(\n            Object.entries(options).filter(([key]) => key.startsWith('data-sveltekit-'))\n        )\n    );\n</script>\n\n{#if href}\n    <!-- we can't use <a> directly here because Svelte confuses it with the \n HTMLAElement which breaks the rendering -->\n    <svelte:element\n        this={'a'}\n        {href}\n        {target}\n        {rel}\n        {type}\n        {download}\n        {...dataAttributes}\n        aria-label=\"link\"\n        xmlns=\"http://www.w3.org/2000/svg\">\n        {@render children?.()}\n    </svelte:element>\n{:else}\n    {@render children?.()}\n{/if}\n", "<!-- @component\nHelper component for rendering rectangular marks in SVG\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface RectPathProps {\n        datum: ScaledDataRecord<Datum>;\n        class: string | null;\n        x: number;\n        y: number;\n        width: number;\n        height: number;\n        options: BaseRectMarkProps<Datum> & BaseMarkProps<Datum>;\n        /**\n         * By default, the `inset` property is applied to all four insets. Mark components\n         * can tweak this behavior for insetTop and insetBottom by setting the\n         * useInsetAsFallbackVertically prop to false.\n         */\n        useInsetAsFallbackVertically?: boolean;\n        /**\n         * By default, the `inset` property is applied to all four insets. Mark components\n         * can tweak this behavior for insetLeft and insetRight by setting the\n         * useInsetAsFallbackHorizontally prop to false.\n         */\n        useInsetAsFallbackHorizontally?: boolean;\n        usedScales: UsedScales;\n        fallbackStyle?: 'fill' | 'stroke';\n    }\n\n    import { resolveProp, resolveStyles } from '../../helpers/resolve';\n    import { roundedRect } from '../../helpers/roundedRect';\n    import { addEventHandlers } from './events.js';\n    import Anchor from './Anchor.svelte';\n    import type { BaseMarkProps, BaseRectMarkProps, BorderRadius } from '../../types/mark.js';\n    import type { DataRecord, ScaledDataRecord } from '../../types/data.js';\n    import type { UsedScales } from '../../types/index.js';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    let {\n        datum,\n        options,\n        class: className = null,\n        x,\n        y,\n        width,\n        height,\n        useInsetAsFallbackVertically = true,\n        useInsetAsFallbackHorizontally = true,\n        usedScales,\n        fallbackStyle\n    }: RectPathProps = $props();\n\n    const plot = usePlot();\n\n    const inset = $derived(+(resolveProp(options.inset, datum?.datum, 0) as number));\n    const insetLeft = $derived(\n        +(resolveProp(\n            options.insetLeft,\n            datum?.datum,\n            useInsetAsFallbackHorizontally ? inset : 0\n        ) as number)\n    );\n    const insetRight = $derived(\n        +(resolveProp(\n            options.insetRight,\n            datum?.datum,\n            useInsetAsFallbackHorizontally ? inset : 0\n        ) as number)\n    );\n    const insetTop = $derived(\n        +(resolveProp(\n            options.insetTop,\n            datum?.datum,\n            useInsetAsFallbackVertically ? inset : 0\n        ) as number)\n    );\n    const insetBottom = $derived(\n        +(resolveProp(\n            options.insetBottom,\n            datum?.datum,\n            useInsetAsFallbackVertically ? inset : 0\n        ) as number)\n    );\n    const borderRadius = $derived(\n        resolveProp(options.borderRadius, datum?.datum, 0) as BorderRadius\n    );\n    const hasBorderRadius = $derived(\n        (typeof borderRadius === 'number' && borderRadius > 0) ||\n            (typeof borderRadius === 'object' &&\n                Math.max(\n                    borderRadius.topRight ?? 0,\n                    borderRadius.bottomRight ?? 0,\n                    borderRadius.topLeft ?? 0,\n                    borderRadius.bottomLeft ?? 0\n                ) > 0)\n    );\n    const [style, styleClass] = $derived(\n        resolveStyles(\n            plot,\n            datum,\n            options,\n            !fallbackStyle ? (options.stroke && !options.fill ? 'stroke' : 'fill') : fallbackStyle,\n            usedScales\n        )\n    );\n</script>\n\n<Anchor {options} datum={datum?.datum}>\n    {#if hasBorderRadius}\n        <path\n            transform=\"translate({x + insetLeft},{y + insetBottom})\"\n            d={roundedRect(\n                0,\n                0,\n                width - insetLeft - insetRight,\n                height - insetTop - insetBottom,\n                borderRadius\n            )}\n            class={[styleClass, className]}\n            {style}\n            {@attach addEventHandlers({\n                plot,\n                options,\n                datum: datum?.datum\n            })} />\n    {:else}\n        <rect\n            transform=\"translate({x + insetLeft},{y + insetBottom})\"\n            width={width - insetLeft - insetRight}\n            height={height - insetTop - insetBottom}\n            class={[styleClass, className]}\n            {style}\n            {@attach addEventHandlers({\n                plot,\n                options,\n                datum: datum?.datum\n            })} />\n    {/if}\n</Anchor>\n", "<!-- \n    @component \n    Renders a simple frame around the entire plot domain \n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface FrameMarkProps\n        extends\n            Omit<BaseMarkProps<Datum>, 'fill' | 'stroke' | 'fillOpacity' | 'strokeOpacity'>,\n            BaseRectMarkProps<Datum>,\n            LinkableMarkProps<Datum> {\n        fill?: string;\n        stroke?: string;\n        fillOpacity?: number;\n        strokeOpacity?: number;\n        opacity?: number;\n        automatic?: boolean;\n        inset?: number;\n        insetLeft?: number;\n        insetRight?: number;\n        insetTop?: number;\n        insetBottom?: number;\n    }\n    import Mark from '../Mark.svelte';\n    import type { BaseRectMarkProps, LinkableMarkProps, DataRecord } from '../types/index.js';\n    import type { BaseMarkProps } from '../types/index.js';\n    import RectPath from './helpers/RectPath.svelte';\n    import { resolveProp } from '../helpers/resolve';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: FrameMarkProps = $props();\n\n    const DEFAULTS: FrameMarkProps = {\n        fill: undefined,\n        class: 'frame',\n        stroke: undefined,\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        ...getPlotDefaults().frame\n    };\n\n    const {\n        automatic,\n        class: className,\n        fill,\n        stroke,\n        opacity,\n        fillOpacity,\n        strokeOpacity,\n        ...options\n    }: FrameMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const dx = $derived(resolveProp(options.dx, null, 0) || 0);\n    const dy = $derived(resolveProp(options.dy, null, 0) || 0);\n\n    const plot = usePlot();\n</script>\n\n<Mark type=\"frame\" {automatic}>\n    {#snippet children({ usedScales })}\n        <RectPath\n            class={className}\n            datum={{ fill, stroke, fillOpacity, strokeOpacity, opacity, datum: {}, valid: true }}\n            x={plot.options.marginLeft + dx}\n            y={plot.options.marginTop + dy}\n            width={plot.facetWidth}\n            height={plot.facetHeight}\n            {usedScales}\n            fallbackStyle={fill == null || fill === 'none' ? 'stroke' : 'fill'}\n            options={{ ...options, fill, stroke, fillOpacity, opacity, strokeOpacity }} />\n    {/snippet}\n</Mark>\n", "<script lang=\"ts\">\n    interface ColorLegendMarkProps {\n        class: string | null;\n    }\n    import Plot from '../Plot.svelte';\n    import AxisX from './AxisX.svelte';\n    import Frame from './Frame.svelte';\n    import { symbol as d3Symbol } from 'd3-shape';\n    import { range as d3Range, extent } from 'd3-array';\n    import { maybeSymbol } from '../helpers/symbols.js';\n\n    import { getPlotDefaults } from '../hooks/plotDefaults';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let { class: className = null }: ColorLegendMarkProps = $props();\n\n    const plot = usePlot();\n\n    const DEFAULTS = getPlotDefaults();\n\n    const legendTitle = $derived(plot.options.color.label);\n    const scaleType = $derived(plot.scales.color.type);\n    const tickFormat = $derived(\n        typeof plot.options.color?.tickFormat === 'function'\n            ? plot.options.color.tickFormat\n            : Intl.NumberFormat(\n                  plot.options.locale,\n                  plot.options.color.tickFormat || { ...DEFAULTS.numberFormat, notation: 'compact' }\n              ).format\n    );\n    const randId = Math.round(Math.random() * 1e6).toFixed(32);\n</script>\n\n<!--\n    @component\n    The ColorLegend is an HTML mark that can be placed in the header, footer and overlay\n    snippets. You can activate an implicit ColorLegend above the chart using the global\n    color.legend scale option.\n-->\n\n{#if plot.scales.color.manualActiveMarks > 0}\n    <div class=\"color-legend {className || ''}\">\n        {#if legendTitle}\n            <!-- eslint-disable-next-line svelte/no-at-html-tags -->\n            <div class=\"title\">{@html legendTitle}</div>\n        {/if}\n        {#if scaleType === 'ordinal' || scaleType === 'categorical'}\n            {#each plot.scales.color.domain as value (value)}\n                {@const symbolV = plot.scales.symbol.fn(value)}\n                {@const symbolType = maybeSymbol(symbolV)}\n                <div class=\"item\">\n                    <div class=\"swatch\">\n                        <svg width=\"15\" height=\"15\"\n                            >{#if plot.colorSymbolRedundant}\n                                <path\n                                    transform=\"translate(7.5,7.5)\"\n                                    style:fill={plot.hasFilledDotMarks\n                                        ? plot.scales.color.fn(value)\n                                        : 'none'}\n                                    style:stroke={plot.hasFilledDotMarks\n                                        ? null\n                                        : plot.scales.color.fn(value)}\n                                    d={d3Symbol(symbolType, 40)()} />\n                            {:else}\n                                <rect\n                                    style:fill={plot.scales.color.fn(value)}\n                                    width=\"15\"\n                                    height=\"15\" />\n                            {/if}</svg>\n                    </div>\n                    <span class=\"item-label\">{value}</span>\n                </div>\n            {/each}\n        {:else if scaleType === 'quantile' || scaleType === 'quantize' || scaleType === 'threshold'}\n            {@const domain = extent(plot.scales.color.fn.domain())}\n            {@const range = plot.scales.color.range}\n            {@const tickLabels =\n                scaleType === 'quantile'\n                    ? plot.scales.color.fn.quantiles()\n                    : scaleType === 'quantize'\n                      ? plot.scales.color.fn.thresholds()\n                      : plot.scales.color.fn.domain()}\n            {@const ticks = d3Range(\n                domain[0],\n                domain[1],\n                (domain[1] - domain[0]) / range.length\n            ).slice(1)}\n            <Plot\n                maxWidth=\"240px\"\n                margin={1}\n                marginLeft={1}\n                marginRight={1}\n                marginTop={6}\n                marginBottom={20}\n                height={38}\n                inset={0}\n                x={{ domain, ticks }}>\n                <defs>\n                    <linearGradient id=\"gradient-{randId}\" x2=\"1\">\n                        <stop offset=\"0%\" stop-color={range[0]} />\n                        {#each ticks as t, i (i)}\n                            {@const offset = (100 * (t - domain[0])) / (domain[1] - domain[0])}\n                            <stop\n                                offset=\"{offset - 0.001}%\"\n                                stop-color={plot.scales.color.fn(tickLabels[i] - 0.1)} />\n                            <stop\n                                offset=\"{offset}%\"\n                                stop-color={plot.scales.color.fn(tickLabels[i])} />\n                        {/each}\n                        <stop offset=\"100%\" stop-color={range.at(-1)} />\n                    </linearGradient>\n                </defs>\n                <Frame dy={-5} stroke={null} fill=\"url(#gradient-{randId})\" />\n                <AxisX tickSize={18} dy={-17} tickFormat={(d, i) => tickFormat(tickLabels[i])} />\n            </Plot>\n        {:else}\n            <!--- continuous -->\n            {@const domain = extent(plot.scales.color.domain)}\n            {@const ticks = d3Range(domain[0], domain[1], (domain[1] - domain[0]) / 7).slice(1)}\n\n            <Plot\n                maxWidth=\"240px\"\n                margin={1}\n                marginLeft={10}\n                marginRight={10}\n                marginTop={6}\n                marginBottom={20}\n                height={38}\n                inset={0}\n                x={{ domain, tickSpacing: 30, tickFormat }}>\n                <defs>\n                    <linearGradient id=\"gradient-{randId}\" x2=\"1\">\n                        {#each ticks as t (t)}\n                            <stop\n                                offset=\"{(100 * (t - domain[0])) / (domain[1] - domain[0])}%\"\n                                stop-color={plot.scales.color.fn(t)} />\n                        {/each}\n                    </linearGradient>\n                </defs>\n                <Frame dy={-5} stroke={null} fill=\"url(#gradient-{randId})\" />\n                <AxisX tickSize={18} dy={-17} />\n            </Plot>\n        {/if}\n    </div>\n{/if}\n\n<style>\n    .color-legend {\n        text-align: left;\n        font-size: 12px;\n        display: inline-block;\n        margin-right: 2em;\n    }\n    .title {\n        font-weight: 500;\n    }\n    .item {\n        margin: 0 1em 0.5ex 0;\n    }\n    path {\n        stroke-width: 1.5;\n    }\n    .item,\n    .item-label,\n    .swatch {\n        display: inline-flex;\n        align-items: center;\n        column-gap: 0.3rem;\n    }\n    .item-label {\n        vertical-align: super;\n    }\n</style>\n", "<!-- @component\n    Renders vertical gridlines at x-axis tick positions\n-->\n<script lang=\"ts\" generics=\"Datum = RawValue\">\n    interface GridXMarkProps extends Omit<BaseMarkProps<Datum>, 'fill' | 'fillOpacity'> {\n        data?: Datum[];\n        automatic?: boolean;\n        y1?: ChannelAccessor<Datum>;\n        y2?: ChannelAccessor<Datum>;\n    }\n    import Mark from '../Mark.svelte';\n    import type { BaseMarkProps, RawValue, DataRecord, ChannelAccessor } from '../types/index.js';\n    import { resolveChannel, resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import { autoTicks } from '../helpers/autoTicks.js';\n    import { testFilter } from '../helpers/index.js';\n    import { RAW_VALUE } from '../transforms/recordize.js';\n    import isDataRecord from '../helpers/isDataRecord';\n    import { INDEX } from '../constants';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: GridXMarkProps = $props();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().grid,\n        ...getPlotDefaults().gridX\n    };\n\n    const {\n        data = [],\n        automatic = false,\n        ...options\n    }: GridXMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const autoTickCount = $derived(\n        Math.max(3, Math.round(plot.facetWidth / plot.options.x.tickSpacing))\n    );\n\n    const ticks: DataRecord[] = $derived(\n        (data.length > 0\n            ? // use custom tick values if user passed any as prop\n              data\n            : // use custom scale tick values if user passed any as plot scale option\n              autoTicks(\n                  plot.scales.x.type,\n                  plot.options.x.ticks,\n                  plot.options.x.interval,\n                  plot.scales.x.domain,\n                  plot.scales.x.fn,\n                  autoTickCount\n              )\n        ).map((d, i) =>\n            isDataRecord(d) ? { ...d, [INDEX]: i } : { [RAW_VALUE]: d, [INDEX]: i }\n        ) as DataRecord[]\n    );\n</script>\n\n<Mark\n    type=\"gridX\"\n    data={data.length ? data.map((tick) => ({ [RAW_VALUE]: tick })) : []}\n    channels={['y1', 'y2', 'x', 'stroke', 'strokeOpacity']}\n    {...{ ...options, x: RAW_VALUE }}\n    {automatic}>\n    {#snippet children({ usedScales })}\n        <g class=\"grid-x\">\n            {#each ticks as tick, t (t)}\n                {#if testFilter(tick, options)}\n                    {@const x =\n                        plot.scales.x.fn(tick[RAW_VALUE]) +\n                        (plot.scales.x.type === 'band' ? plot.scales.x.fn.bandwidth() * 0.5 : 0)}\n                    {@const y1_ = resolveChannel('y1', tick, options)}\n                    {@const y2_ = resolveChannel('y2', tick, options)}\n                    {@const dx = +resolveProp(options?.dx, tick, 0)}\n                    {@const dy = +resolveProp(options?.dy, tick, 0)}\n                    {@const y1 =\n                        options.y1 != null ? plot.scales.y.fn(y1_) : plot.options.marginTop}\n                    {@const y2 =\n                        options.y2 != null\n                            ? plot.scales.y.fn(y2_)\n                            : plot.options.marginTop + plot.facetHeight}\n                    {@const [style, styleClass] = resolveStyles(\n                        plot,\n                        { datum: tick },\n                        options,\n                        'stroke',\n                        usedScales,\n                        true\n                    )}\n                    <line\n                        class={styleClass}\n                        transform=\"translate({x + dx},{dy})\"\n                        {style}\n                        {y1}\n                        {y2} />\n                {/if}\n            {/each}\n        </g>\n    {/snippet}\n</Mark>\n\n<style>\n    line {\n        stroke: currentColor;\n        stroke-opacity: 0.2;\n    }\n</style>\n", "<!-- @component\n    Renders horizontal gridlines at y-axis tick positions\n-->\n<script lang=\"ts\" generics=\"Datum = RawValue\">\n    interface GridYMarkProps extends Omit<BaseMarkProps<Datum>, 'fill' | 'fillOpacity'> {\n        data?: Datum[];\n        automatic?: boolean;\n        x1?: ChannelAccessor<Datum>;\n        x2?: ChannelAccessor<Datum>;\n    }\n    import Mark from '../Mark.svelte';\n    import type { BaseMarkProps, RawValue, ChannelAccessor } from '../types/index.js';\n    import { resolveChannel, resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import { autoTicks } from '../helpers/autoTicks.js';\n    import { testFilter } from '../helpers/index.js';\n    import { RAW_VALUE } from '../transforms/recordize.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: GridYMarkProps = $props();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().grid,\n        ...getPlotDefaults().gridY\n    };\n\n    const {\n        data = [],\n        automatic = false,\n        ...options\n    }: GridYMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const autoTickCount = $derived(\n        Math.max(2, Math.round(plot.facetHeight / plot.options.y.tickSpacing))\n    );\n\n    const ticks: RawValue[] = $derived(\n        data.length > 0\n            ? // use custom tick values if user passed any as prop\n              data\n            : // use custom scale tick values if user passed any as plot scale option\n              autoTicks(\n                  plot.scales.y.type,\n                  plot.options.y.ticks,\n                  plot.options.y.interval,\n                  plot.scales.y.domain,\n                  plot.scales.y.fn,\n                  autoTickCount\n              )\n    );\n</script>\n\n<Mark\n    type=\"gridY\"\n    data={data.length ? data.map((tick) => ({ [RAW_VALUE]: tick })) : []}\n    channels={['x1', 'x2', 'y', 'stroke', 'strokeOpacity']}\n    {...{ ...options, y: RAW_VALUE }}\n    {automatic}>\n    {#snippet children({ usedScales })}\n        <g class=\"grid-y\">\n            {#each ticks as tick, t (t)}\n                {#if testFilter(tick, options)}\n                    {@const y =\n                        plot.scales.y.fn(tick) +\n                        (plot.scales.y.type === 'band' ? plot.scales.y.fn.bandwidth() * 0.5 : 0)}\n                    {@const x1_ = resolveChannel('x1', tick, options)}\n                    {@const x2_ = resolveChannel('x2', tick, options)}\n                    {@const x1 =\n                        options.x1 != null ? plot.scales.x.fn(x1_) : plot.options.marginLeft}\n                    {@const x2 =\n                        options.x2 != null\n                            ? plot.scales.x.fn(x2_)\n                            : plot.options.marginLeft + plot.facetWidth}\n                    {@const dx = +resolveProp(options?.dx, tick, 0)}\n                    {@const dy = +resolveProp(options?.dy, tick, 0)}\n                    {@const [style, styleClass] = resolveStyles(\n                        plot,\n                        { datum: { [RAW_VALUE]: tick } },\n                        options,\n                        'stroke',\n                        usedScales,\n                        true\n                    )}\n                    <line\n                        {style}\n                        class={styleClass}\n                        transform=\"translate({dx},{y + dy})\"\n                        {x1}\n                        {x2} />\n                {/if}\n            {/each}\n        </g>\n    {/snippet}\n</Mark>\n\n<style>\n    line {\n        stroke: currentColor;\n        stroke-opacity: 0.2;\n    }\n</style>\n", "<script lang=\"ts\">\n    import { symbol as d3Symbol } from 'd3-shape';\n    import { maybeSymbol } from '../helpers/symbols.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const plot = usePlot();\n\n    // TODO: allow styling of legend\n</script>\n\n<!--\n    @component\n    The SymbolLegend is an HTML mark that can be placed in the header, footer and overlay\n    snippets. You can activate an implicit SymbolLegend above the chart using the global\n    symbol.legend scale option.\n-->\n\n{#if plot.scales.color.manualActiveMarks > 0}\n    <div class=\"symbol-legend\">\n        {#each plot.scales.color.domain as value (value)}\n            {@const symbolV = plot.scales.symbol.fn(value)}\n            {@const symbolType = maybeSymbol(symbolV)}\n            {@const color = plot.colorSymbolRedundant\n                ? plot.scales.color.fn(value)\n                : 'currentColor'}\n            <div class=\"item\">\n                <div class=\"swatch\">\n                    <svg width=\"15\" height=\"15\">\n                        <path\n                            transform=\"translate(7.5,7.5)\"\n                            style:fill={plot.hasFilledDotMarks ? color : 'none'}\n                            style:stroke={plot.hasFilledDotMarks ? null : color}\n                            d={d3Symbol(symbolType, 40)()} />\n                    </svg>\n                </div>\n                <span class=\"item-label\">{value}</span>\n            </div>\n        {/each}\n    </div>\n{/if}\n\n<style>\n    .symbol-legend {\n        text-align: left;\n        font-size: 12px;\n        display: inline-block;\n        margin-right: 2em;\n    }\n    .item {\n        margin: 0 1em 0.5ex 0;\n    }\n    path {\n        stroke-width: 1.5;\n    }\n    .item,\n    .item-label,\n    .swatch {\n        display: inline-block;\n    }\n    .item-label {\n        vertical-align: text-bottom;\n    }\n</style>\n", "<!-- \n    @component\n    The FacetAxes component renders the facet axes\n-->\n<script lang=\"ts\">\n    import { getContext } from 'svelte';\n    import type { PlotContext } from '../types/index.js';\n    import { scaleBand } from 'd3-scale';\n    import BaseAxisX from '../marks/helpers/BaseAxisX.svelte';\n    import BaseAxisY from '../marks/helpers/BaseAxisY.svelte';\n\n    const { getPlotState } = getContext<PlotContext>('svelteplot');\n    // we need the plot context for the overall width & height\n    const plot = $derived(getPlotState());\n\n    const useFacetX = $derived(plot.scales.fx.domain.length > 0);\n    const useFacetY = $derived(plot.scales.fy.domain.length > 0);\n\n    const fxValues = $derived(useFacetX ? plot.scales.fx.domain : [true]);\n    const fyValues = $derived(useFacetY ? plot.scales.fy.domain : [true]);\n\n    // create band scales for fx and fy\n    const facetXScale = $derived(\n        scaleBand()\n            .paddingInner(plot.options.fx?.paddingInner ?? plot.options.fx?.padding ?? 0.1)\n            .domain(fxValues)\n            .rangeRound([0, plot.plotWidth])\n    );\n    const facetYScale = $derived(\n        scaleBand()\n            .paddingInner(plot.options.fy?.paddingInner ?? plot.options.fy?.padding ?? 0.1)\n            .domain(fyValues)\n            .rangeRound([0, plot.plotHeight])\n    );\n</script>\n\n<!-- facet grid -->\n{#if fxValues.length > 1 && plot.options.fx.axis}\n    <g transform=\"translate({plot.options.marginLeft}, 0)\">\n        <BaseAxisX\n            class=\"facet-axis-x\"\n            scaleFn={facetXScale}\n            scaleType=\"band\"\n            ticks={fxValues}\n            tickFormat={plot.options.fx.tickFormat || ((d) => d)}\n            tickFontSize={11}\n            tickSize={0}\n            tickPadding={plot.options.x.axis === plot.options.fx.axis ||\n            plot.options.x.axis === 'both'\n                ? 25\n                : 5}\n            anchor={plot.options.fx.axis}\n            options={plot.options.fx.axisOptions || {}}\n            {...plot.options.fx.axisProps || {}}\n            height={plot.plotHeight}\n            marginTop={plot.options.marginTop}\n            {plot} />\n    </g>\n{/if}\n{#if fyValues.length > 1 && plot.options.fy.axis}\n    <g transform=\"translate(0, {plot.options.marginTop})\">\n        <BaseAxisY\n            class=\"facet-axis-y\"\n            scaleFn={facetYScale}\n            scaleType=\"band\"\n            ticks={fyValues}\n            tickFormat={plot.options.fy.tickFormat || ((d) => d)}\n            tickFontSize={11}\n            tickSize={0}\n            tickPadding={5}\n            anchor={plot.options.fy.axis}\n            lineAnchor=\"center\"\n            options={plot.options.fy.axisOptions || {}}\n            {...plot.options.fy.axisProps || {}}\n            width={plot.plotWidth}\n            marginLeft={plot.options.marginLeft}\n            {plot} />\n    </g>\n{/if}\n", "export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n", "import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n", "import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n", "export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n", "import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n", "import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n", "import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n", "export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n", "import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n", "import { interpolateBlues, interpolateBrBG, interpolateBuGn, interpolateBuPu, interpolateGnBu, interpolateGreens, interpolateGreys, interpolateOranges, interpolateOrRd, interpolatePiYG, interpolatePRGn, interpolatePuBu, interpolatePuBuGn, interpolatePuOr, interpolatePuRd, interpolatePurples, interpolateRdBu, interpolateRdGy, interpolateRdPu, interpolateRdYlBu, interpolateRdYlGn, interpolateReds, interpolateSpectral, interpolateYlGn, interpolateYlGnBu, interpolateYlOrBr, interpolateYlOrRd, interpolateTurbo, interpolateViridis, interpolateMagma, interpolateInferno, interpolatePlasma, interpolateCividis, interpolateCubehelixDefault, interpolateWarm, interpolateCool, interpolateRainbow, interpolateSinebow, schemeAccent, schemeBlues, schemeBrBG, schemeBuGn, schemeBuPu, schemeCategory10, schemeDark2, schemeGnBu, schemeGreens, schemeGreys, schemeOranges, schemeOrRd, schemePaired, schemePastel1, schemePastel2, schemePiYG, schemePRGn, schemePuBu, schemePuBuGn, schemePuOr, schemePuRd, schemePurples, schemeRdBu, schemeRdGy, schemeRdPu, schemeRdYlBu, schemeRdYlGn, schemeReds, schemeSet1, schemeSet2, schemeSet3, schemeSpectral, schemeTableau10, schemeYlGn, schemeYlGnBu, schemeYlOrBr, schemeYlOrRd } from 'd3-scale-chromatic';\nimport { quantize } from 'd3-interpolate';\nconst schemeObservable10 = [\n    '#4269d0',\n    '#efb118',\n    '#ff725c',\n    '#6cc5b0',\n    '#3ca951',\n    '#ff8ab7',\n    '#a463f2',\n    '#97bbf5',\n    '#9c6b4e',\n    '#9498a0'\n];\nexport const categoricalSchemes = new Map([\n    ['accent', schemeAccent],\n    ['category10', schemeCategory10],\n    ['dark2', schemeDark2],\n    ['observable10', schemeObservable10],\n    ['paired', schemePaired],\n    ['pastel1', schemePastel1],\n    ['pastel2', schemePastel2],\n    ['set1', schemeSet1],\n    ['set2', schemeSet2],\n    ['set3', schemeSet3],\n    ['tableau10', schemeTableau10]\n]);\nexport function isCategoricalScheme(scheme) {\n    return scheme != null && categoricalSchemes.has(`${scheme}`.toLowerCase());\n}\nconst ordinalSchemes = new Map([\n    // diverging\n    ['brbg', scheme11(schemeBrBG, interpolateBrBG)],\n    ['prgn', scheme11(schemePRGn, interpolatePRGn)],\n    ['piyg', scheme11(schemePiYG, interpolatePiYG)],\n    ['puor', scheme11(schemePuOr, interpolatePuOr)],\n    ['rdbu', scheme11(schemeRdBu, interpolateRdBu)],\n    ['rdgy', scheme11(schemeRdGy, interpolateRdGy)],\n    ['rdylbu', scheme11(schemeRdYlBu, interpolateRdYlBu)],\n    ['rdylgn', scheme11(schemeRdYlGn, interpolateRdYlGn)],\n    ['spectral', scheme11(schemeSpectral, interpolateSpectral)],\n    // reversed diverging (for temperature data)\n    ['burd', scheme11r(schemeRdBu, interpolateRdBu)],\n    ['buylrd', scheme11r(schemeRdYlBu, interpolateRdYlBu)],\n    // sequential (single-hue)\n    ['blues', scheme9(schemeBlues, interpolateBlues)],\n    ['greens', scheme9(schemeGreens, interpolateGreens)],\n    ['grays', scheme9(schemeGreys, interpolateGreys)],\n    ['greys', scheme9(schemeGreys, interpolateGreys)],\n    ['oranges', scheme9(schemeOranges, interpolateOranges)],\n    ['purples', scheme9(schemePurples, interpolatePurples)],\n    ['reds', scheme9(schemeReds, interpolateReds)],\n    // sequential (multi-hue)\n    ['turbo', schemei(interpolateTurbo)],\n    ['viridis', schemei(interpolateViridis)],\n    ['magma', schemei(interpolateMagma)],\n    ['inferno', schemei(interpolateInferno)],\n    ['plasma', schemei(interpolatePlasma)],\n    ['cividis', schemei(interpolateCividis)],\n    ['cubehelix', schemei(interpolateCubehelixDefault)],\n    ['warm', schemei(interpolateWarm)],\n    ['cool', schemei(interpolateCool)],\n    ['bugn', scheme9(schemeBuGn, interpolateBuGn)],\n    ['bupu', scheme9(schemeBuPu, interpolateBuPu)],\n    ['gnbu', scheme9(schemeGnBu, interpolateGnBu)],\n    ['orrd', scheme9(schemeOrRd, interpolateOrRd)],\n    ['pubu', scheme9(schemePuBu, interpolatePuBu)],\n    ['pubugn', scheme9(schemePuBuGn, interpolatePuBuGn)],\n    ['purd', scheme9(schemePuRd, interpolatePuRd)],\n    ['rdpu', scheme9(schemeRdPu, interpolateRdPu)],\n    ['ylgn', scheme9(schemeYlGn, interpolateYlGn)],\n    ['ylgnbu', scheme9(schemeYlGnBu, interpolateYlGnBu)],\n    ['ylorbr', scheme9(schemeYlOrBr, interpolateYlOrBr)],\n    ['ylorrd', scheme9(schemeYlOrRd, interpolateYlOrRd)],\n    // cyclical\n    ['rainbow', schemeicyclical(interpolateRainbow)],\n    ['sinebow', schemeicyclical(interpolateSinebow)]\n]);\nexport function isOrdinalScheme(scheme) {\n    return ordinalSchemes.has(`${scheme}`.toLowerCase());\n}\nfunction scheme9(scheme, interpolate) {\n    return (n) => {\n        if (n === 1)\n            return [scheme[3][1]]; // favor midpoint\n        if (n === 2)\n            return [scheme[3][1], scheme[3][2]]; // favor darker\n        n = Math.max(3, Math.floor(n));\n        return n > 9 ? quantize(interpolate, n) : scheme[n];\n    };\n}\nfunction scheme11(scheme, interpolate) {\n    return (n) => {\n        if (n === 2)\n            return [scheme[3][0], scheme[3][2]]; // favor diverging extrema\n        n = Math.max(3, Math.floor(n));\n        return n > 11 ? quantize(interpolate, n) : scheme[n];\n    };\n}\nfunction scheme11r(scheme, interpolate) {\n    return (n) => {\n        if (n === 2)\n            return [scheme[3][2], scheme[3][0]]; // favor diverging extrema\n        n = Math.max(3, Math.floor(n));\n        return n > 11 ? quantize((t) => interpolate(1 - t), n) : scheme[n].slice().reverse();\n    };\n}\nfunction schemei(interpolate) {\n    return (n) => quantize(interpolate, Math.max(2, Math.floor(n)));\n}\nfunction schemeicyclical(interpolate) {\n    return (n) => quantize(interpolate, Math.floor(n) + 1).slice(0, -1);\n}\nexport function ordinalScheme(scheme) {\n    const s = `${scheme}`.toLowerCase();\n    const match = ordinalSchemes.get(s);\n    if (!match)\n        throw new Error(`unknown ordinal scheme: ${s}`);\n    return match;\n}\nexport function ordinalRange(scheme, length) {\n    const s = ordinalScheme(scheme);\n    const r = typeof s === 'function' ? s(length) : s;\n    return r.length !== length ? r.slice(0, length) : r;\n}\n// If the specified domain contains only booleans (ignoring null and undefined),\n// returns a corresponding range where false is mapped to the low color and true\n// is mapped to the high color of the specified scheme.\nexport function maybeBooleanRange(domain, scheme = 'greys') {\n    const range = new Set();\n    const [f, t] = ordinalRange(scheme, 2);\n    for (const value of domain) {\n        if (value == null)\n            continue;\n        if (value === true)\n            range.add(t);\n        else if (value === false)\n            range.add(f);\n        else\n            return;\n    }\n    return [...range];\n}\nconst quantitativeSchemes = new Map([\n    // diverging\n    ['brbg', interpolateBrBG],\n    ['prgn', interpolatePRGn],\n    ['piyg', interpolatePiYG],\n    ['puor', interpolatePuOr],\n    ['rdbu', interpolateRdBu],\n    ['rdgy', interpolateRdGy],\n    ['rdylbu', interpolateRdYlBu],\n    ['rdylgn', interpolateRdYlGn],\n    ['spectral', interpolateSpectral],\n    // reversed diverging (for temperature data)\n    ['burd', (t) => interpolateRdBu(1 - t)],\n    ['buylrd', (t) => interpolateRdYlBu(1 - t)],\n    // sequential (single-hue)\n    ['blues', interpolateBlues],\n    ['greens', interpolateGreens],\n    ['grays', interpolateGreys],\n    ['greys', interpolateGreys],\n    ['purples', interpolatePurples],\n    ['reds', interpolateReds],\n    ['oranges', interpolateOranges],\n    // sequential (multi-hue)\n    ['turbo', interpolateTurbo],\n    ['viridis', interpolateViridis],\n    ['magma', interpolateMagma],\n    ['inferno', interpolateInferno],\n    ['plasma', interpolatePlasma],\n    ['cividis', interpolateCividis],\n    ['cubehelix', interpolateCubehelixDefault],\n    ['warm', interpolateWarm],\n    ['cool', interpolateCool],\n    ['bugn', interpolateBuGn],\n    ['bupu', interpolateBuPu],\n    ['gnbu', interpolateGnBu],\n    ['orrd', interpolateOrRd],\n    ['pubugn', interpolatePuBuGn],\n    ['pubu', interpolatePuBu],\n    ['purd', interpolatePuRd],\n    ['rdpu', interpolateRdPu],\n    ['ylgnbu', interpolateYlGnBu],\n    ['ylgn', interpolateYlGn],\n    ['ylorbr', interpolateYlOrBr],\n    ['ylorrd', interpolateYlOrRd],\n    // cyclical\n    ['rainbow', interpolateRainbow],\n    ['sinebow', interpolateSinebow]\n]);\nexport function isQuantitativeScheme(scheme) {\n    return quantitativeSchemes.has(String(scheme).toLowerCase());\n}\nexport function quantitativeScheme(scheme) {\n    const s = `${scheme}`.toLowerCase();\n    if (!quantitativeSchemes.has(s))\n        throw new Error(`unknown quantitative scheme: ${s}`);\n    return quantitativeSchemes.get(s);\n}\nconst divergingSchemes = new Set([\n    'brbg',\n    'prgn',\n    'piyg',\n    'puor',\n    'rdbu',\n    'rdgy',\n    'rdylbu',\n    'rdylgn',\n    'spectral',\n    'burd',\n    'buylrd'\n]);\nexport function isDivergingScheme(scheme) {\n    return scheme != null && divergingSchemes.has(`${scheme}`.toLowerCase());\n}\n", "/**\n * Helper function to call a D3 \"function class\" while also calling\n * property setter functions on the result.\n */\nexport default function (d3func, args = [], props = {}) {\n    const res = d3func(...args);\n    const resWithKeys = res;\n    for (const [key, val] of Object.entries(props)) {\n        const setter = resWithKeys[key];\n        if (typeof setter !== 'function')\n            throw new Error(`function ${key} does not exist`);\n        setter(val);\n    }\n    return res;\n}\n", "import { ticks as ticksArray } from 'd3-array';\nexport function getLogTicks(domain, count = 6) {\n    const inverted = domain[0] < 0 && domain[1] < 0;\n    if (inverted)\n        domain = [domain[0] * -1, domain[1] * -1];\n    const reversed = domain[1] < domain[0];\n    if (reversed)\n        domain = domain.slice(0).reverse();\n    if (domain[0] < 0 || domain[1] < 0)\n        return [];\n    if (domain[0] === 0)\n        return ticksArray(domain[0], domain[1], count - 2);\n    let mult = 1; //Math.pow(10, Math.floor(Math.log10(Math.abs(domain[1] - domain[0]))) - 1);\n    count += 2;\n    let candidates = getTickCandidates(domain, mult);\n    if (candidates[0].num > count) {\n        // too many ticks\n        while (candidates[0].num > count) {\n            mult *= 10;\n            candidates = getTickCandidates(domain, mult);\n        }\n    }\n    else if (candidates[candidates.length - 1].num < count) {\n        // not enough ticks, let's fallback to linear ticks\n        const ticksList = ticksArray(domain[0], domain[1], count - 2);\n        if (reversed)\n            ticksList.reverse();\n        return ticksList;\n    }\n    count -= 2;\n    const ticksList = candidates\n        .map((d) => ({\n        ...d,\n        ticks: d.ticks.filter((t) => t >= domain[0] && t <= domain[1])\n    }))\n        .map((d) => ({ ...d, diff: Math.abs(d.ticks.length - count) }))\n        .sort((a, b) => a.diff - b.diff)[0].ticks;\n    if (reversed)\n        ticksList.reverse();\n    if (inverted)\n        return ticksList.map((t) => t * -1);\n    return ticksList;\n}\nconst logSeries = [[10], [5, 4, 5], [3, 10 / 3], [2, 2.5, 2], [1.5, 2, 5 / 3, 2]];\nfunction getTickCandidates(domain, mult = 1) {\n    return logSeries.map((factors) => {\n        let i = Math.pow(10, Math.floor(Math.log10(domain[0])));\n        let f = 0;\n        const ticks = [i];\n        while (i < domain[1] && ticks.length < 50) {\n            i *= factors[f] * mult;\n            ticks.push(i);\n            f = (f + 1) % factors.length;\n        }\n        return { ticks, num: ticks.length };\n    });\n}\n", "import { scaleBand, scaleDiverging, scaleDivergingLog, scaleDivergingPow, scaleDivergingSqrt, scaleDivergingSymlog, scaleLinear, scaleLog, scaleOrdinal, scalePoint, scalePow, scaleQuantile, scaleQuantize, scaleSequential, scaleSequentialLog, scaleSequentialPow, scaleSequentialQuantile, scaleSequentialSqrt, scaleSequentialSymlog, scaleSqrt, scaleSymlog, scaleThreshold, scaleTime } from 'd3-scale';\nimport { range as d3Range } from 'd3-array';\nimport { categoricalSchemes, isCategoricalScheme, isDivergingScheme, isOrdinalScheme, isQuantitativeScheme, ordinalScheme, quantitativeScheme } from './colors.js';\nimport callWithProps from './callWithProps.js';\nimport { interpolateLab, interpolateRound } from 'd3-interpolate';\nimport { coalesce, maybeNumber } from './index.js';\nimport { getLogTicks } from './getLogTicks.js';\nimport { isPlainObject } from 'es-toolkit';\nconst Scales = {\n    point: scalePoint,\n    band: scaleBand,\n    linear: scaleLinear,\n    time: scaleTime,\n    sqrt: scaleSqrt,\n    pow: scalePow,\n    log: scaleLog,\n    symlog: scaleSymlog,\n    ordinal: scaleOrdinal,\n    sequential: scaleSequential,\n    diverging: scaleDiverging\n};\nconst SequentialScales = {\n    linear: scaleSequential,\n    log: scaleSequentialLog,\n    symlog: scaleSequentialSymlog,\n    pow: scaleSequentialPow,\n    sqrt: scaleSequentialSqrt,\n    'quantile-cont': scaleSequentialQuantile\n};\nconst DivergingScales = {\n    diverging: scaleDiverging,\n    'diverging-log': scaleDivergingLog,\n    'diverging-symlog': scaleDivergingSymlog,\n    'diverging-pow': scaleDivergingPow,\n    'diverging-sqrt': scaleDivergingSqrt\n};\nconst ThresholdScales = {\n    // custom thresholds\n    threshold: scaleThreshold,\n    // quantile scales\n    quantize: scaleQuantize,\n    quantile: scaleQuantile\n};\nexport function autoScale({ name, type, domain, scaleOptions, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults }) {\n    let fn;\n    let range;\n    range =\n        scaleOptions?.range ||\n            getScaleRange(name, scaleOptions, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks);\n    if (scaleOptions.reverse)\n        range.reverse();\n    const niceTickCount = name === 'x' || name === 'y'\n        ? Math.round(Math.abs(range[0] - range[1]) / scaleOptions.tickSpacing)\n        : undefined;\n    const scaleProps = {\n        domain,\n        range,\n        ...((type === 'linear' || type === 'log') && scaleOptions.nice\n            ? {\n                nice: scaleOptions.nice ? niceTickCount : true\n            }\n            : {}),\n        ...(type === 'linear'\n            ? {\n                clamp: scaleOptions.clamp,\n                ...(scaleOptions.round ? { interpolate: interpolateRound } : {})\n            }\n            : {}),\n        ...(type === 'log'\n            ? {\n                base: scaleOptions.base || 10\n            }\n            : {}),\n        ...(type === 'symlog'\n            ? {\n                constant: scaleOptions.constant || 1\n            }\n            : {}),\n        ...(type === 'band' || type === 'point'\n            ? {\n                align: scaleOptions.align,\n                ...(type === 'point'\n                    ? {\n                        // point scales don't have paddingInner/Outer, only padding\n                        padding: maybeNumber(coalesce(scaleOptions.padding, plotOptions.padding, 0.15))\n                    }\n                    : {\n                        //   padding: maybeNumber(coalesce(scaleOptions.padding, plotOptions.padding, 0.15)),\n                        paddingInner: maybeNumber(coalesce(scaleOptions.paddingInner, scaleOptions.padding, plotOptions.padding, 0.15)),\n                        paddingOuter: maybeNumber(coalesce(scaleOptions.paddingOuter, scaleOptions.padding, plotOptions.padding, 0.15))\n                    })\n            }\n            : {})\n    };\n    fn = callWithProps(Scales[type], [], scaleProps);\n    if (type === 'band' || type === 'point') {\n        fn.ticks = () => domain;\n    }\n    if (type === 'log') {\n        fn.ticks = (count) => getLogTicks(domain, count);\n    }\n    else if (type === 'symlog') {\n        const maxabs = Math.max(Math.abs(domain[0]), Math.abs(domain[1]));\n        fn.ticks = (count) => {\n            const ticks = getLogTicks([scaleProps.constant + 1, maxabs], count / 2);\n            return [...ticks.map((t) => -t).reverse(), 0, ...ticks];\n        };\n    }\n    return fn;\n}\nexport function autoScaleColor({ type, domain, scaleOptions, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks, plotDefaults }) {\n    let fn;\n    let range;\n    // special treatment for color scales\n    const { scheme, interpolate, pivot, n = type === 'threshold' ? domain.length + 1 : 9, unknown = plotDefaults.unknown } = scaleOptions;\n    if (type === 'categorical' || type === 'ordinal') {\n        // categorical\n        let scheme_ = scheme || plotDefaults.categoricalColorScheme;\n        if (isPlainObject(scheme_)) {\n            const newScheme = Object.values(scheme_);\n            const newDomain = Object.keys(scheme_);\n            // for every value in domain that's not part of the scheme, map to unknown\n            for (const v of domain) {\n                if (scheme_[v] == null) {\n                    newDomain.push(v);\n                    newScheme.push(unknown);\n                }\n            }\n            domain = newDomain;\n            scheme_ = newScheme;\n        }\n        // categorical scale\n        range = Array.isArray(scheme_)\n            ? scheme_\n            : isCategoricalScheme(scheme_)\n                ? categoricalSchemes.get(scheme_)\n                : ordinalScheme(scheme_)(domain.length);\n        fn = scaleOrdinal().domain(domain).range(range);\n    }\n    else if (!!ThresholdScales[type]) {\n        const scheme_ = scheme || plotDefaults.colorScheme;\n        range =\n            Array.isArray(scheme_) && (scaleOptions.n == null || scaleOptions.n === scheme_.length)\n                ? scheme_.slice(0)\n                : Array.isArray(scheme_)\n                    ? // interpolate n colors from custom colors\n                        d3Range(n)\n                            .map((i) => i / (n - 1))\n                            .map(scaleLinear(scheme_.map((c, i) => i / (scheme_.length - 1)), scheme_).interpolate(interpolateLab))\n                    : interpolate\n                        ? d3Range(n).map((i) => interpolate(i / (n - 1)))\n                        : isOrdinalScheme(scheme_)\n                            ? ordinalScheme(scheme_)(n)\n                            : null;\n        if (range == null) {\n            throw new Error('unknown ordinal scheme ' + scheme_);\n        }\n        if (scaleOptions.reverse)\n            range = range.toReversed();\n        fn = ThresholdScales[type]().domain(domain).range(range);\n    }\n    else if (!!SequentialScales[type] || !!DivergingScales[type]) {\n        // continuous color scale\n        const scale = SequentialScales[type] || DivergingScales[type];\n        const scheme_ = scheme || plotDefaults.colorScheme;\n        if (interpolate) {\n            // user-defined interpolation function [0, 1] -> color\n            fn = scale(domain, interpolate);\n        }\n        else if (Array.isArray(scheme_)) {\n            // custom user-defined colors to interpolate from\n            const step = 1 / (scheme_.length - 1);\n            fn = scale(domain, (type === 'linear' ? scaleLinear : scaleLog)(d3Range(0, 1 + step / 2, step), scheme_).interpolate(interpolateLab));\n        }\n        else if (!!DivergingScales[type] ||\n            (scaleOptions.type === 'auto' && isDivergingScheme(scheme_))) {\n            // diverging color scheme, explicit or auto-detected\n            const maxabs = Math.max(Math.abs(domain[0]), Math.abs(domain[1]));\n            const domain_ = pivot != null ? [domain[0], pivot, domain[1]] : [-maxabs, 0, maxabs];\n            fn = scale(domain_, quantitativeScheme(scheme_));\n        }\n        else if (!!SequentialScales[type] ||\n            (scaleOptions.type === 'auto' && isQuantitativeScheme(scheme_))) {\n            // sequential\n            fn = scale(domain, quantitativeScheme(scheme_));\n        }\n        if (type === 'log') {\n            fn.ticks = (count) => getLogTicks(domain, count);\n        }\n    }\n    if (!fn) {\n        console.error('color problem', type);\n        // problem\n        fn = () => 'red';\n        fn.range = () => ['red'];\n    }\n    return fn;\n}\nfunction getScaleRange(name, scaleOptions, plotOptions, plotWidth, plotHeight, plotHasFilledDotMarks) {\n    const { marginTop, marginLeft, inset } = plotOptions;\n    const { insetLeft, insetRight, insetTop, insetBottom } = scaleOptions;\n    return name === 'opacity'\n        ? [0, 1]\n        : name === 'length'\n            ? [0, 20]\n            : name === 'x'\n                ? [\n                    marginLeft + (insetLeft || inset || 0),\n                    marginLeft + plotWidth - (insetRight || inset || 0)\n                ]\n                : name === 'y'\n                    ? [\n                        plotHeight + marginTop - (insetBottom || inset || 0),\n                        marginTop + (insetTop || inset || 0)\n                    ]\n                    : name === 'r'\n                        ? [0, 10]\n                        : name === 'symbol'\n                            ? // Plot is smart enough to pick different default shapes depending on whether\n                                // or not there are filled dot marks in the plot, so we have to pass this\n                                // information all the way here\n                                plotHasFilledDotMarks\n                                    ? ['circle', 'cross', 'diamond', 'square', 'star', 'triangle', 'wye']\n                                    : ['circle', 'plus', 'times', 'triangle2', 'asterisk', 'square2', 'diamond2']\n                            : [];\n}\n", "import { geoAlbers, geoAlbersUsa, geoAzimuthalEqualArea, geoAzimuthalEquidistant, geoConicConformal, geoConicEqualArea, geoConicEquidistant, geoEqualEarth, geoEquirectangular, geoGnomonic, geoMercator, geoOrthographic, geoStereographic, geoTransverseMercator, geoTransform } from 'd3-geo';\nimport { constant } from './index.js';\nconst identity = constant({ stream: (stream) => stream });\nconst reflectY = constant({\n    ...geoTransform({\n        point(x, y) {\n            this.stream.point(x, -y);\n        }\n    }),\n    invert(x, y) {\n        return [x, -y];\n    }\n});\nconst pi = Math.PI;\nconst tau = 2 * pi;\nexport function namedProjection(projection) {\n    switch (`${projection}`.toLowerCase()) {\n        case 'albers-usa':\n            return scaleProjection(geoAlbersUsa, 0.7463, 0.4673);\n        case 'albers':\n            return conicProjection(geoAlbers, 0.7463, 0.4673);\n        case 'azimuthal-equal-area':\n            return scaleProjection(geoAzimuthalEqualArea, 4, 4);\n        case 'azimuthal-equidistant':\n            return scaleProjection(geoAzimuthalEquidistant, tau, tau);\n        case 'conic-conformal':\n            return conicProjection(geoConicConformal, tau, tau);\n        case 'conic-equal-area':\n            return conicProjection(geoConicEqualArea, 6.1702, 2.9781);\n        case 'conic-equidistant':\n            return conicProjection(geoConicEquidistant, 7.312, 3.6282);\n        case 'equal-earth':\n            return scaleProjection(geoEqualEarth, 5.4133, 2.6347);\n        case 'equirectangular':\n            return scaleProjection(geoEquirectangular, tau, pi);\n        case 'gnomonic':\n            return scaleProjection(geoGnomonic, 3.4641, 3.4641);\n        case 'identity':\n            return { type: identity };\n        case 'reflect-y':\n            return { type: reflectY };\n        case 'mercator':\n            return scaleProjection(geoMercator, tau, tau);\n        case 'orthographic':\n            return scaleProjection(geoOrthographic, 2, 2);\n        case 'stereographic':\n            return scaleProjection(geoStereographic, 2, 2);\n        case 'transverse-mercator':\n            return scaleProjection(geoTransverseMercator, tau, tau);\n        default:\n            throw new Error(`unknown projection type: ${projection}`);\n    }\n}\nfunction scaleProjection(createProjection, kx, ky) {\n    return {\n        type: ({ width, height, rotate, precision = 0.15, clip }) => {\n            const projection = createProjection();\n            if (precision != null)\n                projection.precision?.(precision);\n            if (rotate != null)\n                projection.rotate?.(rotate);\n            if (typeof clip === 'number')\n                projection.clipAngle?.(clip);\n            projection.scale(Math.min(width / kx, height / ky));\n            projection.translate([width / 2, height / 2]);\n            return projection;\n        },\n        aspectRatio: ky / kx\n    };\n}\nfunction conicProjection(createProjection, kx, ky) {\n    const { type, aspectRatio } = scaleProjection(createProjection, kx, ky);\n    return {\n        type: (options) => {\n            const { parallels, domain, width, height } = options;\n            const projection = type(options);\n            if (parallels != null) {\n                projection.parallels?.(parallels);\n                if (domain === undefined) {\n                    projection.fitSize([width, height], { type: 'Sphere' });\n                }\n            }\n            return projection;\n        },\n        aspectRatio\n    };\n}\n", "<!--\n    @component\n    The Plot component is the container for plots. It collects the marks with\n    their data and channels and computes the shared scales.\n\n    The Plot component is split into two parts. This is the outer Plot which \n    provides convenient defaults and automatically adds axes etc to the graphics.\n    The downside is that it adds a bunch of imports that you may not be using.\n    To help with this you can use the core/Plot component directly for a more\n    low-level Plot wrapper.\n-->\n<script lang=\"ts\">\n    import Plot from './core/Plot.svelte';\n\n    import type { PlotOptions, RawValue, ScaleOptions } from './types/index.js';\n\n    // implicit marks\n    import AxisX from './marks/AxisX.svelte';\n    import AxisY from './marks/AxisY.svelte';\n    import ColorLegend from './marks/ColorLegend.svelte';\n    import Frame from './marks/Frame.svelte';\n    import GridX from './marks/GridX.svelte';\n    import GridY from './marks/GridY.svelte';\n    import SymbolLegend from './marks/SymbolLegend.svelte';\n    import FacetAxes from './core/FacetAxes.svelte';\n\n    // automatic scales\n    import { autoScale, autoScaleColor } from './helpers/autoScales.js';\n    import { namedProjection } from './helpers/autoProjection.js';\n    import { isObject } from './helpers/index.js';\n\n    let {\n        header: userHeader,\n        footer: userFooter,\n        overlay,\n        underlay,\n        children: parentChildren,\n        testid,\n        facet,\n        projection,\n        ...restOptions\n    }: Partial<PlotOptions> = $props();\n\n    const projectionOpts = $derived.by(() => {\n        if (\n            projection &&\n            typeof projection !== 'function' &&\n            typeof projection?.type !== 'function'\n        ) {\n            const { type: projFactory, aspectRatio } = namedProjection(\n                isObject(projection) ? projection.type : projection\n            );\n            return {\n                ...(isObject(projection) ? projection : {}),\n                type: projFactory,\n                aspectRatio\n            };\n        }\n        return projection;\n    });\n\n    const scales = $derived(\n        Object.fromEntries(\n            ['x', 'y', 'r', 'color', 'opacity', 'symbol', 'length', 'fx', 'fy'].map((scale) => {\n                const scaleOpts = maybeScaleOptions(restOptions[scale]);\n                const scaleFn = scaleOpts.scale || (scale === 'color' ? autoScaleColor : autoScale);\n                return [scale, { ...scaleOpts, scale: scaleFn }];\n            })\n        )\n    );\n\n    function maybeScaleOptions(\n        scaleOptions: undefined | false | RawValue[] | object\n    ): Partial<ScaleOptions> | undefined {\n        if (scaleOptions === false) return { axis: false };\n        if (Array.isArray(scaleOptions)) return { domain: scaleOptions };\n        return scaleOptions || {};\n    }\n</script>\n\n{#snippet header()}\n    {#if restOptions.title}<h2>{restOptions.title}</h2>{/if}\n    {#if restOptions.subtitle}<h3>{restOptions.subtitle}</h3>{/if}\n    <!-- also pass on user header -->\n    {#if userHeader}{@render userHeader?.()}{/if}\n    {#if restOptions.color?.legend}\n        <ColorLegend />\n    {/if}\n    {#if restOptions.symbol?.legend}\n        <SymbolLegend />\n    {/if}\n{/snippet}\n\n{#snippet footer()}\n    {#if restOptions.caption}<div>{restOptions.caption}</div>{/if}\n    {#if userFooter}{@render userFooter?.()}{/if}\n{/snippet}\n\n<!-- There's a bug triggering RangeError: Maximum call stack size exceeded \n     when using SveltePlot in ssr, so for now, we're disabling it -->\n\n<svelte:boundary>\n    <Plot\n        {overlay}\n        {underlay}\n        {...restOptions}\n        header={userHeader ||\n        restOptions.title ||\n        restOptions.subtitle ||\n        restOptions.color?.legend ||\n        restOptions.symbol?.legend\n            ? header\n            : null}\n        footer={userFooter || restOptions?.caption ? footer : null}\n        projection={projectionOpts}\n        implicitScales\n        {...scales}>\n        {#snippet children({\n            hasProjection,\n            hasExplicitAxisX,\n            hasExplicitAxisY,\n            hasExplicitGridX,\n            hasExplicitGridY,\n            options,\n            scales,\n            ...restProps\n        })}\n            <svelte:boundary onerror={(err) => console.error(err)}>\n                <!-- implicit axes -->\n                {#if !hasProjection && !hasExplicitAxisX}\n                    {#if options.axes && (options.x.axis === 'top' || options.x.axis === 'both')}\n                        <AxisX anchor=\"top\" automatic />\n                    {/if}\n                    {#if options.axes && (options.x.axis === 'bottom' || options.x.axis === 'both')}\n                        <AxisX anchor=\"bottom\" automatic />\n                    {/if}\n                {/if}\n                {#if !hasProjection && !hasExplicitAxisY}\n                    {#if options.axes && (options.y.axis === 'left' || options.y.axis === 'both')}\n                        <AxisY anchor=\"left\" automatic />\n                    {/if}\n                    {#if options.axes && (options.y.axis === 'right' || options.y.axis === 'both')}\n                        <AxisY anchor=\"right\" automatic />\n                    {/if}\n                {/if}\n                <!-- implicit grids -->\n                {#if !hasExplicitGridX && (options.grid || options.x.grid)}\n                    <GridX automatic />\n                {/if}\n                {#if !hasExplicitGridY && (options.grid || options.y.grid)}\n                    <GridY automatic />\n                {/if}\n                <!-- implicit frame -->\n                {#if options.frame}\n                    <Frame automatic />\n                {/if}\n                {@render parentChildren?.({\n                    options,\n                    scales,\n                    ...restProps\n                })}\n                {#snippet failed(error, reset)}\n                    <text class=\"error\" transform=\"translate(10,10)\">\n                        {#each error.message.split('\\n') as line, i (i)}\n                            <tspan x=\"0\" dy={i ? 14 : 0}>{line}</tspan>\n                        {/each}\n                    </text>{/snippet}\n            </svelte:boundary>\n        {/snippet}\n        {#snippet facetAxes()}\n            <FacetAxes />\n        {/snippet}\n    </Plot>\n    {#snippet failed(error)}\n        <div class=\"error\">Error: {error.message}</div>\n    {/snippet}\n</svelte:boundary>\n\n<style>\n    .error {\n        font-size: 11px;\n        stroke-width: 3px;\n        font-weight: bold;\n    }\n    text.error {\n        stroke: var(--svelteplot-bg, white);\n        fill: crimson;\n        paint-order: stroke fill;\n    }\n    div.error {\n        color: crimson;\n        white-space: pre-wrap;\n        line-height: 1.1;\n    }\n</style>\n", "<script lang=\"ts\">\n    import type { Snippet } from 'svelte';\n    let {\n        length = 1,\n        children,\n        class: className = null,\n        ...groupProps\n    }: { children: Snippet; length?: number; class?: string | null } = $props();\n</script>\n\n{#if length > 1 || className}\n    <g class={className} {...groupProps}>\n        {@render children()}\n    </g>\n{:else}\n    {@render children()}\n{/if}\n", "import { curveBasis, curveBasisClosed, curveBasisOpen, curveBundle, curveBumpX, curveBumpY, curveCardinal, curveCardinalClosed, curveCardinalOpen, curveCatmullRom, curveCatmullRomClosed, curveCatmullRomOpen, curveLinear, curveLinearClosed, curveMonotoneX, curveMonotoneY, curveNatural, curveStep, curveStepAfter, curveStepBefore } from 'd3-shape';\nconst curves = new Map([\n    ['basis', curveBasis],\n    ['basis-closed', curveBasisClosed],\n    ['basis-open', curveBasisOpen],\n    ['bundle', curveBundle],\n    ['bump-x', curveBumpX],\n    ['bump-y', curveBumpY],\n    ['cardinal', curveCardinal],\n    ['cardinal-closed', curveCardinalClosed],\n    ['cardinal-open', curveCardinalOpen],\n    ['catmull-rom', curveCatmullRom],\n    ['catmull-rom-closed', curveCatmullRomClosed],\n    ['catmull-rom-open', curveCatmullRomOpen],\n    ['linear', curveLinear],\n    ['linear-closed', curveLinearClosed],\n    ['monotone-x', curveMonotoneX],\n    ['monotone-y', curveMonotoneY],\n    ['natural', curveNatural],\n    ['step', curveStep],\n    ['step-after', curveStepAfter],\n    ['step-before', curveStepBefore]\n]);\nexport function maybeCurve(curve = curveLinear, tension) {\n    if (typeof curve === 'function')\n        return curve; // custom curve\n    const c = curves.get(`${curve}`.toLowerCase());\n    if (!c)\n        throw new Error(`unknown curve: ${curve}`);\n    if (tension !== undefined) {\n        if ('beta' in c) {\n            return c.beta(tension);\n        }\n        else if ('tension' in c) {\n            return c.tension(tension);\n        }\n        else if ('alpha' in c) {\n            return c.alpha(tension);\n        }\n    }\n    return c;\n}\n", "<script lang=\"ts\">\n    import { devicePixelRatio } from 'svelte/reactivity/window';\n    import { MediaQuery } from 'svelte/reactivity';\n    import type { Attachment } from 'svelte/attachments';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    const darkMode = new MediaQuery('prefers-color-scheme: dark');\n    let colorScheme = $state();\n\n    /**\n     * we need to repaint on dark mode changes in case the user\n     * is using any css variables or currentColor that changes\n     * with the color scheme\n     */\n    const watchColorScheme: Attachment = (element: Element) => {\n        const htmlElement = element.ownerDocument.documentElement;\n        const observer = new MutationObserver(() => {\n            colorScheme = getComputedStyle(htmlElement).colorScheme;\n        });\n        observer.observe(htmlElement, { attributes: true });\n        return () => {\n            observer.disconnect();\n        };\n    };\n\n    let restProps: {} = $props();\n\n    const plot = usePlot();\n</script>\n\n<!-- \n    @component The CanvasLayer component is a helper component that inserts a \n    canvas element inside a foreignObject for use in a plot and takes care of \n    scaling it to the device pixel ratio.\n-->\n<foreignObject x=\"0\" y=\"0\" {@attach watchColorScheme} width={plot.width} height={plot.height}>\n    {#key [colorScheme, darkMode.current]}\n        <canvas\n            xmlns=\"http://www.w3.org/1999/xhtml\"\n            {...restProps}\n            width={plot.width * (devicePixelRatio.current ?? 1)}\n            height={plot.height * (devicePixelRatio.current ?? 1)}\n            style=\"width: {plot.width}px; height: {plot.height}px;\"></canvas>\n    {/key}\n</foreignObject>\n\n<style>\n    foreignObject,\n    canvas {\n        color: currentColor;\n    }\n</style>\n", "import { CSS_URL, CSS_VAR } from '../../constants';\nexport function resolveColor(color, canvas) {\n    if (`${color}`.toLowerCase() === 'currentcolor') {\n        color = getComputedStyle(canvas?.parentElement?.parentElement).getPropertyValue('color');\n    }\n    if (CSS_VAR.test(color)) {\n        color = getComputedStyle(canvas).getPropertyValue(color.slice(4, -1));\n    }\n    if (CSS_URL.test(color)) {\n        // might be a gradient we can parse!\n        const m = color.match(/^url\\((#[^)]+)\\)/);\n        const gradientId = m[1];\n        const gradient = canvas.ownerDocument.querySelector(gradientId);\n        if (gradient) {\n            // parse gradient\n            if (gradient.nodeName.toLowerCase() === 'lineargradient') {\n                const x0 = +gradient.getAttribute('x1');\n                const x1 = +gradient.getAttribute('x2');\n                const y0 = +gradient.getAttribute('y1');\n                const y1 = +gradient.getAttribute('y2');\n                const ctxGradient = canvas.getContext('2d').createLinearGradient(x0, y0, x1, y1);\n                for (const stop of gradient.querySelectorAll('stop')) {\n                    const offset = +stop.getAttribute('offset');\n                    const color = resolveColor(stop.getAttribute('stop-color'), canvas);\n                    ctxGradient.addColorStop(Math.min(1, Math.max(0, offset)), color);\n                }\n                return ctxGradient;\n            }\n        }\n    }\n    return color;\n}\n", "<script lang=\"ts\">\n    import type {\n        Mark,\n        BaseMarkProps,\n        ScaledDataRecord,\n        UsedScales\n    } from '../../types/index.js';\n    import { resolveProp, resolveScaledStyleProps } from '../../helpers/resolve.js';\n    import { type Area } from 'd3-shape';\n    import CanvasLayer from './CanvasLayer.svelte';\n    import type { Attachment } from 'svelte/attachments';\n    import { devicePixelRatio } from 'svelte/reactivity/window';\n    import { resolveColor } from './canvas.js';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    let {\n        mark,\n        groupedAreaData,\n        usedScales,\n        areaPath\n    }: {\n        mark: Mark<BaseMarkProps>;\n        groupedAreaData: ScaledDataRecord[][];\n        usedScales: UsedScales;\n        areaPath: Area<ScaledDataRecord>;\n    } = $props();\n\n    const plot = usePlot();\n\n    function maybeOpacity(value: unknown) {\n        return value == null ? 1 : +value;\n    }\n\n    const render = ((canvas: HTMLCanvasElement) => {\n        const context = canvas.getContext('2d');\n\n        $effect(() => {\n            if (context) {\n                areaPath.context(context);\n                context.resetTransform();\n                context.scale(devicePixelRatio.current ?? 1, devicePixelRatio.current ?? 1);\n\n                for (const group of groupedAreaData) {\n                    if (group.length < 2) continue;\n\n                    // Get the first point to determine area styles\n                    const firstPoint = group[0];\n                    if (!firstPoint || !firstPoint.valid) continue;\n\n                    let { fill, stroke, ...restStyles } = resolveScaledStyleProps(\n                        firstPoint.datum,\n                        mark.options,\n                        usedScales,\n                        plot,\n                        'fill'\n                    );\n\n                    const opacity = maybeOpacity(restStyles['opacity']);\n                    const fillOpacity = maybeOpacity(restStyles['fill-opacity']);\n                    const strokeOpacity = maybeOpacity(restStyles['stroke-opacity']);\n\n                    const strokeWidth = resolveProp(\n                        mark.options.strokeWidth,\n                        firstPoint.datum,\n                        0\n                    ) as number;\n\n                    fill = resolveColor(fill || 'currentColor', canvas);\n                    stroke = resolveColor(stroke, canvas);\n\n                    // Start drawing the area\n                    context.beginPath();\n                    areaPath(group);\n\n                    // Fill the area\n                    if (fill && fill !== 'none') {\n                        context.fillStyle = fill;\n                        context.globalAlpha = opacity * fillOpacity;\n                        context.fill();\n                    }\n\n                    // Stroke the area outline if strokeWidth > 0\n                    if (stroke && stroke !== 'none' && strokeWidth > 0) {\n                        context.strokeStyle = stroke;\n                        context.lineWidth = strokeWidth;\n                        context.globalAlpha = opacity * strokeOpacity;\n                        context.stroke();\n                    }\n                }\n                areaPath.context(null);\n            }\n\n            return () => {\n                context?.clearRect(\n                    0,\n                    0,\n                    plot.width * (devicePixelRatio.current ?? 1),\n                    plot.height * (devicePixelRatio.current ?? 1)\n                );\n            };\n        });\n    }) as Attachment;\n</script>\n\n<CanvasLayer {@attach render} />\n", "<!-- @component\n    Creates an area chart with filled regions between two x-y value pairs\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface AreaMarkProps extends BaseMarkProps<Datum>, LinkableMarkProps<Datum> {\n        data: Datum[];\n        x1?: ChannelAccessor<Datum>;\n        x2?: ChannelAccessor<Datum>;\n        y1?: ChannelAccessor<Datum>;\n        y2?: ChannelAccessor<Datum>;\n        z?: ChannelAccessor<Datum>;\n        curve?: CurveName | CurveFactory;\n        tension?: number;\n        sort?: ConstantAccessor<RawValue> | { channel: 'stroke' | 'fill' };\n        stack?: Partial<StackOptions>;\n        canvas?: boolean;\n        areaClass?: ConstantAccessor<string, Datum>;\n    }\n\n    import Mark from '../Mark.svelte';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import { resolveChannel, resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import { groups as d3Groups } from 'd3-array';\n    import { area, type CurveFactory } from 'd3-shape';\n    import callWithProps from '../helpers/callWithProps.js';\n    import { maybeCurve } from '../helpers/curves.js';\n    import { isValid } from '../helpers/index.js';\n    import AreaCanvas from './helpers/AreaCanvas.svelte';\n    import Anchor from './helpers/Anchor.svelte';\n\n    import type {\n        CurveName,\n        DataRecord,\n        BaseMarkProps,\n        ConstantAccessor,\n        ChannelAccessor,\n        ScaledDataRecord,\n        LinkableMarkProps,\n        RawValue\n    } from '../types/index.js';\n    import type { StackOptions } from '../transforms/stack.js';\n    import { addEventHandlers } from './helpers/events';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: AreaMarkProps = $props();\n\n    const DEFAULTS = {\n        fill: 'currentColor',\n        curve: 'linear' as CurveName,\n        tension: 0,\n        ...getPlotDefaults().area\n    };\n\n    const {\n        data = [{} as Datum],\n        /** the curve */\n        curve = 'linear' as CurveName,\n        tension = 0,\n        class: className = '',\n        areaClass,\n        canvas = false,\n        ...options\n    }: AreaMarkProps = $derived({ ...DEFAULTS, ...markProps });\n\n    const plot = usePlot();\n\n    const groupByKey = $derived(options.z || options.fill || options.stroke);\n\n    const areaPath = $derived(\n        callWithProps(area, [], {\n            curve: maybeCurve(curve, tension),\n            defined: (d: ScaledDataRecord) =>\n                options.x1 != null && options.x2 != null\n                    ? // vertical\n                      isValid(d.y1) && isValid(d.x1) && isValid(d.x2)\n                    : // horizontal\n                      isValid(d.x1) && isValid(d.y1) && isValid(d.y2),\n            ...(options.x1 != null && options.x2 != null\n                ? {\n                      // \"vertical\" area\n                      x0: (d: ScaledDataRecord) => d.x1,\n                      x1: (d: ScaledDataRecord) => d.x2,\n                      y: (d: ScaledDataRecord) => d.y1\n                  }\n                : {\n                      // \"horizontal\" area\n                      x: (d: ScaledDataRecord) => d.x1,\n                      y0: (d: ScaledDataRecord) => d.y1,\n                      y1: (d: ScaledDataRecord) => d.y2\n                  })\n        })\n    );\n\n    function groupAndSort(data: ScaledDataRecord[]) {\n        const groups = groupByKey\n            ? d3Groups(data, (d) => resolveProp(groupByKey, d.datum)).map((d) => d[1])\n            : [data];\n        if (options.sort) {\n            return groups.toSorted((a, b) =>\n                resolveChannel('sort', a[0].datum, options) >\n                resolveChannel('sort', b[0].datum, options)\n                    ? 1\n                    : -1\n            );\n        }\n        return groups;\n    }\n</script>\n\n<Mark\n    type=\"area\"\n    {data}\n    channels={['x1', 'x2', 'y1', 'y2', 'fill', 'stroke', 'opacity', 'fillOpacity', 'strokeOpacity']}\n    required={['x1', 'y1']}\n    {...markProps}\n    {...options}>\n    {#snippet children({ mark, usedScales, scaledData })}\n        {@const grouped = groupAndSort(scaledData)}\n        {#if canvas}\n            <AreaCanvas groupedAreaData={grouped} {mark} {usedScales} {areaPath} />\n        {:else}\n            <GroupMultiple class={className} length={grouped.length}>\n                {#each grouped as areaData, i (i)}\n                    {@const datum = areaData[0]}\n                    {#if areaData.length > 0}\n                        <Anchor {options} {datum}>\n                            {@const title = resolveProp(options.title, datum.datum, '')}\n                            {@const [style, styleClass] = resolveStyles(\n                                plot,\n                                datum,\n                                options,\n                                'fill',\n                                usedScales\n                            )}\n                            <path\n                                class={[\n                                    'area',\n                                    resolveProp(areaClass, areaData[0].datum),\n                                    styleClass\n                                ]}\n                                clip-path={options.clipPath}\n                                d={areaPath(areaData)}\n                                {@attach addEventHandlers({\n                                    plot,\n                                    options,\n                                    datum: datum?.datum\n                                })}\n                                {style}\n                                >{#if title}<title>{title}</title>{/if}</path>\n                        </Anchor>\n                    {/if}\n                {/each}\n            </GroupMultiple>\n        {/if}\n    {/snippet}\n</Mark>\n", "import { testFilter } from '../helpers/index.js';\nexport function filter({ data, ...channels }) {\n    return {\n        data: data.filter((d) => testFilter(d, channels)),\n        ...channels,\n        filter: null\n    };\n}\n", "import isDataRecord from '../helpers/isDataRecord.js';\nimport { resolveChannel, resolveProp } from '../helpers/resolve.js';\nimport { stack, stackOffsetExpand, stackOffsetSilhouette, stackOffsetWiggle, stackOrderAppearance, stackOrderAscending, stackOrderInsideOut, stackOrderNone, stackOffsetDiverging } from 'd3-shape';\nimport { sum, groups as d3Groups, min, range } from 'd3-array';\nimport { groupFacetsAndZ } from '../helpers/group';\nimport { filter } from './filter.js';\nimport { sort } from './sort.js';\nimport { INDEX, ORIGINAL_NAME_KEYS } from '../constants.js';\nimport { indexData, RAW_VALUE } from './recordize.js';\nconst S = {\n    x: Symbol('x'),\n    x1: Symbol('x1'),\n    x2: Symbol('x2'),\n    y: Symbol('y'),\n    y1: Symbol('y1'),\n    y2: Symbol('y2')\n};\nconst GROUP = Symbol('group');\nconst FACET = Symbol('facet');\nconst DEFAULT_STACK_OPTIONS = {\n    order: null,\n    offset: null,\n    reverse: false\n};\nconst STACK_ORDER = {\n    // null\n    // TODO: value: ,\n    none: stackOrderNone,\n    sum: stackOrderAscending,\n    appearance: stackOrderAppearance,\n    'inside-out': stackOrderInsideOut\n};\nconst STACK_OFFSET = {\n    none: null,\n    diverging: stackOffsetDiverging,\n    wiggle: stackOffsetWiggle,\n    center: stackOffsetSilhouette,\n    normalize: stackOffsetExpand\n};\nfunction stackXY(byDim, data, channels, options) {\n    if (options === false) {\n        // no stacking\n        return { data, ...channels };\n    }\n    // we need to stack the data for each facet separately\n    const groupFacetsBy = [\n        channels.fx != null ? 'fx' : null,\n        channels.fy != null ? 'fy' : null\n    ].filter((d) => d !== null);\n    const groupBy = channels.z ? 'z' : channels.fill ? 'fill' : channels.stroke ? 'stroke' : true;\n    const secondDim = byDim === 'x' ? (channels.y1 != null ? 'y1' : 'y') : channels.x1 != null ? 'x1' : 'x';\n    const byLow = `${byDim}1`;\n    const byHigh = `${byDim}2`;\n    if (channels[byDim] != null &&\n        channels[`${byLow}`] === undefined &&\n        channels[`${byHigh}`] === undefined) {\n        // resolve all channels for easier computation below\n        const resolvedData = indexData(data).map((d, i) => ({\n            ...(isDataRecord(d) ? d : { [RAW_VALUE]: d }),\n            [S[secondDim]]: resolveChannel(secondDim, d, channels),\n            [GROUP]: groupBy === true ? 'G' : resolveChannel(groupBy, d, channels),\n            [FACET]: groupFacetsBy.length > 0\n                ? groupFacetsBy\n                    .map((channel) => String(resolveChannel(channel, d, channels)))\n                    .join('---')\n                : 'F',\n            [S[byDim]]: resolveChannel(byDim, d, channels)\n        }));\n        // the final data ends up here\n        const out = [];\n        // first we group the dataset by facets to avoid stacking of rows that are\n        // in separate panels\n        const groups = d3Groups(resolvedData, (d) => d[FACET]);\n        for (const [, facetData] of groups) {\n            // create a temporary dataset for stacking\n            // If we have a grouping channel (fill/stroke/z), build objects keyed by group value\n            // so that series identities remain consistent across the secondary dimension.\n            // This is required for offsets like 'wiggle' and 'inside-out'.\n            let keys;\n            const groupedBySecondDim = d3Groups(facetData, (d) => d[S[secondDim]]);\n            // .sort((a, b) =>\n            //     xOrder[a[0]] - xOrder[b[0]]\n            // );\n            let stackData;\n            const hasUniqueGroups = groupBy !== true &&\n                groupedBySecondDim.every(([, items]) => {\n                    const groupSet = new Set(items.map((d) => d[GROUP]));\n                    return groupSet.size === items.length;\n                });\n            if (groupBy === true || !hasUniqueGroups) {\n                // Unit stacking: map each secondary-dimension bucket to an array of values.\n                // Series are positional (0..N-1) within each bucket.\n                let maxKeys = 0;\n                stackData = groupedBySecondDim.map(([k, items]) => {\n                    const values = items\n                        // keep original order within bucket; no stable series identity across buckets\n                        .map((d) => ({ i: d[INDEX], v: d[S[byDim]] }));\n                    if (values.length > maxKeys)\n                        maxKeys = values.length;\n                    return values;\n                });\n                keys = range(maxKeys);\n            }\n            else {\n                // Grouped stacking: keep consistent series identities using the group key\n                const keySet = new Set(facetData.map((d) => d[GROUP]));\n                stackData = groupedBySecondDim.map(([k, items]) => {\n                    const obj = {};\n                    items.forEach((d) => {\n                        const key = d[GROUP];\n                        // If duplicates exist for the same (secondDim, group) pair, sum values\n                        // and keep the latest index for back-reference.\n                        if (obj[key] == null)\n                            obj[key] = { i: d[INDEX], v: d[S[byDim]] };\n                        else\n                            obj[key] = {\n                                i: d[INDEX],\n                                v: obj[key].v + d[S[byDim]]\n                            };\n                    });\n                    return obj;\n                });\n                keys = Array.from(keySet);\n            }\n            const stackOrder = (series) => {\n                const f = STACK_ORDER[options.order || 'none'];\n                return options.reverse ? f(series).reverse() : f(series);\n            };\n            // now stack the values for each index\n            const series = stack()\n                .order(stackOrder)\n                // Wiggle requires consistent series identities; fall back to 'center' for unit stacking\n                .offset(groupBy === true && options.offset === 'wiggle'\n                ? STACK_OFFSET['center']\n                : STACK_OFFSET[options.offset])\n                .keys(keys)\n                .value((d, key, i, data) => {\n                return d[key]?.v == null ? undefined : d[key]?.v;\n            })(stackData);\n            // and combine it all back into a flat array\n            const newData = series\n                .flatMap((s) => s.map((d) => [d[0], d[1], d.data[s.key]?.i]))\n                .filter((d) => d[2] !== undefined)\n                .map((d) => ({ [S[byLow]]: d[0], [S[byHigh]]: d[1], ...resolvedData[d[2]] }));\n            out.push(...newData);\n            // which we then add to the output data\n            // out.push(...newData);\n        }\n        return {\n            data: out.sort((a, b) => a[INDEX] - b[INDEX]),\n            ...channels,\n            [byDim]: undefined,\n            ...(typeof channels[byDim] === 'string' && !channels[ORIGINAL_NAME_KEYS[byDim]]\n                ? { [ORIGINAL_NAME_KEYS[byDim]]: channels[byDim] }\n                : {}),\n            ...{ [byLow]: S[byLow], [byHigh]: S[byHigh] }\n        };\n    }\n    return { data, ...channels };\n}\nexport function stackY({ data, ...channels }, opts = {}) {\n    return stackXY('y', data, channels, applyDefaults(opts));\n}\nexport function stackX({ data, ...channels }, opts = {}) {\n    return stackXY('x', data, channels, applyDefaults(opts));\n}\nfunction applyDefaults(opts) {\n    if (opts === false)\n        return false;\n    if (opts.offset === 'wiggle' && opts.order === undefined) {\n        return { ...DEFAULT_STACK_OPTIONS, order: 'inside-out', ...opts };\n    }\n    return { ...DEFAULT_STACK_OPTIONS, ...opts };\n}\nfunction stackMosaic({ data, x, y, value, fx, fy, ...rest }, { outer, inner }, { x: xOpt, y: yOpt } = {}) {\n    const out = [];\n    const { data: filtered, ...restArgs } = sort(filter({ data, x, y, value, fx, fy, ...rest }));\n    if (!filtered)\n        throw new Error('stackMosaic: missing data');\n    if (!x)\n        throw new Error('stackMosaic: missing x channel');\n    if (!y)\n        throw new Error('stackMosaic: missing y channel');\n    if (!value)\n        throw new Error('stackMosaic: missing value channel');\n    if (min(filtered, (d) => resolveProp(d[value], d)) < 0)\n        throw new Error('stackMosaic: negative values not supported');\n    groupFacetsAndZ(filtered, restArgs, (data) => {\n        const total = sum(data, (d) => resolveProp(d[value], d));\n        let outerPos = 0;\n        const outerChannel = outer === 'x' ? x : y;\n        const innerChannel = inner === 'x' ? x : y;\n        const outerSym1 = outer === 'x' ? S.x1 : S.y1;\n        const outerSym2 = outer === 'x' ? S.x2 : S.y2;\n        const innerSym1 = inner === 'x' ? S.x1 : S.y1;\n        const innerSym2 = inner === 'x' ? S.x2 : S.y2;\n        const outerOpt = outer === 'x' ? xOpt : yOpt;\n        const innerOpt = inner === 'x' ? xOpt : yOpt;\n        const grouped = d3Groups(data, (d) => resolveProp(d[outerChannel], d));\n        const innerOrder = new Map(grouped[0][1].map((d, i) => [d[innerChannel], i]));\n        grouped.forEach(([k, items], i) => {\n            const groupValue = sum(items, (d) => resolveProp(d[value], d));\n            const o1 = outerPos, o2 = outerPos + groupValue;\n            outerPos = o2;\n            let innerPos = 0;\n            (i\n                ? items.sort((a, b) => innerOrder.get(a[innerChannel]) - innerOrder.get(b[innerChannel]))\n                : items).forEach((d) => {\n                const iv = resolveProp(d[value], d);\n                const i1 = innerPos, i2 = innerPos + iv;\n                innerPos = i2;\n                const normO1 = outerOpt?.percent ? o1 / total : o1;\n                const normO2 = outerOpt?.percent ? o2 / total : o2;\n                const normI1 = innerOpt?.percent ? i1 / groupValue : i1;\n                const normI2 = innerOpt?.percent ? i2 / groupValue : i2;\n                const result = { ...d };\n                result[outerSym1] = normO1;\n                result[outerSym2] = normO2;\n                result[innerSym1] = normI1;\n                result[innerSym2] = normI2;\n                result[S.x] = (result[S.x1] + result[S.x2]) / 2;\n                result[S.y] = (result[S.y1] + result[S.y2]) / 2;\n                out.push(result);\n            });\n        });\n    });\n    return {\n        ...rest,\n        fx,\n        fy,\n        data: out,\n        x: S.x,\n        x1: S.x1,\n        x2: S.x2,\n        y: S.y,\n        y1: S.y1,\n        y2: S.y2\n    };\n}\nexport function stackMosaicX(args, opts) {\n    return stackMosaic(args, { outer: 'x', inner: 'y' }, opts);\n}\nexport function stackMosaicY(args, opts) {\n    return stackMosaic(args, { outer: 'y', inner: 'x' }, opts);\n}\n", "<!-- @component\n    Creates a horizontal area chart with x value and baseline.  Areas are implicitly \n    stacked horizontally if just the x channel is defined.\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface AreaXMarkProps extends Omit<ComponentProps<typeof Area>, 'y1' | 'y2'> {\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n    }\n    import Area from './Area.svelte';\n    import { renameChannels } from '../transforms/rename.js';\n    import { stackX } from '../transforms/stack.js';\n    import { recordizeX } from '../transforms/recordize.js';\n    import type { ChannelAccessor, DataRow } from '../types/index.js';\n    import { type ComponentProps } from 'svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n\n    let markProps: AreaXMarkProps = $props();\n\n    const DEFAULTS = getPlotDefaults().areaX;\n\n    const { data, stack, ...options }: AreaXMarkProps = $derived({\n        ...(markProps.x == undefined ? { x1: 0, x2: 0 } : {}),\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const args = $derived(\n        renameChannels<AreaXMarkProps>(\n            stackX(recordizeX({ data, ...options, y1: null, y2: null }), stack),\n            { y: 'y1' }\n        )\n    );\n</script>\n\n<Area {...args}></Area>\n", "<!-- @component\n    Creates a vertical area chart with y value and baseline. Areas are implicitly \n    stacked vertically if just the y channel is defined.\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface AreaYMarkProps extends Omit<ComponentProps<typeof Area>, 'x1' | 'x2'> {\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n    }\n    import Area from './Area.svelte';\n    import { renameChannels } from '../transforms/rename.js';\n    import { stackY } from '../transforms/stack.js';\n    import { recordizeY } from '../transforms/recordize.js';\n    import type { ChannelAccessor, DataRow } from '../types/index.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n\n    let markProps: AreaYMarkProps = $props();\n\n    const DEFAULTS = getPlotDefaults().areaY;\n\n    const { data, stack, ...options }: AreaYMarkProps = $derived({\n        ...(markProps.y == undefined ? { y1: 0, y2: 0 } : {}),\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const args = $derived(\n        renameChannels<AreaYMarkProps>(\n            stackY(recordizeY({ data, ...options, x1: null, x2: null }), stack),\n            { x: 'x1' }\n        )\n    );\n</script>\n\n<Area {...args}></Area>\n", "/**\n * @license\n * Copyright 2020-2023 Observable, Inc.\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n */\nimport { ascending, descending } from 'd3-array';\nconst RADIANS = Math.PI / 180;\nexport function arrowPath(x1, y1, x2, y2, insetStart, insetEnd, headAngle, headLength, bend, strokeWidth, sweep) {\n    // The angle between the arrow’s shaft and one of the wings; the “head”\n    // angle between the wings is twice this value.\n    const wingAngle = (headAngle * RADIANS) / 2;\n    // The length of the arrowhead’s “wings” (the line segments that extend from\n    // the end point) relative to the stroke width.\n    const wingScale = headLength / 1.5;\n    // The start ⟨x1,y1⟩ and end ⟨x2,y2⟩ points may be inset, and the\n    // ending line angle may be altered for inset swoopy arrows.\n    const lineLength = Math.hypot(x2 - x1, y2 - y1);\n    if (lineLength <= insetStart + insetEnd)\n        return null;\n    let lineAngle = Math.atan2(y2 - y1, x2 - x1);\n    // We don’t allow the wing length to be too large relative to the\n    // length of the arrow. (Plot.vector allows arbitrarily large\n    // wings, but that’s okay since vectors are usually small.)\n    const headLength_ = Math.min(wingScale * strokeWidth, lineLength / 3);\n    // When bending, the offset between the straight line between the two points\n    // and the outgoing tangent from the start point. (Also the negative\n    // incoming tangent to the end point.) This must be within ±π/2. A positive\n    // angle will produce a clockwise curve; a negative angle will produce a\n    // counterclockwise curve; zero will produce a straight line.\n    const bendAngle = sweep(x1, y1, x2, y2) * bend * RADIANS;\n    // The radius of the circle that intersects with the two endpoints\n    // and has the specified bend angle.\n    const r = Math.hypot(lineLength / Math.tan(bendAngle), lineLength) / 2;\n    // Apply insets.\n    if (insetStart || insetEnd) {\n        if (r < 1e5) {\n            // For inset swoopy arrows, compute the circle-circle\n            // intersection between a circle centered around the\n            // respective arrow endpoint and the center of the circle\n            // segment that forms the shaft of the arrow.\n            const sign = Math.sign(bendAngle);\n            const [cx, cy] = pointPointCenter([x1, y1], [x2, y2], r, sign);\n            if (insetStart) {\n                [x1, y1] = circleCircleIntersect([cx, cy, r], [x1, y1, insetStart], -sign * Math.sign(insetStart));\n            }\n            // For the end inset, rotate the arrowhead so that it aligns\n            // with the truncated end of the arrow. Since the arrow is a\n            // segment of the circle centered at ⟨cx,cy⟩, we can compute\n            // the angular difference to the new endpoint.\n            if (insetEnd) {\n                const [x, y] = circleCircleIntersect([cx, cy, r], [x2, y2, insetEnd], sign * Math.sign(insetEnd));\n                lineAngle += Math.atan2(y - cy, x - cx) - Math.atan2(y2 - cy, x2 - cx);\n                ((x2 = x), (y2 = y));\n            }\n        }\n        else {\n            // For inset straight arrows, offset along the straight line.\n            const dx = x2 - x1, dy = y2 - y1, d = Math.hypot(dx, dy);\n            if (insetStart)\n                ((x1 += (dx / d) * insetStart), (y1 += (dy / d) * insetStart));\n            if (insetEnd)\n                ((x2 -= (dx / d) * insetEnd), (y2 -= (dy / d) * insetEnd));\n        }\n    }\n    // The angle of the arrow as it approaches the endpoint, and the\n    // angles of the adjacent wings. Here “left” refers to if the\n    // arrow is pointing up.\n    const endAngle = lineAngle + bendAngle;\n    const leftAngle = endAngle + wingAngle;\n    const rightAngle = endAngle - wingAngle;\n    // The endpoints of the two wings.\n    const x3 = x2 - headLength_ * Math.cos(leftAngle);\n    const y3 = y2 - headLength_ * Math.sin(leftAngle);\n    const x4 = x2 - headLength_ * Math.cos(rightAngle);\n    const y4 = y2 - headLength_ * Math.sin(rightAngle);\n    // If the radius is very large (or even infinite, as when the bend\n    // angle is zero), then render a straight line.\n    const a = r < 1e5 ? `A${r},${r} 0,0,${bendAngle > 0 ? 1 : 0} ` : `L`;\n    const h = headLength_ ? `M${x3},${y3}L${x2},${y2}L${x4},${y4}` : '';\n    return `M${x1},${y1}${a}${x2},${y2}${h}`;\n}\n// Returns the center of a circle that goes through the two given points ⟨ax,ay⟩\n// and ⟨bx,by⟩ and has radius r. There are two such points; use the sign +1 or\n// -1 to choose between them. Returns [NaN, NaN] if r is too small.\nfunction pointPointCenter([ax, ay], [bx, by], r, sign) {\n    const dx = bx - ax, dy = by - ay, d = Math.hypot(dx, dy);\n    const k = (sign * Math.sqrt(r * r - (d * d) / 4)) / d;\n    return [(ax + bx) / 2 - dy * k, (ay + by) / 2 + dx * k];\n}\n// Given two circles, one centered at ⟨ax,ay⟩ with radius ar, and the other\n// centered at ⟨bx,by⟩ with radius br, returns a point at which the two circles\n// intersect. There are typically two such points; use the sign +1 or -1 to\n// chose between them. Returns [NaN, NaN] if there is no intersection.\n// https://mathworld.wolfram.com/Circle-CircleIntersection.html\nfunction circleCircleIntersect([ax, ay, ar], [bx, by, br], sign) {\n    const dx = bx - ax, dy = by - ay, d = Math.hypot(dx, dy);\n    const x = (dx * dx + dy * dy - br * br + ar * ar) / (2 * d);\n    const y = sign * Math.sqrt(ar * ar - x * x);\n    return [ax + (dx * x + dy * y) / d, ay + (dy * x - dx * y) / d];\n}\nexport function constant(x) {\n    return () => x;\n}\n// Validates the specified required string against the allowed list of keywords.\nexport function keyword(input, name, allowed) {\n    const i = `${input}`.toLowerCase();\n    if (!allowed.includes(i))\n        throw new Error(`invalid ${name}: ${input}`);\n    return i;\n}\nexport function maybeSweep(sweep = 1) {\n    if (typeof sweep === 'number')\n        return constant(Math.sign(sweep));\n    if (typeof sweep === 'function')\n        return (x1, y1, x2, y2) => Math.sign(sweep(x1, y1, x2, y2));\n    switch (keyword(sweep, 'sweep', ['+x', '-x', '+y', '-y'])) {\n        case '+x':\n            return (x1, y1, x2) => ascending(x1, x2);\n        case '-x':\n            return (x1, y1, x2) => descending(x1, x2);\n        case '+y':\n            return (x1, y1, x2, y2) => ascending(y1, y2);\n        case '-y':\n            return (x1, y1, x2, y2) => descending(y1, y2);\n    }\n}\n", "<!-- @component\n    Creates arrows with customizable heads, angles, and bending\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface ArrowMarkProps extends Omit<BaseMarkProps<Datum>, 'fill' | 'fillOpacity'> {\n        data: Datum[];\n        sort?:\n            | ConstantAccessor<RawValue>\n            | { channel: 'stroke' | 'fill' | 'x1' | 'y1' | 'x2' | 'y2' };\n        x1: ChannelAccessor<Datum>;\n        y1: ChannelAccessor<Datum>;\n        x2: ChannelAccessor<Datum>;\n        y2: ChannelAccessor<Datum>;\n        /**\n         * the bend angle, in degrees; defaults to 0°; true for 22.5°\n         */\n        bend?: ConstantAccessor<number, Datum> | true;\n        /**\n         * the arrowhead angle, in degrees; defaults to 60°\n         */\n        headAngle?: ConstantAccessor<number, Datum>;\n        /**\n         * the arrowhead scale; defaults to 8\n         */\n        headLength?: ConstantAccessor<number, Datum>;\n        /**\n         * inset at the end of the arrow (useful if the arrow points to a dot)\n         */\n        insetEnd?: ConstantAccessor<number, Datum>;\n        /**\n         * inset at the start of the arrow\n         */\n        insetStart?: ConstantAccessor<number, Datum>;\n        /**\n         * shorthand for the two insets\n         */\n        inset?: ConstantAccessor<number, Datum>;\n        sweep?: SweepOption;\n    }\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        ConstantAccessor,\n        ChannelAccessor,\n        RawValue,\n        PlotDefaults\n    } from '../types/index.js';\n    import { resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import { coalesce, maybeNumber } from '../helpers/index.js';\n    import Mark from '../Mark.svelte';\n    import { arrowPath, maybeSweep, type SweepOption } from '../helpers/arrowPath.js';\n    import { replaceChannels } from '../transforms/rename.js';\n    import { addEventHandlers } from './helpers/events.js';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import { sort } from '../transforms/sort.js';\n    import { indexData } from '../transforms/recordize.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: ArrowMarkProps = $props();\n\n    const DEFAULTS = {\n        headAngle: 60,\n        headLength: 8,\n        inset: 0,\n        ...getPlotDefaults().arrow\n    };\n\n    const {\n        data = [{} as Datum],\n        class: className = '',\n        ...options\n    }: ArrowMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const args: ArrowMarkProps = $derived(\n        sort(\n            replaceChannels(\n                { data: indexData(data), ...options },\n                { y: ['y1', 'y2'], x: ['x1', 'x2'] }\n            )\n        )\n    );\n</script>\n\n<Mark\n    type=\"arrow\"\n    required={['x1', 'x2', 'y1', 'y2']}\n    channels={['x1', 'y1', 'x2', 'y2', 'opacity', 'stroke', 'strokeOpacity']}\n    {...args}>\n    {#snippet children({ usedScales, scaledData })}\n        {@const sweep = maybeSweep(args.sweep)}\n        <GroupMultiple class=\"arrow\" length={scaledData.length}>\n            {#each scaledData as d, i (i)}\n                {#if d.valid}\n                    {@const inset = resolveProp(args.inset, d.datum, 0)}\n                    {@const insetStart = resolveProp(args.insetStart, d.datum)}\n                    {@const insetEnd = resolveProp(args.insetEnd, d.datum)}\n                    {@const headAngle = resolveProp(args.headAngle, d.datum)}\n                    {@const headLength = resolveProp(args.headLength, d.datum)}\n                    {@const bend = resolveProp(args.bend, d.datum, 0)}\n                    {@const strokeWidth = resolveProp(args.strokeWidth, d.datum, 1)}\n                    {@const arrPath = arrowPath(\n                        d.x1,\n                        d.y1,\n                        d.x2,\n                        d.y2,\n                        maybeNumber(coalesce(insetStart, inset)),\n                        maybeNumber(coalesce(insetEnd, inset)),\n                        headAngle,\n                        headLength,\n                        bend === true ? 22.5 : bend === false ? 0 : bend,\n                        strokeWidth,\n                        sweep\n                    )}\n                    {@const [style, styleClass] = resolveStyles(\n                        plot,\n                        d,\n                        {\n                            strokeLinecap: 'round',\n                            strokeLinejoin: 'round',\n                            ...args,\n                            strokeWidth: strokeWidth ?? 1.6\n                        },\n                        'stroke',\n                        usedScales\n                    )}\n                    <g\n                        class={[className]}\n                        {@attach addEventHandlers({\n                            plot,\n                            options,\n                            datum: d?.datum\n                        })}>\n                        {#if options.onmouseenter || options.onclick}\n                            <!-- add invisible path in bg for easier mouse access -->\n                            <path\n                                d={arrPath}\n                                style=\"fill:none;stroke-width: {(strokeWidth || 1) +\n                                    10}; stroke: red; stroke-opacity:0\" />\n                        {/if}\n                        <path class={[styleClass]} d={arrPath} {style} />\n                    </g>\n                {/if}\n            {/each}\n        </GroupMultiple>\n    {/snippet}\n</Mark>\n", "<!--\n    @component\n    For horizontal bar charts using a band scale as y axis\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface BarXMarkProps\n        extends BaseMarkProps<Datum>, LinkableMarkProps<Datum>, BaseRectMarkProps<Datum> {\n        data: Datum[];\n        x?: ChannelAccessor<Datum>;\n        x1?: ChannelAccessor<Datum>;\n        x2?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        stack?: StackOptions;\n        /**\n         * Converts x into x1/x2 ranges based on the provided interval. Disables the\n         * implicit stacking\n         */\n        interval?: number | string;\n    }\n\n    import Mark from '../Mark.svelte';\n    import { stackX, recordizeX, intervalX, sort } from '../index.js';\n\n    import type { StackOptions } from '../transforms/stack.js';\n    import type { DataRow } from '../types/index.js';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import RectPath from './helpers/RectPath.svelte';\n    import type {\n        BaseMarkProps,\n        BaseRectMarkProps,\n        ChannelAccessor,\n        LinkableMarkProps\n    } from '../types/index.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const DEFAULTS = {\n        fill: 'currentColor',\n        ...getPlotDefaults().bar,\n        ...getPlotDefaults().barX\n    };\n\n    let markProps: BarXMarkProps = $props();\n\n    const {\n        data = [{} as Datum],\n        class: className = null,\n        stack,\n        ...options\n    }: BarXMarkProps = $derived({ ...DEFAULTS, ...markProps });\n\n    const plot = usePlot();\n\n    const args = $derived(\n        stackX(\n            intervalX(\n                // by default, sort by y channel (the ordinal labels)\n                sort(recordizeX({ data, ...options })),\n                { plot }\n            ),\n            stack\n        )\n    );\n</script>\n\n<Mark\n    type=\"barX\"\n    requiredScales={{ y: ['band'] }}\n    channels={['x1', 'x2', 'y', 'fill', 'stroke', 'opacity', 'fillOpacity', 'strokeOpacity']}\n    {...args}>\n    {#snippet children({ mark, usedScales, scaledData })}\n        <GroupMultiple class=\"bar-x\" length={scaledData.length}>\n            {#each scaledData as d, i (i)}\n                {@const bw = plot.scales.y.fn.bandwidth()}\n                {@const minx = Math.min(d.x1, d.x2)}\n                {@const maxx = Math.max(d.x1, d.x2)}\n                {#if d.valid}\n                    <RectPath\n                        {usedScales}\n                        class={className}\n                        {options}\n                        datum={d}\n                        x={minx}\n                        useInsetAsFallbackHorizontally={false}\n                        y={d.y - bw * 0.5}\n                        width={maxx - minx}\n                        height={bw} />\n                {/if}\n            {/each}\n        </GroupMultiple>\n    {/snippet}\n</Mark>\n", "<!--\n    @component\n    For vertical column charts using a band scale as x axis\n-->\n\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface BarYMarkProps\n        extends BaseMarkProps<Datum>, LinkableMarkProps<Datum>, BaseRectMarkProps<Datum> {\n        data: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        y1?: ChannelAccessor<Datum>;\n        y2?: ChannelAccessor<Datum>;\n        stack?: StackOptions;\n        /**\n         * Converts y into y1/y2 ranges based on the provided interval. Disables the\n         * implicit stacking\n         */\n        interval?: number | string;\n    }\n\n    import Mark from '../Mark.svelte';\n    import { intervalY, stackY, recordizeY, sort } from '../index.js';\n\n    import type { StackOptions } from '../transforms/stack.js';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import RectPath from './helpers/RectPath.svelte';\n    import type {\n        BaseMarkProps,\n        BaseRectMarkProps,\n        ChannelAccessor,\n        DataRow,\n        LinkableMarkProps\n    } from '../types/index.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const plot = usePlot();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().bar,\n        ...getPlotDefaults().barY\n    };\n\n    let markProps: BarYMarkProps = $props();\n\n    const {\n        data = [{}],\n        class: className = null,\n        stack,\n        ...options\n    }: BarYMarkProps = $derived({ ...DEFAULTS, ...markProps });\n\n    const args = $derived(\n        stackY(\n            intervalY(\n                // by default, sort by x channel (the ordinal labels)\n                sort(recordizeY({ data, ...options })),\n                { plot }\n            ),\n            stack\n        )\n    );\n</script>\n\n<Mark\n    type=\"barY\"\n    requiredScales={{ x: ['band'] }}\n    channels={['x', 'y1', 'y2', 'fill', 'stroke', 'opacity', 'fillOpacity', 'strokeOpacity']}\n    {...args}>\n    {#snippet children({ scaledData, usedScales })}\n        <GroupMultiple class=\"bar-y\" length={scaledData.length}>\n            {#each scaledData as d, i (i)}\n                {@const bw = plot.scales.x.fn.bandwidth()}\n                {@const miny = Math.min(d.y1, d.y2)}\n                {@const maxy = Math.max(d.y1, d.y2)}\n                {#if d.valid}\n                    <RectPath\n                        x={d.x - bw * 0.5}\n                        y={miny}\n                        options={args}\n                        class={className}\n                        width={bw}\n                        height={maxy - miny}\n                        datum={d}\n                        {usedScales}\n                        useInsetAsFallbackVertically={false} />\n                {/if}\n            {/each}\n        </GroupMultiple>\n    {/snippet}\n</Mark>\n", "<!--\n    @component\n    line representing a moving average and an area representing volatility as a band\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    import { Area, Line, bollingerX, recordizeX } from '../index.js';\n    import type {\n        BaseMarkProps,\n        ChannelAccessor,\n        DataRecord,\n        TransformArg\n    } from '../types/index.js';\n    import { pick } from 'es-toolkit';\n\n    interface BollingerXMarkProps extends BaseMarkProps<Datum> {\n        data: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        /**\n         * the window size (the window transform's k option), an integer; defaults to 20\n         */\n        n?: number;\n        /**\n         * the band radius, a number representing a multiple of standard deviations; defaults to 2\n         */\n        k?: number;\n    }\n\n    let {\n        data,\n        class: className = null,\n        n = 20,\n        k = 2,\n        ...options\n    }: BollingerXMarkProps = $props();\n\n    let args = $derived(\n        bollingerX(recordizeX({ data, ...options } as TransformArg<DataRecord>), { n, k })\n    );\n</script>\n\n<g class=\"bollinger {className || ''}\">\n    <Line\n        {...{\n            x: '__avg',\n            y: '__x',\n            ...pick(args, ['data', 'stroke', 'strokeOpacity', 'opacity'])\n        }} />\n    <Area\n        {...{\n            y1: '__x',\n            x1: '__lo',\n            x2: '__hi',\n            ...pick(args, ['data', 'fill', 'fillOpacity', 'opacity']),\n            fillOpacity: 0.2\n        }} />\n</g>\n", "<!--\n    @component\n    line representing a moving average and an area representing volatility as a band\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    import { Area, Line, bollingerY, recordizeY } from '../index.js';\n    import type {\n        BaseMarkProps,\n        ChannelAccessor,\n        DataRecord,\n        TransformArg\n    } from '../types/index.js';\n    import { pick } from 'es-toolkit';\n\n    interface BollingerYMarkProps extends BaseMarkProps<Datum> {\n        data: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        /**\n         * the window size (the window transform's k option), an integer; defaults to 20\n         */\n        n?: number;\n        /**\n         * the band radius, a number representing a multiple of standard deviations; defaults to 2\n         */\n        k?: number;\n    }\n\n    let { data, n = 20, k = 2, class: className, ...options }: BollingerYMarkProps = $props();\n\n    const args = $derived(\n        bollingerY(recordizeY({ data, ...options } as TransformArg<DataRecord>), { n, k })\n    );\n</script>\n\n<g class=\"bollinger {className || ''}\">\n    <Line {...pick(args, ['x', 'y', 'data', 'stroke', 'strokeOpacity', 'opacity'])} />\n    <Area\n        {...{\n            x1: '__x',\n            y1: '__lo',\n            y2: '__hi',\n            ...pick(args, ['data', 'fill', 'fillOpacity', 'opacity']),\n            fillOpacity: 0.2\n        }} />\n</g>\n", "<!-- @component\n    Internal shared box plot implementation for BoxX and BoxY\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    type Orientation = 'x' | 'y';\n\n    interface BoxMarkProps extends Pick<\n        BaseMarkProps<Datum>,\n        'class' | 'fill' | 'stroke' | 'fx' | 'fy'\n    > {\n        data: Datum[];\n        x: ChannelAccessor;\n        y: ChannelAccessor;\n        /**\n         * Custom sort order for grouped box plot data\n         */\n        sort?: 'min' | 'max' | 'median' | 'p25' | 'p75' | ((d: Datum) => RawValue);\n        /**\n         * Options for the rule marks that represent the min/max range\n         */\n        rule: Record<string, ChannelAccessor<Datum>>;\n        /**\n         * Options for the bar marks that represent the IQR range\n         */\n        bar: Record<string, ChannelAccessor<Datum>>;\n        /**\n         * Options for the tick marks that represent the median\n         */\n        tickMedian: Record<string, ChannelAccessor<Datum>> | boolean;\n        /**\n         * Options for the tick marks that represent the min/max range\n         */\n        tickMinMax: Record<string, ChannelAccessor<Datum>> | boolean;\n        /**\n         * Options for the dot marks that represent the outliers\n         */\n        dot: Record<string, ChannelAccessor<Datum>>;\n        orientation: Orientation;\n    }\n\n    import GroupMultiple from './GroupMultiple.svelte';\n    import { groupX, groupY, BarY, TickY, RuleX, BarX, TickX, RuleY, Dot } from '../../index.js';\n    import { resolveChannel } from '../../helpers/resolve.js';\n    import type { BaseMarkProps, ChannelAccessor, DataRecord, RawValue } from '../../types';\n    import { IS_SORTED } from '../../transforms/sort';\n\n    let markProps: BoxMarkProps = $props();\n\n    const {\n        data = [{}],\n        bar,\n        rule,\n        tickMedian,\n        tickMinMax,\n        dot,\n        x,\n        y,\n        sort,\n        fx,\n        fy,\n        fill,\n        stroke,\n        orientation,\n        class: className = ''\n    }: BoxMarkProps = $derived(markProps);\n\n    const groupFn = $derived(orientation === 'y' ? groupX : groupY);\n    const BarMark = $derived(orientation === 'y' ? BarY : BarX);\n    const RuleMark = $derived(orientation === 'y' ? RuleX : RuleY);\n    const TickMark = $derived(orientation === 'y' ? TickY : TickX);\n\n    // the channels as if this would be a BoxX\n    const xChannel = $derived(orientation === 'y' ? y : x);\n    const yChannel = $derived(orientation === 'y' ? x : y);\n    const xProp = $derived(orientation === 'x' ? 'x' : 'y');\n    const x1Prop = $derived(`${xProp}1`);\n    const x2Prop = $derived(`${xProp}2`);\n    const yProp = $derived(orientation === 'x' ? 'y' : 'x');\n\n    const { data: grouped, ...groupChannels } = $derived(\n        groupFn(\n            {\n                data: data.filter((d) => resolveChannel(xProp, d, { x, y }) != null),\n                x,\n                y,\n                [x1Prop]: xChannel,\n                [x2Prop]: xChannel,\n                fx,\n                fy\n            },\n            { [xProp]: 'median', [x1Prop]: 'p25', [x2Prop]: 'p75', fill: (rows) => rows }\n        )\n    );\n\n    const X = Symbol('x'),\n        Y = Symbol('y'),\n        FX = Symbol('fx'),\n        FY = Symbol('fy'),\n        P25 = Symbol('p25'),\n        P75 = Symbol('p75'),\n        MEDIAN = Symbol('median'),\n        MIN = Symbol('min'),\n        MAX = Symbol('max'),\n        OUTLIERS = Symbol('outliers'),\n        SORT_REF = Symbol('sortRef');\n\n    const facets = $derived({\n        ...(fx != null && { fx: FX }),\n        ...(fy != null && { fy: FY })\n    });\n\n    const sortProps = { [IS_SORTED]: true };\n\n    const compareValues = (a: RawValue, b: RawValue) =>\n        (typeof a === 'string' && typeof b === 'string'\n            ? a.localeCompare(b)\n            : a > b\n              ? 1\n              : a < b\n                ? -1\n                : 0) || 0;\n\n    const boxData = $derived.by(() => {\n        const boxes = grouped\n            .map((row) => {\n                const medianKey = groupChannels[xProp];\n                const p25Key = groupChannels[x1Prop];\n                const p75Key = groupChannels[x2Prop];\n                const groupKey = groupChannels[yProp];\n\n                const iqr = row[p75Key] - row[p25Key];\n                const whisker = iqr * 1.5;\n                const lower = row[p25Key] - whisker;\n                const upper = row[p75Key] + whisker;\n                const data = row[groupChannels.fill].map((d) => ({\n                    ...d,\n                    [orientation === 'y' ? Y : X]: resolveChannel(xProp, d, {\n                        x,\n                        y\n                    })\n                }));\n                const valueSym = orientation === 'y' ? Y : X;\n                const groupSym = orientation === 'y' ? X : Y;\n                const outliers = data.filter((d) => d[valueSym] < lower || d[valueSym] > upper);\n                const inside = data\n                    .filter((d) => d[valueSym] >= lower && d[valueSym] <= upper)\n                    .sort((a, b) => a[valueSym] - b[valueSym]);\n\n                return {\n                    ...data[0],\n                    [SORT_REF]: row[groupChannels.fill]?.[0],\n                    [groupSym]: row[groupKey],\n                    [P25]: row[p25Key],\n                    [MEDIAN]: row[medianKey],\n                    [P75]: row[p75Key],\n                    [MIN]: inside.length ? inside[0][valueSym] : null,\n                    [MAX]: inside.length ? inside.at(-1)[valueSym] : null,\n                    [FX]: resolveChannel('fx', data[0], { fx }, null),\n                    [FY]: resolveChannel('fy', data[0], { fy }, null),\n                    [OUTLIERS]: outliers\n                };\n            })\n            .filter(Boolean);\n\n        const stripSortRef = ({ [SORT_REF]: _, ...rest }) => rest;\n\n        if (!sort) return boxes.map(stripSortRef);\n\n        const [sort_, direction] = maybeSort(sort);\n\n        const sortAccessor =\n            typeof sort === 'function'\n                ? (d) => sort(d[SORT_REF])\n                : (d) => {\n                      switch (sort_) {\n                          case 'min':\n                              return d[MIN];\n                          case 'max':\n                              return d[MAX];\n                          case 'p25':\n                              return d[P25];\n                          case 'p75':\n                              return d[P75];\n                          case 'median':\n                          default:\n                              return d[MEDIAN];\n                      }\n                  };\n\n        return boxes\n            .toSorted(\n                (a, b) =>\n                    compareValues(sortAccessor(a), sortAccessor(b)) *\n                    direction *\n                    (orientation === 'x' ? -1 : 1)\n            )\n            .map(stripSortRef);\n    });\n\n    function maybeSort(\n        sort: string | ((d: Datum) => RawValue) | undefined\n    ): [string | ((d: Datum) => RawValue), 1 | -1] {\n        if (typeof sort !== 'string') return [sort, 1];\n        if (sort.startsWith('-')) {\n            return [sort.slice(1), -1];\n        }\n        return [sort, 1];\n    }\n\n    const valueSymbol = $derived(orientation === 'y' ? Y : X);\n    const groupSymbol = $derived(orientation === 'y' ? X : Y);\n    const length = $derived(className ? 2 : grouped.length);\n    const baseClass = $derived(`box-${orientation} ${className || ''}`);\n</script>\n\n<GroupMultiple class={baseClass} {length}>\n    <RuleMark\n        data={boxData}\n        {...{ [yProp]: groupSymbol, [x1Prop]: MIN, [x2Prop]: P25 }}\n        {stroke}\n        {...rule || {}}\n        {...facets}\n        {...sortProps} />\n    <RuleMark\n        data={boxData}\n        {...{ [yProp]: groupSymbol, [x1Prop]: P75, [x2Prop]: MAX }}\n        {stroke}\n        {...rule || {}}\n        {...facets} />\n    <BarMark\n        data={boxData}\n        {...{ [yProp]: groupSymbol, [x1Prop]: P25, [x2Prop]: P75 }}\n        {fill}\n        {stroke}\n        {...facets}\n        {...bar || {}} />\n    {#if tickMedian}\n        <TickMark\n            data={boxData}\n            {...{ [yProp]: groupSymbol, [xProp]: MEDIAN }}\n            {...facets}\n            {stroke}\n            strokeWidth={2}\n            {...typeof tickMedian === 'object' ? tickMedian : {}} />\n    {/if}\n    {#if tickMinMax}\n        <TickMark\n            data={boxData}\n            {...{ [yProp]: groupSymbol, [xProp]: MIN }}\n            {stroke}\n            {...facets}\n            inset=\"20%\"\n            {...typeof tickMinMax === 'object' ? tickMinMax : {}} />\n        <TickMark\n            data={boxData}\n            {...{ [yProp]: groupSymbol, [xProp]: MAX }}\n            {stroke}\n            {...facets}\n            inset=\"20%\"\n            {...typeof tickMinMax === 'object' ? tickMinMax : {}} />\n    {/if}\n    <Dot\n        data={boxData.map((d) => d[OUTLIERS]).flat()}\n        {x}\n        {y}\n        {fx}\n        {fy}\n        {fill}\n        {stroke}\n        {...dot || {}} />\n</GroupMultiple>\n", "<!-- @component\n    Creates a horizontal box plot for visualizing data distribution with quartiles and outliers\n-->\n\n<script lang=\"ts\">\n    interface BoxXMarkProps extends ComponentProps<typeof BoxY> {}\n    import { type ComponentProps } from 'svelte';\n    import Box from './helpers/Box.svelte';\n    import type BoxY from './BoxY.svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n\n    let markProps: BoxXMarkProps = $props();\n\n    const DEFAULTS = {\n        tickMedian: true,\n        tickMinMax: false,\n        sort: 'median',\n        ...getPlotDefaults().box,\n        ...getPlotDefaults().boxX\n    };\n\n    const props: BoxXMarkProps & { class?: string } = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n</script>\n\n<Box {...props} orientation=\"x\" />\n", "<!-- @component\n    Creates a vertical box plot for visualizing data distribution with quartiles and outliers\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface BoxYMarkProps extends Pick<\n        BaseMarkProps<Datum>,\n        'class' | 'fill' | 'stroke' | 'fx' | 'fy'\n    > {\n        data: Datum[];\n        x: ChannelAccessor;\n        y: ChannelAccessor;\n        /**\n         * Custom sort order for grouped box plot data\n         */\n        sort?:\n            | 'min'\n            | 'max'\n            | 'median'\n            | 'p25'\n            | 'p75'\n            | '-min'\n            | '-max'\n            | '-median'\n            | '-p25'\n            | '-p75'\n            | ((d: Datum) => RawValue);\n        /**\n         * Options for the rule marks that represent the min/max range\n         */\n        rule: Record<string, ChannelAccessor<Datum>>;\n        /**\n         * Options for the bar marks that represent the IQR range\n         */\n        bar: Record<string, ChannelAccessor<Datum>>;\n        /**\n         * Options for the tick marks that represent the median\n         */\n        tickMedian: Record<string, ChannelAccessor<Datum>> | boolean;\n        /**\n         * Options for the tick marks that represent the min/max range\n         */\n        tickMinMax: Record<string, ChannelAccessor<Datum>> | boolean;\n        /**\n         * Options for the dot marks that represent the outliers\n         */\n        dot: Record<string, ChannelAccessor<Datum>>;\n    }\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import Box from './helpers/Box.svelte';\n    import type { BaseMarkProps, ChannelAccessor, DataRecord, RawValue } from '../types';\n\n    let markProps: BoxYMarkProps = $props();\n\n    const DEFAULTS = {\n        tickMedian: true,\n        tickMinMax: false,\n        sort: 'median',\n        ...getPlotDefaults().box,\n        ...getPlotDefaults().boxY\n    };\n\n    const props: BoxYMarkProps & { class?: string } = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n</script>\n\n<Box {...props} orientation=\"y\" />\n", "<!--\n    @component\n    For arbitrary rectangles, requires quantitative x and y scales \n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface RectMarkProps\n        extends BaseMarkProps<Datum>, LinkableMarkProps<Datum>, BaseRectMarkProps<Datum> {\n        data: Datum[];\n        x?: ChannelAccessor<Datum>;\n        x1?: ChannelAccessor<Datum>;\n        x2?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        y1?: ChannelAccessor<Datum>;\n        y2?: ChannelAccessor<Datum>;\n        interval?: number | string;\n        className?: string;\n    }\n    import Mark from '../Mark.svelte';\n    import { intervalX, intervalY } from '../index.js';\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        BaseRectMarkProps,\n        ChannelAccessor,\n        LinkableMarkProps\n    } from '../types/index.js';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import RectPath from './helpers/RectPath.svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { IS_SORTED } from '../transforms/sort';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: RectMarkProps = $props();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().rect\n    };\n\n    const {\n        data = [{} as Datum],\n        class: className = '',\n        ...options\n    }: RectMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const args = $derived(\n        intervalY(intervalX({ data, ...options }, { plot }), { plot }) as RectMarkProps\n    );\n</script>\n\n<Mark\n    type=\"rect\"\n    required={[]}\n    channels={['x1', 'x2', 'y1', 'y2', 'fill', 'stroke', 'opacity', 'fillOpacity', 'strokeOpacity']}\n    {...markProps}\n    {...args}>\n    {#snippet children({ usedScales, scaledData })}\n        <GroupMultiple class={scaledData.length > 1 ? className : null} length={scaledData.length}>\n            {#each scaledData as d, i (i)}\n                {#if d.valid}\n                    {@const x1 = d.x1 == null ? plot.options.marginLeft + d.dx : d.x1}\n                    {@const x2 =\n                        d.x2 == null ? plot.options.marginLeft + plot.facetWidth + d.dx : d.x2}\n                    {@const y1 = d.y1 == null ? plot.options.marginTop + d.dy : d.y1}\n                    {@const y2 =\n                        d.y2 == null ? plot.options.marginTop + plot.facetHeight + d.dy : d.y2}\n\n                    {@const miny = Math.min(y1, y2)}\n                    {@const maxy = Math.max(y1, y2)}\n                    {@const minx = Math.min(x1, x2)}\n                    {@const maxx = Math.max(x1, x2)}\n\n                    <RectPath\n                        datum={d}\n                        class={scaledData.length === 1 ? className : null}\n                        x={minx}\n                        y={miny}\n                        width={maxx - minx}\n                        height={maxy - miny}\n                        options={args}\n                        {usedScales} />\n                {/if}\n            {/each}\n        </GroupMultiple>\n    {/snippet}\n</Mark>\n", "<!--\n    @component\n    For creating a two-dimensional brush selection\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface BrushMarkProps extends Pick<\n        BaseMarkProps<Datum>,\n        | 'cursor'\n        | 'stroke'\n        | 'strokeDasharray'\n        | 'strokeOpacity'\n        | 'strokeWidth'\n        | 'strokeLinecap'\n        | 'strokeDashoffset'\n        | 'strokeLinejoin'\n        | 'strokeMiterlimit'\n    > {\n        brush: Brush;\n        /**\n         * limit brushing to x or y dimension\n         */\n        limitDimension?: false | 'x' | 'y';\n        /**\n         * whether brush can move/resize outside domain\n         */\n        constrainToDomain?: boolean;\n        /**\n         * size of the (invisible) drag resize area around the edges of the brush selection\n         */\n        resizeHandleSize?: number;\n        onbrushstart?: (evt: BrushEvent) => void;\n        onbrushend?: (evt: BrushEvent) => void;\n        onbrush?: (evt: BrushEvent) => void;\n    }\n    import { getContext, untrack } from 'svelte';\n    import Rect from './Rect.svelte';\n    import type { BaseMarkProps, DataRecord } from '../types/index.js';\n    import { clientToLayerCoordinates } from './helpers/events.js';\n    import Frame from './Frame.svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let { brush: brushExternal = $bindable({ enabled: false }), ...markProps }: BrushMarkProps =\n        $props();\n\n    let brush = $state<Brush>(brushExternal);\n\n    const DEFAULTS = {\n        stroke: 'currentColor',\n        strokeDasharray: '2,3',\n        strokeOpacity: 0.6,\n        resizeHandleSize: 10,\n        constrainToDomain: false,\n        ...getPlotDefaults().brush\n    };\n\n    type Brush = {\n        x1?: number | Date;\n        x2?: number | Date;\n        y1?: number | Date;\n        y2?: number | Date;\n        enabled: boolean;\n    };\n\n    type BrushEvent = MouseEvent & { brush: Brush };\n\n    const {\n        data = [{} as Datum],\n        stroke,\n        strokeWidth,\n        strokeDasharray,\n        strokeOpacity,\n        strokeLinecap,\n        strokeDashoffset,\n        strokeLinejoin,\n        strokeMiterlimit,\n        cursor: forceCursor,\n        limitDimension = false,\n        constrainToDomain,\n        resizeHandleSize,\n        onbrushstart,\n        onbrushend,\n        onbrush\n    }: BrushMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const xScaleFn = $derived(plot.scales.x.fn);\n    const yScaleFn = $derived(plot.scales.y.fn);\n\n    const xDomain = $derived(plot.scales.x.domain) as [number, number] | [Date, Date];\n    const xRange = $derived(plot.scales.x.range) as [number, number];\n    const yDomain = $derived(plot.scales.y.domain) as [number, number] | [Date, Date];\n    const yRange = $derived(plot.scales.y.range) as [number, number];\n\n    $effect(() => {\n        if (limitDimension !== 'y' && !xScaleFn.invert) {\n            throw new Error('brushing does not work with band/point scales');\n        }\n        if (limitDimension !== 'x' && !yScaleFn.invert) {\n            throw new Error('brushing does not work with band/point scales');\n        }\n    });\n\n    let x1 = $state(brush.x1 as Date | number);\n    let x2 = $state(brush.x2 as Date | number);\n    let y1 = $state(brush.y1 as Date | number);\n    let y2 = $state(brush.y2 as Date | number);\n\n    type ActionType =\n        | 'move'\n        | 'draw'\n        | 'n-resize'\n        | 's-resize'\n        | 'w-resize'\n        | 'e-resize'\n        | 'ne-resize'\n        | 'nw-resize'\n        | 'se-resize'\n        | 'sw-resize'\n        | false;\n\n    let dragging = false;\n    let action: ActionType = $state(false);\n\n    let dragStart: [number, number];\n\n    let pxPointer = $state([0, 0]);\n\n    const pxBrush = $derived({\n        x1: xScaleFn(brush.x1 as Date | number),\n        x2: xScaleFn(brush.x2 as Date | number),\n        y1: yScaleFn(brush.y1 as Date | number),\n        y2: yScaleFn(brush.y2 as Date | number)\n    });\n\n    const HALF_EDGE = $derived(resizeHandleSize * 0.5);\n\n    const isInsideBrush = $derived(\n        (limitDimension === 'y' || pxPointer[0] > pxBrush.x1 + HALF_EDGE) &&\n            (limitDimension === 'y' || pxPointer[0] < pxBrush.x2 - HALF_EDGE) &&\n            (limitDimension === 'x' || pxPointer[1] > pxBrush.y2 + HALF_EDGE) &&\n            (limitDimension === 'x' || pxPointer[1] < pxBrush.y1 - HALF_EDGE)\n    );\n\n    const isXEdge: false | 'left' | 'right' = $derived(\n        pxPointer[0] > pxBrush.x1 - HALF_EDGE && pxPointer[0] < pxBrush.x1 + HALF_EDGE\n            ? 'left'\n            : pxPointer[0] > pxBrush.x2 - HALF_EDGE && pxPointer[0] < pxBrush.x2 + HALF_EDGE\n              ? 'right'\n              : false\n    );\n    const isYEdge: false | 'top' | 'bottom' = $derived(\n        pxPointer[1] > pxBrush.y1 - HALF_EDGE && pxPointer[1] < pxBrush.y1 + HALF_EDGE\n            ? 'top'\n            : pxPointer[1] > pxBrush.y2 - HALF_EDGE && pxPointer[1] < pxBrush.y2 + HALF_EDGE\n              ? 'bottom'\n              : false\n    );\n\n    const CURSOR_MAP = { left: 'w', right: 'e', top: 's', bottom: 'n' };\n\n    const cursor = $derived(\n        forceCursor\n            ? forceCursor\n            : action\n              ? action === 'draw'\n                  ? 'crosshair'\n                  : action\n              : brush.enabled && isInsideBrush\n                ? 'move'\n                : brush.enabled && (isXEdge || isYEdge)\n                  ? `${[isYEdge, isXEdge]\n                        .filter((d) => !!d)\n                        .map((c) => CURSOR_MAP[c])\n                        .join('')}-resize`\n                  : 'crosshair'\n    );\n\n    $effect(() => {\n        // update brush prop when internal state changes\n        brush.x1 =\n            !brush.enabled || limitDimension === 'y'\n                ? undefined\n                : constrain((x1 < x2 ? x1 : x2) as Date | number, xDomain);\n        brush.x2 =\n            !brush.enabled || limitDimension === 'y'\n                ? undefined\n                : constrain(x1 > x2 ? x1 : x2, xDomain);\n        brush.y1 =\n            !brush.enabled || limitDimension === 'x'\n                ? undefined\n                : constrain(y1 < y2 ? y1 : y2, yDomain);\n        brush.y2 =\n            !brush.enabled || limitDimension === 'x'\n                ? undefined\n                : constrain(y1 > y2 ? y1 : y2, yDomain);\n    });\n\n    // update internal state when external brush prop changes\n    $effect(() => {\n        const brushInt = untrack(() => brush);\n        if (!brushIdentical(brushInt, brushExternal)) {\n            brush = brushExternal;\n            // also keep internal x1,x2,y1,y2 in sync\n            x1 = brush.x1 as Date | number;\n            x2 = brush.x2 as Date | number;\n            y1 = brush.y1 as Date | number;\n            y2 = brush.y2 as Date | number;\n        }\n    });\n\n    // update external brush when internal state changes\n    $effect(() => {\n        const brushExt = untrack(() => brushExternal);\n        if (!brushIdentical(brush, brushExt)) {\n            // avoid cycles\n            brushExternal = brush;\n        }\n    });\n\n    function brushIdentical(b1: Brush, b2: Brush) {\n        return (\n            b1.enabled === b2.enabled &&\n            b1.x1 === b2.x1 &&\n            b1.x2 === b2.x2 &&\n            b1.y1 === b2.y1 &&\n            b1.y2 === b2.y2\n        );\n    }\n\n    function constrain<T extends number | Date>(x: T, extent: [typeof x, typeof x]) {\n        const minE = extent[0] < extent[1] ? extent[0] : extent[1];\n        const maxE = extent[0] > extent[1] ? extent[0] : extent[1];\n        if (x < minE) return minE;\n        if (x > maxE) return maxE;\n        return x;\n    }\n\n    const DRAG_MIN_DISTANCE = 5;\n\n    /**\n     * fallback to clientX/clientY to support basic user event testing\n     */\n    function getLayerPos(e: MouseEvent): [number, number] {\n        // Use the clientToLayerCoordinates helper function\n        return clientToLayerCoordinates(e, plot.body);\n    }\n\n    $effect(() => {\n        plot.body?.ownerDocument.body.addEventListener('pointerup', onpointerup);\n        plot.body?.ownerDocument.body.addEventListener('pointermove', onpointermove);\n\n        return () => {\n            plot.body?.ownerDocument.body.removeEventListener('pointerup', onpointerup);\n            plot.body?.ownerDocument.body.removeEventListener('pointermove', onpointermove);\n        };\n    });\n\n    function onpointerdown(e: MouseEvent) {\n        dragging = true;\n        dragStart = getLayerPos(e);\n        pxPointer = getLayerPos(e);\n\n        if (brush.enabled && isInsideBrush) {\n            // drag starts inside existing brush, if so, move the brush\n            action = 'move';\n        } else if (brush.enabled && (isXEdge || isYEdge)) {\n            // drag starts on a brush edge, so resize the brush\n            action = `${[isYEdge, isXEdge]\n                .filter((d) => !!d)\n                .map((c) => CURSOR_MAP[c])\n                .join('')}-resize` as ActionType;\n        } else {\n            // draw new brush selection\n            action = 'draw';\n            if (typeof xScaleFn.invert === 'function' && limitDimension !== 'y') {\n                x1 = x2 = xScaleFn.invert(dragStart[0]);\n            }\n            if (typeof yScaleFn.invert === 'function' && limitDimension !== 'x') {\n                y1 = y2 = yScaleFn.invert(dragStart[1]);\n            }\n        }\n        onbrushstart?.({ ...e, brush });\n    }\n\n    const EAST: Set<ActionType> = new Set(['e-resize', 'ne-resize', 'se-resize']);\n    const WEST: Set<ActionType> = new Set(['w-resize', 'nw-resize', 'sw-resize']);\n    const NORTH: Set<ActionType> = new Set(['n-resize', 'ne-resize', 'nw-resize']);\n    const SOUTH: Set<ActionType> = new Set(['s-resize', 'se-resize', 'sw-resize']);\n\n    function onpointermove(e: MouseEvent) {\n        const newPos = getLayerPos(e);\n\n        if (dragging) {\n            let px = newPos[0] - pxPointer[0];\n            let py = newPos[1] - pxPointer[1];\n\n            if (constrainToDomain) {\n                if (action === 'move') {\n                    // limit selection movement\n                    px = constrain(px, [xRange[0] - pxBrush.x1, xRange[1] - pxBrush.x2]);\n                    py = constrain(py, [yRange[0] - pxBrush.y1, yRange[1] - pxBrush.y2]);\n                } else if (action !== 'draw') {\n                    // limit horizontal resizing\n                    if (EAST.has(action)) {\n                        px = constrain(px, [xRange[0] - pxBrush.x2, xRange[1] - pxBrush.x2]);\n                    } else if (WEST.has(action)) {\n                        px = constrain(px, [xRange[0] - pxBrush.x1, xRange[1] - pxBrush.x1]);\n                    }\n                    // limit vertical resizing\n                    if (NORTH.has(action)) {\n                        py = constrain(py, [yRange[0] - pxBrush.y2, yRange[1] - pxBrush.y2]);\n                    } else if (SOUTH.has(action)) {\n                        py = constrain(py, [yRange[0] - pxBrush.y1, yRange[1] - pxBrush.y1]);\n                    }\n                }\n            }\n\n            const hasX = limitDimension !== 'y';\n            const hasY = limitDimension !== 'x';\n\n            const dx1 = !hasX ? 0 : xScaleFn.invert(xScaleFn(x1) + px);\n            const dx2 = !hasX ? 0 : xScaleFn.invert(xScaleFn(x2) + px);\n            const dy1 = !hasY ? 0 : yScaleFn.invert(yScaleFn(y1) + py);\n            const dy2 = !hasY ? 0 : yScaleFn.invert(yScaleFn(y2) + py);\n\n            if (action === 'move') {\n                // move edges\n                x1 = dx1;\n                x2 = dx2;\n                y1 = dy1;\n                y2 = dy2;\n            } else if (action === 'draw') {\n                x2 = !hasX ? 0 : xScaleFn.invert(newPos[0]);\n                y2 = !hasY ? 0 : yScaleFn.invert(newPos[1]);\n\n                if (constrainToDomain) {\n                    x2 = constrain(x2, xDomain as [typeof x2, typeof x2]);\n                    y2 = constrain(y2, yDomain as [typeof y2, typeof y2]);\n                }\n            } else {\n                if (EAST.has(action)) {\n                    x2 = dx2;\n                } else if (WEST.has(action)) {\n                    x1 = dx1;\n                }\n                if (NORTH.has(action)) {\n                    y2 = dy2;\n                } else if (SOUTH.has(action)) {\n                    y1 = dy1;\n                }\n\n                // if the user drag-resizes a brush edge over the opposite edge we need to\n                // flip the coordinates and invert the resize action name\n\n                [x1, x2, action] = swapIfNeeded(x1, x2, action, 'e', 'w');\n                [y1, y2, action] = swapIfNeeded(y1, y2, action, 'n', 's');\n            }\n\n            const dist = Math.sqrt(\n                (dragStart[0] - pxPointer[0]) ** 2 + (dragStart[1] - pxPointer[1]) ** 2\n            );\n            if (dist > DRAG_MIN_DISTANCE) brush.enabled = true;\n            onbrush?.({ ...e, brush });\n\n            pxPointer = [pxPointer[0] + px, pxPointer[1] + py];\n        } else {\n            pxPointer = getLayerPos(e);\n        }\n    }\n\n    function swapIfNeeded(\n        v1: number | Date,\n        v2: number | Date,\n        action: ActionType,\n        swapDir1: string,\n        swapDir2: string\n    ) {\n        if (action && v2 < v1) {\n            return [\n                v2,\n                v1,\n                `${action.split('-')[0].replace(swapDir1, 'X').replace(swapDir2, swapDir1).replace('X', swapDir2)}-resize` as ActionType\n            ];\n        }\n        return [v1, v2, action];\n    }\n\n    function onpointerup(e: MouseEvent) {\n        if (dragging) {\n            dragging = false;\n            action = false;\n\n            brush.enabled =\n                Math.sqrt((dragStart[0] - pxPointer[0]) ** 2 + (dragStart[1] - pxPointer[1]) ** 2) >\n                DRAG_MIN_DISTANCE;\n            onbrushend?.({ ...e, brush });\n        }\n    }\n</script>\n\n{#if stroke && brush.enabled}\n    <Rect\n        class=\"brush-rect\"\n        {...limitDimension === 'x' ? {} : { y1: brush.y1, y2: brush.y2 }}\n        {...limitDimension === 'y' ? {} : { x1: brush.x1, x2: brush.x2 }}\n        {stroke}\n        {strokeDasharray}\n        {strokeOpacity}\n        {strokeDashoffset}\n        {strokeLinecap}\n        {strokeLinejoin}\n        {strokeMiterlimit}\n        {strokeWidth} />\n{/if}\n<Frame\n    fill=\"transparent\"\n    stroke=\"transparent\"\n    inset={-20}\n    {cursor}\n    {onpointerdown}\n    {onpointermove} />\n", "<!--\n    @component\n    For creating a brush that can be dragged horizontally\n-->\n<script lang=\"ts\">\n    interface BrushXMarkProps extends Omit<ComponentProps<typeof Brush>, 'limitDimension'> {}\n\n    import Brush from './Brush.svelte';\n    import { type ComponentProps } from 'svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n\n    let { brush = $bindable({ enabled: false }), ...options }: BrushXMarkProps = $props();\n    const DEFAULTS = {\n        ...getPlotDefaults().brush,\n        ...getPlotDefaults().brushX\n    };\n</script>\n\n<Brush bind:brush limitDimension=\"x\" {...DEFAULTS} {...options} />\n", "<!--\n    @component\n    For creating a brush that can be dragged vertically\n-->\n<script lang=\"ts\">\n    import Brush from './Brush.svelte';\n    import { type ComponentProps } from 'svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n\n    interface BrushYMarkProps extends Omit<ComponentProps<typeof Brush>, 'limitDimension'> {}\n\n    let { brush = $bindable({ enabled: false }), ...options }: BrushYMarkProps = $props();\n    const DEFAULTS = {\n        ...getPlotDefaults().brush,\n        ...getPlotDefaults().brushY\n    };\n</script>\n\n<Brush bind:brush limitDimension=\"y\" {...DEFAULTS} {...options} />\n", "<!--\n    @component\n    For arbitrary rectangles, requires band x and y scales \n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface CellMarkProps\n        extends BaseMarkProps<Datum>, LinkableMarkProps<Datum>, BaseRectMarkProps<Datum> {\n        data: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n    }\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        BaseRectMarkProps,\n        ChannelAccessor,\n        LinkableMarkProps\n    } from '../types/index.js';\n    import Mark from '../Mark.svelte';\n    import { recordizeY, sort } from '../index.js';\n    import { resolveChannel } from '../helpers/resolve.js';\n\n    import { isValid } from '../helpers/index.js';\n    import RectPath from './helpers/RectPath.svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: CellMarkProps = $props();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().cell\n    };\n\n    const {\n        data = [{} as Datum],\n        class: className = '',\n        ...options\n    }: CellMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const args = $derived(\n        options.sort !== undefined\n            ? // user has defined a custom sorting\n              sort(recordizeY({ data, ...options }))\n            : // sort by x and y\n              (sort({\n                  ...sort({\n                      ...recordizeY({ data, ...options }),\n                      sort: { channel: 'x' }\n                  }),\n                  sort: { channel: 'y' }\n              }) as CellMarkProps)\n    ) as CellMarkProps;\n</script>\n\n<Mark\n    type=\"cell\"\n    required={['x', 'y']}\n    requiredScales={{ x: ['band'], y: ['band'] }}\n    channels={['x', 'y', 'fill', 'stroke', 'opacity', 'fillOpacity', 'strokeOpacity']}\n    {...args}>\n    {#snippet children({ scaledData, usedScales })}\n        {@const bwx = plot.scales.x.fn.bandwidth()}\n        {@const bwy = plot.scales.y.fn.bandwidth()}\n        <g class=\"cell {className || ''}\" data-fill={usedScales.fillOpacity}>\n            {#each scaledData as d, i (i)}\n                {#if d.valid && (args.fill == null || isValid(resolveChannel('fill', d.datum, args)))}\n                    <RectPath\n                        datum={d}\n                        class={className}\n                        {usedScales}\n                        options={args}\n                        x={d.x - bwx * 0.5}\n                        y={d.y - bwy * 0.5}\n                        width={bwx}\n                        height={bwy} />\n                {/if}\n            {/each}\n        </g>\n    {/snippet}\n</Mark>\n", "<!--\n    @component\n    For arbitrary rectangles with fixed y position, requires band x scale\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    import Cell from './Cell.svelte';\n    import { recordizeY } from '../index.js';\n    import type { ComponentProps } from 'svelte';\n    import type { DataRow, TransformArgsRow } from '../types/index.js';\n\n    interface CellXMarkProps extends Omit<ComponentProps<typeof Cell>, 'y' | 'data'> {\n        data: Datum[];\n    }\n\n    let { data = [{}], ...options }: CellXMarkProps = $props();\n\n    const args = $derived(\n        recordizeY({\n            data,\n            ...options\n        } as TransformArgsRow<Datum>)\n    );\n</script>\n\n<Cell {...args} y=\"0\" fill={options.fill || '__value'} />\n", "<!--\n    @component\n    For arbitrary rectangles with fixed x position, requires band y scale\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    import Cell from './Cell.svelte';\n    import { recordizeX } from '../index.js';\n    import type { ComponentProps } from 'svelte';\n    import type { DataRow, TransformArgsRow } from '../types/index.js';\n\n    interface CellYMarkProps extends Omit<ComponentProps<typeof Cell>, 'x' | 'data'> {\n        data: Datum[];\n    }\n\n    let { data = [{}], ...options }: CellYMarkProps = $props();\n\n    const args = $derived(\n        recordizeX({\n            data,\n            ...options\n        } as TransformArgsRow<Datum>)\n    );\n</script>\n\n<Cell {...args} x=\"0\" fill={options.fill || '__value'} />\n", "<!--\n    @component\n    For showing custom SVG marks positioned at x/y coordinates\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface CustomMarkProps extends BaseMarkProps<Datum> {\n        data?: Datum[];\n        type?: string;\n        x?: ChannelAccessor<Datum>;\n        x1?: ChannelAccessor<Datum>;\n        x2?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        y1?: ChannelAccessor<Datum>;\n        y2?: ChannelAccessor<Datum>;\n        r?: ChannelAccessor<Datum>;\n        mark?: Snippet<\n            [{ record: ScaledDataRecord<Datum>; index: number; usedScales: UsedScales }]\n        >;\n        marks?: Snippet<[{ records: ScaledDataRecord<Datum>[]; usedScales: UsedScales }]>;\n    }\n\n    import type {\n        PlotContext,\n        DataRecord,\n        ChannelAccessor,\n        BaseMarkProps,\n        ScaledDataRecord,\n        UsedScales,\n        ScaledChannelName\n    } from '../types/index.js';\n    import type { Snippet } from 'svelte';\n    import { sort } from '../index.js';\n\n    import Mark from '../Mark.svelte';\n\n    let {\n        data = [{} as Datum],\n        mark,\n        type = 'custom',\n        marks,\n        ...options\n    }: CustomMarkProps = $props();\n\n    const args = $derived(sort({ data, ...options })) as CustomMarkProps;\n\n    const channels: ScaledChannelName[] = [\n        'x',\n        'x1',\n        'x2',\n        'y',\n        'y1',\n        'y2',\n        'r',\n        'fill',\n        'stroke',\n        'opacity',\n        'fillOpacity',\n        'strokeOpacity'\n    ];\n</script>\n\n<Mark {type} required={[]} channels={channels.filter((d) => !!options[d])} {...args}>\n    {#snippet children({ scaledData, usedScales })}\n        {#if marks}\n            {@render marks({ records: scaledData.filter((d) => d.valid), usedScales })}\n        {/if}\n        {#if mark}\n            {#each scaledData as datum, i (i)}\n                {#if datum.valid}\n                    {@render mark({ record: datum, index: i, usedScales })}\n                {/if}\n            {/each}\n        {/if}\n    {/snippet}\n</Mark>\n", "<!--\n    @component\n    For showing custom HTML tooltips positioned at x/y coordinates\n-->\n\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface CustomMarkHTMLProps {\n        data: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        frameAnchor?: ConstantAccessor<\n            | 'bottom'\n            | 'top'\n            | 'left'\n            | 'right'\n            | 'top-left'\n            | 'bottom-left'\n            | 'top-right'\n            | 'bottom-right'\n            | 'center',\n            Datum\n        >;\n        class: string | null;\n        children: Snippet<{ datum: Datum; x: number; y: number }>;\n    }\n    import { type Snippet } from 'svelte';\n    import type { ChannelAccessor, ConstantAccessor, DataRecord } from '../types/index.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    import { resolveChannel } from '../helpers/resolve.js';\n    import { projectX, projectY, projectXY } from '../helpers/scales.js';\n    import { isValid } from '../helpers/index.js';\n\n    const plot = usePlot();\n\n    let {\n        data = [{} as Datum],\n        x,\n        y,\n        frameAnchor,\n        children,\n        class: className = null\n    }: CustomMarkHTMLProps = $props();\n\n    function getXY(datum: Datum) {\n        const fa = frameAnchor || 'center';\n        const isLeft = fa.endsWith('left');\n        const isRight = fa.endsWith('right');\n        const isTop = fa.startsWith('top');\n        const isBottom = fa.startsWith('bottom');\n\n        if (x == null || y == null) {\n            // project x and y individually\n            const px =\n                x != null\n                    ? projectX('x', plot.scales, resolveChannel('x', datum, { x, y }))\n                    : plot.options.marginLeft +\n                      (isLeft ? 0 : isRight ? plot.width : plot.width / 2);\n            const py =\n                y != null\n                    ? projectY('y', plot.scales, resolveChannel('y', datum, { x, y }))\n                    : plot.options.marginTop +\n                      (isTop ? 0 : isBottom ? plot.height : plot.height / 2);\n            return [px, py];\n        } else {\n            // use projectXY\n            const x_ = resolveChannel('x', datum, { x, y });\n            const y_ = resolveChannel('y', datum, { x, y });\n            return projectXY(plot.scales, x_, y_);\n        }\n    }\n</script>\n\n{#snippet customMarks()}\n    {#each data as datum, i (i)}\n        {@const [px, py] = getXY(datum)}\n        {#if isValid(px) && isValid(py)}\n            <div\n                class=\"custom-mark-html\"\n                style:left=\"{px.toFixed(0)}px\"\n                style:top=\"{py.toFixed(0)}px\">\n                {@render children({ datum, x: px, y: py })}\n            </div>\n        {/if}\n    {/each}\n{/snippet}\n\n{#if data.length > 1 || className}\n    <div class=\"g-custom-mark-html {className || ''}\">\n        {@render customMarks()}\n    </div>\n{:else}\n    {@render customMarks()}\n{/if}\n\n<style>\n    .custom-mark-html {\n        position: absolute;\n    }\n</style>\n", "<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface DifferenceYMarkProps extends Omit<BaseMarkProps<Datum>, 'fill' | 'fillOpacity'> {\n        data: Datum[];\n        /*\n         * the horizontal position of the comparison; bound to the x scale\n         */\n        x1: ChannelAccessor<Datum>;\n        /**\n         * the horizontal position of the metric; bound to the x scale\n         */\n        x2: ChannelAccessor<Datum>;\n        x: ChannelAccessor<Datum>;\n        /**\n         * the vertical position of the comparison; bound to the y scale\n         */\n        y1: ChannelAccessor<Datum>;\n        /**\n         * the vertical position of the metric; bound to the y scale\n         */\n        y2: ChannelAccessor<Datum>;\n        y: ChannelAccessor<Datum>;\n        fillOpacity?: number;\n        /**\n         * the stroke color of the \"positive\" area; defaults to 'blue'\n         */\n        positiveFill?: string;\n        /**\n         * the fill opacity of the \"positive\" area; defaults to 1\n         */\n        positiveFillOpacity?: number;\n        /**\n         * the stroke color of the \"negative\" area; defaults to 'red'\n         */\n        negativeFill?: string;\n        /**\n         * the fill opacity of the \"negative\" area; defaults to 1\n         */\n        negativeFillOpacity?: number;\n        /**\n         * curve type for the area; defaults to 'linear'\n         */\n        curve?: CurveName | CurveFactory;\n        /**\n         * the tension of the area curve; defaults to 0\n         */\n        tension?: number;\n    }\n    import type {\n        BaseMarkProps,\n        ChannelAccessor,\n        CurveName,\n        DataRecord\n    } from '../types/index.js';\n    import { Line, Area } from './index.js';\n    import { randomId, coalesce } from '../helpers/index.js';\n    import { extent, max, min } from 'd3-array';\n    import { resolveChannel } from '../helpers/resolve.js';\n    import type { CurveFactory } from 'd3-shape';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const plot = usePlot();\n\n    let markProps: DifferenceYMarkProps = $props();\n\n    const DEFAULTS = {\n        positiveFill: 'red',\n        positiveFillOpacity: 1,\n        negativeFill: 'blue',\n        negativeFillOpacity: 1,\n        curve: 'linear' as CurveName,\n        tension: 0,\n        ...getPlotDefaults().differenceY\n    };\n\n    const {\n        data,\n        stroke,\n        class: className = null,\n        ...options\n    }: DifferenceYMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n    const { x, x1, x2, y, y1, y2 } = $derived(options);\n\n    const x1x2Differ = $derived((x1 == null || x2 == null) && x1 !== x2);\n\n    const xExtent = $derived(\n        x1x2Differ && x != null ? extent(data, (d) => resolveChannel('x', d, options)) : null\n    );\n    const x1Extent = $derived(\n        x1x2Differ && x1 != null ? extent(data, (d) => resolveChannel('x1', d, options)) : null\n    );\n    const x2Extent = $derived(\n        x1x2Differ && x2 != null ? extent(data, (d) => resolveChannel('x2', d, options)) : null\n    );\n\n    const maxMin = $derived(\n        max([xExtent, x1Extent, x2Extent].filter((d) => d != null).map((d) => d[0]))\n    );\n    const minMax = $derived(\n        min([xExtent, x1Extent, x2Extent].filter((d) => d != null).map((d) => d[1]))\n    );\n\n    const croppedX1 = $derived(\n        x1x2Differ\n            ? data.filter((d) => {\n                  const x1val = resolveChannel(x1 != null ? 'x1' : 'x', d, options);\n                  return x1val >= maxMin && x1val <= minMax;\n              })\n            : data\n    );\n\n    const croppedX2 = $derived(\n        x1x2Differ\n            ? data.filter((d) => {\n                  const x2val = resolveChannel(x2 != null ? 'x2' : 'x', d, options);\n                  return x2val >= maxMin && x2val <= minMax;\n              })\n            : data\n    );\n\n    const id = randomId();\n</script>\n\n<g class=\"positive difference {className || ''}\">\n    <!-- pos clips goes from bottom of plot area to the line 2 -->\n    <clipPath id=\"pos-clip-{id}\">\n        <Area\n            data={croppedX2}\n            {...options}\n            fill={options.positiveFill || 'red'}\n            x1={coalesce(x2, x)}\n            y1={coalesce(y2, y)}\n            y2={{ scale: null, value: plot.options.marginTop + plot.facetHeight }} />\n    </clipPath>\n    <!-- pos area goes from top to line 1 -->\n    <Area\n        clipPath=\"url(#pos-clip-{id})\"\n        data={croppedX1}\n        {...options}\n        fill={options.positiveFill || 'pink'}\n        fillOpacity={coalesce(options.positiveFillOpacity, options.fillOpacity, 1)}\n        x1={coalesce(x1, x2, x)}\n        y1={{ scale: null, value: 0 }}\n        y2={coalesce(y1, x1x2Differ ? coalesce(y2, y) : 0)} />\n</g>\n<g class=\"negative difference {className || ''}\">\n    <!-- neg clips goes from bottom of plot area to the line 1 -->\n    <clipPath id=\"neg-clip-{id}\">\n        <Area\n            data={croppedX1}\n            {...options}\n            fill={options.negativeFill || 'blue'}\n            x1={coalesce(x1, x2, x)}\n            y1={coalesce(y1, x1x2Differ ? coalesce(y2, y) : 0)}\n            y2={{ scale: null, value: plot.options.marginTop + plot.facetHeight }} />\n    </clipPath>\n    <!-- neg area goes from top to line 2 -->\n    <Area\n        clipPath=\"url(#neg-clip-{id})\"\n        data={croppedX2}\n        {...options}\n        fill={options.negativeFill || 'cyan'}\n        fillOpacity={coalesce(options.negativeFillOpacity, options.fillOpacity, 1)}\n        x1={coalesce(x2, x)}\n        y1={{ scale: null, value: 0 }}\n        y2={coalesce(y2, y)} />\n</g>\n{#if stroke != null}\n    <!-- set stroke to false to hide the line -->\n    <Line\n        data={croppedX2}\n        {...options}\n        stroke={stroke === true ? 'currentColor' : stroke}\n        x={coalesce(x2, x)}\n        y={coalesce(y2, y)} />\n{/if}\n", "<script lang=\"ts\">\n    import type {\n        PlotState,\n        Mark,\n        BaseMarkProps,\n        ScaledDataRecord\n    } from '../../types/index.js';\n    import { resolveProp } from '../../helpers/resolve.js';\n    import { maybeSymbol } from '../../helpers/symbols.js';\n    import { symbol as d3Symbol } from 'd3-shape';\n    import type { Attachment } from 'svelte/attachments';\n    import CanvasLayer from './CanvasLayer.svelte';\n    import { devicePixelRatio } from 'svelte/reactivity/window';\n    import { resolveColor } from './canvas.js';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    const plot = usePlot();\n\n    let {\n        mark,\n        data\n    }: {\n        mark: Mark<BaseMarkProps>;\n        plot: PlotState;\n        data: ScaledDataRecord[];\n    } = $props();\n\n    function drawSymbolPath(symbolType: string, size: number, context) {\n        // maybeSymbol(symbolType).draw(context, size);\n        return d3Symbol(maybeSymbol(symbolType), size).context(context)();\n    }\n\n    let _markOptions = $state(mark.options);\n\n    const renderDots: Attachment = (canvas: HTMLCanvasElement) => {\n        const context = canvas.getContext('2d');\n\n        $effect(() => {\n            if (context) {\n                context.resetTransform();\n                context.scale(devicePixelRatio.current ?? 1, devicePixelRatio.current ?? 1);\n\n                for (const datum of data) {\n                    if (datum.valid) {\n                        let { fill, stroke } = datum;\n\n                        fill = resolveColor(fill, canvas);\n                        stroke = resolveColor(stroke, canvas);\n\n                        if (stroke && stroke !== 'none') {\n                            const strokeWidth = resolveProp(\n                                _markOptions.strokeWidth,\n                                datum.datum,\n                                1.6\n                            );\n                            context.lineWidth = strokeWidth;\n                        }\n\n                        context.fillStyle = fill ? fill : 'none';\n                        context.strokeStyle = stroke ? stroke : 'none';\n                        context.translate(datum.x, datum.y);\n\n                        const size = datum.r * datum.r * Math.PI;\n\n                        context.beginPath();\n                        drawSymbolPath(datum.symbol, size, context);\n                        context.closePath();\n\n                        const { opacity = 1, fillOpacity = 1, strokeOpacity = 1 } = datum;\n\n                        if (opacity != null) context.globalAlpha = opacity ?? 1;\n                        if (fillOpacity != null) context.globalAlpha = (opacity ?? 1) * fillOpacity;\n                        if (fill && fill !== 'none') context.fill();\n                        if (strokeOpacity != null)\n                            context.globalAlpha = (opacity ?? 1) * strokeOpacity;\n                        if (stroke && stroke !== 'none') context.stroke();\n                        context.translate(-datum.x, -datum.y);\n                    }\n                }\n            }\n\n            return () => {\n                context?.clearRect(\n                    0,\n                    0,\n                    plot.width * (devicePixelRatio.current ?? 1),\n                    plot.height * (devicePixelRatio.current ?? 1)\n                );\n            };\n        });\n    };\n</script>\n\n<CanvasLayer {@attach renderDots} />\n", "<!-- @component\n    Creates dots or symbols at specified positions with customizable size and appearance\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface DotMarkProps extends BaseMarkProps<Datum>, LinkableMarkProps<Datum> {\n        data: Datum[];\n        x: ChannelAccessor<Datum>;\n        y: ChannelAccessor<Datum>;\n        r?: ChannelAccessor<Datum>;\n        symbol?: ChannelAccessor<Datum> | Snippet<[number, string]>;\n        canvas?: boolean;\n        dotClass?: ConstantAccessor<string, Datum>;\n    }\n\n    import { type Snippet } from 'svelte';\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        ConstantAccessor,\n        ChannelAccessor,\n        LinkableMarkProps\n    } from '../types/index.js';\n    import { resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import { maybeSymbol } from '../helpers/symbols.js';\n    import { symbol as d3Symbol } from 'd3-shape';\n    import { sort } from '../index.js';\n    import Mark from '../Mark.svelte';\n    import DotCanvas from './helpers/DotCanvas.svelte';\n    import { isValid } from '../helpers/index.js';\n    import { recordizeXY } from '../transforms/recordize.js';\n    import { addEventHandlers } from './helpers/events.js';\n    import Anchor from './helpers/Anchor.svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { isOrdinalScale } from '../helpers/scales.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const DEFAULTS = {\n        ...getPlotDefaults().dot\n    };\n\n    let markProps: DotMarkProps = $props();\n\n    const {\n        data = [{} as Datum],\n        canvas = false,\n        class: className = '',\n        dotClass = null,\n        ...options\n    }: DotMarkProps = $derived({ ...DEFAULTS, ...markProps });\n\n    const plot = usePlot();\n\n    function getSymbolPath(symbolType, size) {\n        return d3Symbol(maybeSymbol(symbolType), size)();\n    }\n\n    const args = $derived(\n        // todo: move sorting to Mark\n        sort(\n            recordizeXY({\n                data,\n                // sort by descending radius by default\n                ...(options.r &&\n                !isOrdinalScale(plot.scales.x.type) &&\n                !isOrdinalScale(plot.scales.y.type)\n                    ? { sort: { channel: '-r' } }\n                    : {}),\n                ...options,\n                ...(options.fill === true ? { fill: 'currentColor' } : {})\n            })\n        )\n    );\n</script>\n\n<Mark\n    type=\"dot\"\n    required={['x', 'y']}\n    channels={[\n        'x',\n        'y',\n        'r',\n        'symbol',\n        'fill',\n        'opacity',\n        'stroke',\n        'fillOpacity',\n        'strokeOpacity'\n    ]}\n    defaults={{ x: 0, y: 0, r: 3, symbol: 'circle' }}\n    {...args}>\n    {#snippet children({ mark, usedScales, scaledData })}\n        <g class=\"dot {className || ''}\">\n            {#if canvas}\n                <DotCanvas data={scaledData} {mark} />\n            {:else}\n                {#each scaledData as d, i (i)}\n                    {#if d.valid && isValid(d.r)}\n                        {@const [style, styleClass] = resolveStyles(\n                            plot,\n                            d,\n                            { strokeWidth: 1.6, ...args },\n                            'stroke',\n                            usedScales\n                        )}\n                        <Anchor {options} datum={d.datum}>\n                            <path\n                                transform=\"translate({d.x}, {d.y})\"\n                                d={getSymbolPath(d.symbol, d.r ** 2 * Math.PI)}\n                                class={[\n                                    dotClass ? resolveProp(dotClass, d.datum, null) : null,\n                                    styleClass\n                                ]}\n                                {style}\n                                {@attach addEventHandlers({\n                                    plot,\n                                    options: args,\n                                    datum: d?.datum\n                                })} />\n                        </Anchor>\n                    {/if}\n                {/each}\n            {/if}\n        </g>\n    {/snippet}\n</Mark>\n", "<!-- @component\n    Creates a horizontal dot plot with x values along a single y position\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface DotXMarkProps extends Omit<ComponentProps<typeof Dot>, 'y' | 'x' | 'data'> {\n        data: Datum[];\n        x?: ChannelAccessor<Datum>;\n    }\n    import Dot from './Dot.svelte';\n    import { recordizeX } from '../index.js';\n    import type { ChannelAccessor, DataRow } from '../types/index.js';\n    import type { ComponentProps } from 'svelte';\n\n    let { data = [{} as Datum], ...options }: DotXMarkProps = $props();\n\n    const args = $derived(recordizeX({ data, ...options, y: 1 }, { withIndex: false }));\n</script>\n\n<Dot {...args} />\n", "<!-- @component\n    Creates a horizontal dot plot with x values along a single y position\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface DotYMarkProps extends Omit<ComponentProps<typeof Dot>, 'x' | 'data'> {\n        data: Datum[];\n    }\n    import Dot from './Dot.svelte';\n    import { recordizeY } from '../index.js';\n    import type { DataRow } from '../types/index.js';\n    import type { ComponentProps } from 'svelte';\n\n    let { data = [{} as Datum], ...options }: DotYMarkProps = $props();\n\n    const args = $derived(recordizeY({ data, ...options, x: 0 }, { withIndex: false }));\n</script>\n\n<Dot {...args} />\n", "import { min, max, mode, sum, mean, median, variance, deviation, quantile } from 'd3-array';\nimport { resolveChannel } from './resolve.js';\nimport { POSITION_CHANNELS } from './index.js';\nimport { ORIGINAL_NAME_KEYS } from '../constants.js';\nconst niceReduceNames = {\n    count: 'Frequency',\n    deviation: 'Standard Deviation',\n    mean: 'Average'\n};\nconst StaticReducer = {\n    count: (d) => Array.from(d).length,\n    min,\n    max,\n    mode,\n    sum,\n    mean,\n    median,\n    identity: (d) => d,\n    variance,\n    deviation,\n    first: (d) => d[0],\n    last: (d) => d.at(-1),\n    difference: (d) => d.at(-1) - d[0],\n    ratio: (d) => d.at(-1) / d[0]\n    // TODO: proportion\n    // TODO: proportion-facet\n    // TODO: min-index\n    // TODO: max-index\n};\n// use proxy to allow for percentile reducers\nexport const Reducer = new Proxy(StaticReducer, {\n    get(target, prop) {\n        if (String(prop).charAt(0) === 'p' && String(prop).length === 3) {\n            const p = +String(prop).slice(1) / 100;\n            return percentile(p);\n        }\n        return Reflect.get(target, prop);\n    },\n    has(target, prop) {\n        if (String(prop).charAt(0) === 'p' && String(prop).length === 3) {\n            return true;\n        }\n        return Reflect.has(target, prop);\n    }\n});\nfunction percentile(p) {\n    return (I, f) => quantile(I, p, f);\n}\nfunction isReducerName(r) {\n    return typeof r === 'string' && r in Reducer;\n}\nexport function mayberReducer(r) {\n    if (typeof r === 'function')\n        return r;\n    if (typeof r === 'string' && isReducerName(r)) {\n        return Reducer[r];\n    }\n    throw new Error('unknown reducer ' + r);\n}\nexport function reduceOutputs(newDatum, data, options, outputs, channels, newChannels) {\n    for (const k of outputs) {\n        if (options[k] != null) {\n            const values = channels[k] == null ? data : data.map((d) => resolveChannel(k, d, channels));\n            const reducer = mayberReducer(options[k]);\n            newDatum[`__${k}`] = reducer(values);\n            newChannels[k] = `__${k}`;\n            if (typeof options[k] === 'string') {\n                const reducerName = niceReduceNames[options[k]] ??\n                    `${String(options[k]).charAt(0).toUpperCase()}${String(options[k]).slice(1)}`;\n                // we have a named reducer like 'count', so let's try to preserve the\n                // source channel mapping for axis labels\n                if (POSITION_CHANNELS.has(k)) {\n                    if (typeof channels[k] === 'string') {\n                        // the named reducer is applied to a column name, so we can use a combination\n                        // of both as axis labels, e.g. MEAN(weight)\n                        newChannels[ORIGINAL_NAME_KEYS[k]] = `${reducerName} ( ${channels[k]} )`;\n                    }\n                    else {\n                        newChannels[ORIGINAL_NAME_KEYS[k]] = reducerName;\n                    }\n                }\n            }\n        }\n    }\n}\n", "import { resolveChannel } from '../helpers/resolve.js';\nimport { maybeInterval } from '../helpers/autoTicks.js';\nimport { bin as d3Bin, extent, thresholdFreedmanDiaconis, thresholdScott, thresholdSturges } from 'd3-array';\nimport { reduceOutputs } from '../helpers/reduce.js';\nimport { groupFacetsAndZ } from '../helpers/group.js';\nimport { isDate } from '../helpers/typeChecks.js';\nimport { ORIGINAL_NAME_KEYS } from '../constants';\nconst CHANNELS = {\n    x: Symbol('x'),\n    x1: Symbol('x1'),\n    x2: Symbol('x2'),\n    y: Symbol('y'),\n    y1: Symbol('y1'),\n    y2: Symbol('y2')\n};\nconst ThresholdGenerators = {\n    auto: thresholdScott,\n    scott: thresholdScott,\n    sturges: thresholdSturges,\n    'freedman-diaconis': thresholdFreedmanDiaconis\n};\nfunction binBy(byDim, { data, ...channels }, options) {\n    const { domain, thresholds = 'auto', interval } = options;\n    const bin = d3Bin();\n    if (domain)\n        bin.domain(domain);\n    if (interval) {\n        const [lo, hi] = extent(data.map((d) => resolveChannel(byDim, d, channels)));\n        bin.thresholds(maybeInterval(interval).range(lo, hi));\n    }\n    else if (thresholds)\n        bin.thresholds(\n        // use a generator\n        typeof thresholds === 'string' && ThresholdGenerators[thresholds] !== undefined\n            ? ThresholdGenerators[thresholds]\n            : thresholds);\n    // channels.x is the input\n    bin.value((d) => resolveChannel(byDim, d, channels));\n    // y, y1, y2, fill, stroke, etc are outputs\n    const outputs = [\n        ...(byDim === 'x' ? ['y', 'y1', 'y2'] : ['x', 'x1', 'x2']),\n        'fill',\n        'stroke',\n        'r',\n        'opacity',\n        'fillOpacity',\n        'strokeOpacity'\n    ];\n    let newChannels = {\n        [byDim === 'x' ? 'insetLeft' : 'insetTop']: 0.5,\n        [byDim === 'x' ? 'insetRight' : 'insetBottom']: 0.5,\n        ...channels,\n        [`${byDim}`]: CHANNELS[byDim], // `__${byDim}`,\n        [`${byDim}1`]: CHANNELS[`${byDim}1`],\n        [`${byDim}2`]: CHANNELS[`${byDim}2`],\n        [ORIGINAL_NAME_KEYS[byDim]]: typeof channels[byDim] === 'string' ? channels[byDim] : null\n    };\n    const newData = [];\n    let passedGroups = [];\n    const bins = bin(data);\n    (options.cumulative < 0 ? bins.toReversed() : bins).forEach((group) => {\n        const itemBinProps = {\n            [CHANNELS[`${byDim}1`]]: group.x0,\n            [CHANNELS[`${byDim}2`]]: group.x1,\n            [CHANNELS[`${byDim}`]]: isDate(group.x0)\n                ? new Date(Math.round((group.x0.getTime() + group.x1.getTime()) * 0.5))\n                : (group.x0 + group.x1) * 0.5\n        };\n        if (options.cumulative)\n            passedGroups = [...passedGroups, ...group];\n        const newGroupChannels = groupFacetsAndZ(options.cumulative ? passedGroups : group, channels, (items, itemGroupProps) => {\n            const item = { ...itemBinProps, ...itemGroupProps };\n            reduceOutputs(item, items, options, outputs, channels, newChannels);\n            newData.push(item);\n        });\n        newChannels = { ...newChannels, ...newGroupChannels };\n    });\n    return { data: options.reverse ? newData.toReversed() : newData, ...newChannels };\n}\n/**\n * Bins on x. Also groups on y and the first channel of z, fill, or stroke, if any.\n *\n * @param param0\n * @param options\n */\nexport function binX({ data, ...channels }, options = { thresholds: 'auto', cumulative: false }) {\n    return binBy('x', { data, ...channels }, options);\n}\n/**\n * Bins on y. Also groups on y and the first channel of z, fill, or stroke, if any.\n *\n * @param param0\n * @param options\n */\nexport function binY({ data, ...channels }, options = { thresholds: 'auto', cumulative: false }) {\n    return binBy('y', { data, ...channels }, options);\n}\n/**\n * for binning in x and y dimension simultaneously\n */\nexport function bin({ data, ...channels }, options = { thresholds: 'auto', cumulative: false }) {\n    const { domain, thresholds = 'auto', interval, cumulative = false } = options;\n    const binX = d3Bin();\n    const binY = d3Bin();\n    if (domain) {\n        // this really doesn't make sense...\n        binX.domain(domain);\n        binY.domain(domain);\n    }\n    // channels.x is the input\n    binX.value((d) => resolveChannel('x', d, channels));\n    binY.value((d) => resolveChannel('y', d, channels));\n    let yThresholds = [];\n    if (interval) {\n        const [xlo, xhi] = extent(data.map((d) => resolveChannel('x', d, channels)));\n        const [ylo, yhi] = extent(data.map((d) => resolveChannel('y', d, channels)));\n        binX.thresholds(maybeInterval(interval).range(xlo, xhi));\n        binY.thresholds((yThresholds = maybeInterval(interval).range(ylo, yhi)));\n    }\n    else if (thresholds) {\n        // when binning in x and y, we need to ensure we are using consistent thresholds\n        const t = typeof thresholds === 'string' && ThresholdGenerators[thresholds] !== undefined\n            ? ThresholdGenerators[thresholds]\n            : thresholds;\n        binX.thresholds(t);\n        binY.thresholds(t);\n        yThresholds = binY(data)\n            .slice(1)\n            .map((g) => g.x0);\n        binY.thresholds(yThresholds);\n    }\n    // y, y1, y2, fill, stroke, etc are outputs\n    const outputs = ['fill', 'stroke', 'r', 'opacity', 'fillOpacity', 'strokeOpacity'];\n    let newChannels = {\n        inset: 0.5,\n        ...channels,\n        x: CHANNELS.x,\n        x1: CHANNELS.x1,\n        x2: CHANNELS.x2,\n        y: CHANNELS.y,\n        y1: CHANNELS.y1,\n        y2: CHANNELS.y2,\n        [ORIGINAL_NAME_KEYS.x]: typeof channels.x === 'string' ? channels.x : null,\n        [ORIGINAL_NAME_KEYS.y]: typeof channels.y === 'string' ? channels.y : null\n    };\n    const groupBy = channels.z ? 'z' : channels.fill ? 'fill' : channels.stroke ? 'stroke' : true;\n    const groupByPropName = groupBy !== true && typeof channels[groupBy] === 'string' ? channels[groupBy] : '__group';\n    if (groupBy !== true)\n        newChannels[groupBy] = groupByPropName;\n    // consistent intervals\n    const newData = [];\n    binX(data).forEach((groupX) => {\n        const newRecordBaseX = {\n            [CHANNELS.x1]: groupX.x0,\n            [CHANNELS.x2]: groupX.x1,\n            [CHANNELS.x]: isDate(groupX.x0)\n                ? new Date(Math.round((groupX.x0.getTime() + groupX.x1.getTime()) * 0.5))\n                : (groupX.x0 + groupX.x1) * 0.5\n        };\n        const [ylo, yhi] = extent(groupX.map((d) => resolveChannel('y', d, channels)));\n        const tExtentLo = yThresholds.filter((d) => d < ylo).at(-1);\n        const tExtentHi = yThresholds.filter((d) => d > yhi).at(0);\n        binY(groupX).forEach((groupY, i) => {\n            if (groupY.length === 0)\n                return;\n            // The first bin.x0 is always equal to the minimum domain value,\n            // and the last bin.x1 is always equal to the maximum domain value,\n            // therefore we need to align with the thresholds\n            const y1 = groupY.x0 === ylo ? tExtentLo : groupY.x0;\n            const y2 = groupY.x1 === yhi ? tExtentHi : groupY.x1;\n            const newRecordBaseY = {\n                ...newRecordBaseX,\n                [CHANNELS.y1]: y1,\n                [CHANNELS.y2]: y2,\n                [CHANNELS.y]: isDate(y1)\n                    ? new Date(Math.round((y1.getTime() + y2.getTime()) * 0.5))\n                    : (y1 + y2) * 0.5\n            };\n            const newGroupChannels = groupFacetsAndZ(groupY, channels, (items, itemGroupProps) => {\n                const newRecord = {\n                    ...newRecordBaseY,\n                    ...itemGroupProps\n                };\n                reduceOutputs(newRecord, items, options, outputs, channels, newChannels);\n                newData.push(newRecord);\n            });\n            newChannels = { ...newChannels, ...newGroupChannels };\n        });\n    });\n    return { data: options.reverse ? newData.toReversed() : newData, ...newChannels };\n}\n", "import { resolveChannel } from '../helpers/resolve.js';\nexport function bollingerX(args, options = {}) {\n    return bollingerDim('x', args, options);\n}\nexport function bollingerY(args, options = {}) {\n    return bollingerDim('y', args, options);\n}\nexport function bollingerDim(dim, { data, ...channels }, options = {}) {\n    const { n = 20, k = 2 } = options;\n    const bands = bollinger(data.map((datum) => resolveChannel(dim, datum, channels)), n, [-k, 0, k]);\n    const otherDim = dim === 'x' ? 'y' : 'x';\n    return {\n        data: data.map((datum, i) => ({\n            __x: resolveChannel(otherDim, datum, channels),\n            __lo: bands[0][i],\n            __avg: bands[1][i],\n            __hi: bands[2][i]\n        })),\n        ...channels,\n        [otherDim]: '__x',\n        [dim]: '__avg',\n        [`${otherDim}1`]: '__x',\n        [`${dim}1`]: '__lo',\n        [`${dim}2`]: '__hi'\n    };\n}\n/**\n * taken from https://observablehq.com/@d3/bollinger-bands/\n */\nfunction bollinger(values, N, K) {\n    let i = 0;\n    let sum = 0;\n    let sumSquared = 0;\n    // initialize bands\n    const bands = K.map(() => new Float64Array(values.length).fill(NaN));\n    // compute sum and square of sums\n    for (let n = Math.min(N - 1, values.length); i < n; ++i) {\n        const value = values[i];\n        ((sum += value), (sumSquared += value ** 2));\n    }\n    for (let n = values.length, m = bands.length; i < n; ++i) {\n        const value = values[i];\n        ((sum += value), (sumSquared += value ** 2));\n        const mean = sum / N;\n        const deviation = Math.sqrt((sumSquared - sum ** 2 / N) / (N - 1));\n        for (let j = 0; j < K.length; ++j) {\n            bands[j][i] = mean + deviation * K[j];\n        }\n        const value0 = values[i - N + 1];\n        ((sum -= value0), (sumSquared -= value0 ** 2));\n    }\n    return bands;\n}\n", "import { resolveProp } from '../helpers/resolve.js';\nimport { geoCentroid as d3GeoCentroid } from 'd3-geo';\nconst CENTROID = Symbol('centroid');\nexport function geoCentroid({ data, ...options }) {\n    const transformedData = data.map((d) => ({\n        ...d,\n        [CENTROID]: d3GeoCentroid(resolveProp(options.geometry, d, d))\n    }));\n    const newOptions = { ...options };\n    return {\n        data: transformedData,\n        ...newOptions,\n        x: (d) => d[CENTROID][0],\n        y: (d) => d[CENTROID][1]\n    };\n}\n", "/**\n * implementation based on science.js by Jason Davies\n */\n/**\n * Observable Density mark is relying on d3.densityContours which implements 2D KDE\n * with an box blur from d3.blur2, which represents the uniform kernel.\n *\n * This implementation provides a more general approach to 2D KDE with different kernels.\n *\n */\nimport { extent, quantileSorted, variance } from 'd3-array';\nimport { isValid } from '../helpers';\nimport { maybeInterval } from '../helpers/autoTicks';\nimport { groupFacetsAndZ } from '../helpers/group';\nimport isDataRecord from '../helpers/isDataRecord';\nimport { resolveChannel } from '../helpers/resolve';\nimport { ORIGINAL_NAME_KEYS } from '../constants.js';\n// see https://github.com/jasondavies/science.js/blob/master/src/stats/kernel.js\nconst KERNEL = {\n    uniform(u) {\n        if (u <= 1 && u >= -1)\n            return 0.5;\n        return 0;\n    },\n    triangular(u) {\n        if (u <= 1 && u >= -1)\n            return 1 - Math.abs(u);\n        return 0;\n    },\n    epanechnikov(u) {\n        if (u <= 1 && u >= -1)\n            return 0.75 * (1 - u * u);\n        return 0;\n    },\n    quartic(u) {\n        if (u <= 1 && u >= -1) {\n            const tmp = 1 - u * u;\n            return (15 / 16) * tmp * tmp;\n        }\n        return 0;\n    },\n    triweight(u) {\n        if (u <= 1 && u >= -1) {\n            const tmp = 1 - u * u;\n            return (35 / 32) * tmp * tmp * tmp;\n        }\n        return 0;\n    },\n    gaussian(u) {\n        return (1 / Math.sqrt(2 * Math.PI)) * Math.exp(-0.5 * u * u);\n    },\n    cosine(u) {\n        if (u <= 1 && u >= -1)\n            return (Math.PI / 4) * Math.cos((Math.PI / 2) * u);\n        return 0;\n    }\n};\n/**\n * One-dimensional kernel density estimation\n */\nexport function densityX(args, options) {\n    return density1d('x', args, options);\n}\n/**\n * One-dimensional kernel density estimation\n */\nexport function densityY(args, options) {\n    return density1d('y', args, options);\n}\nconst CHANNELS = {\n    x: Symbol('x'),\n    y: Symbol('y')\n};\nconst BANDWIDTH_FACTOR = {\n    gaussian: 0.9,\n    epanechnikov: 2.34,\n    uniform: 1.06,\n    triangular: 1.34,\n    quartic: 2.78,\n    triweight: 3.15,\n    cosine: 1.06\n};\nfunction bandwidthSilverman(x) {\n    const iqr = quantileSorted(x, 0.75) - quantileSorted(x, 0.25);\n    const xvar = variance(x);\n    const hi = Math.sqrt(xvar);\n    let lo;\n    if (!(lo = Math.min(hi, iqr / 1.34))) {\n        (lo = hi) || (lo = Math.abs(x[1])) || (lo = 1);\n    }\n    return lo * Math.pow(x.length, -0.2);\n}\nconst VALUE = Symbol('value');\nconst WEIGHT = Symbol('weight');\nfunction roundToTerminating(x, sig = 2) {\n    if (!isFinite(x) || x === 0)\n        return x;\n    const exp = Math.floor(Math.log10(Math.abs(x)));\n    const decimals = Math.max(0, sig - 1 - exp);\n    const factor = 10 ** decimals; // denominator 10^decimals → terminating decimal\n    return Math.round(x * factor) / factor;\n}\nfunction density1d(independent, { data, weight, ...channels }, options = {}) {\n    const densityChannel = independent === 'x' ? 'y' : 'x';\n    const { kernel, bandwidth, interval, trim, channel, cumulative } = {\n        kernel: 'epanechnikov',\n        bandwidth: bandwidthSilverman,\n        interval: undefined,\n        trim: false,\n        cumulative: false,\n        channel: densityChannel,\n        ...options\n    };\n    // one-dimensional kernel density estimation\n    const k = maybeKernel(kernel || KERNEL.epanechnikov);\n    const outData = [];\n    const isRawDataArray = Array.isArray(data) && !isDataRecord(data[0]) && channels[independent] == null;\n    // compute bandwidth before grouping\n    const resolvedData = (isRawDataArray\n        ? data.map((d) => ({\n            [VALUE]: d,\n            [WEIGHT]: typeof weight === 'function' ? weight(d) : 1\n        }))\n        : data.map((d) => ({\n            [VALUE]: resolveChannel(independent, d, channels),\n            [WEIGHT]: typeof weight === 'function' ? weight(d) : 1,\n            ...d\n        }))).filter((d) => isValid(d[VALUE]) && isValid(d[WEIGHT]) && d[WEIGHT] >= 0);\n    const values = resolvedData.map((d) => d[VALUE]);\n    // compute bandwidth from full data\n    const bw = typeof bandwidth === 'function'\n        ? (BANDWIDTH_FACTOR[kernel] ?? 1) * bandwidth(values.toSorted((a, b) => a - b))\n        : bandwidth;\n    const I = maybeInterval(interval ?? roundToTerminating(bw / 5));\n    let [min, max] = extent(values);\n    if (!trim) {\n        const r = max - min;\n        min = I.floor(min - r * 0.2);\n        max = I.floor(max + r * 0.2);\n    }\n    const atValues = I.range(I.floor(min), I.offset(max)).map((d) => +d.toFixed(5));\n    // let minX = Infinity;\n    // let maxX = -Infinity;\n    const res = groupFacetsAndZ(resolvedData, channels, (items, groupProps) => {\n        const values = items.map((d) => d[VALUE]);\n        const weights = items.map((d) => d[WEIGHT]);\n        let kdeValues = kde1d(values, weights, atValues, k, bw, cumulative)\n            .filter(([x, density]) => x != null && !isNaN(density))\n            .sort((a, b) => a[0] - b[0]);\n        if (!trim) {\n            // trim zero values at begin and end except first and last\n            const firstNonZero = kdeValues.findIndex(([x, v]) => v > 0);\n            // if (firstNonZero > 0) minX = Math.min(minX, kdeValues[firstNonZero - 1][0]);\n            const lastNonZero = kdeValues.length - 1 - [...kdeValues].reverse().findIndex(([x, v]) => v > 0);\n            // if (lastNonZero > -1 && lastNonZero < kdeValues.length - 1)\n            //     maxX = Math.max(maxX, kdeValues[lastNonZero + 1][0]);\n            kdeValues = kdeValues.slice(firstNonZero < 1 ? 0 : firstNonZero - 1, lastNonZero < 0 ? kdeValues.length : lastNonZero + 1);\n        }\n        outData.push(...kdeValues.map(([x, density]) => ({\n            ...groupProps,\n            [CHANNELS.x]: independent === 'x' ? x : density,\n            [CHANNELS.y]: independent === 'y' ? x : density\n        })));\n    });\n    return {\n        [independent]: CHANNELS[independent],\n        [channel]: CHANNELS[densityChannel],\n        ...res,\n        [ORIGINAL_NAME_KEYS[densityChannel]]: cumulative === false ? 'Density' : 'CDF',\n        [ORIGINAL_NAME_KEYS[independent]]: typeof channels[independent] === 'string' ? channels[independent] : undefined,\n        sort: [{ channel: CHANNELS[independent], order: 'ascending' }],\n        data: outData\n    };\n}\nfunction kde1d(values, weights, atValues, kernel, bw, cumulative) {\n    const n = values.length;\n    const weightSum = weights.reduce((a, b) => a + b, 0);\n    const densities = atValues.map((x) => {\n        let sum = 0;\n        for (let i = 0; i < n; i++) {\n            const u = (x - values[i]) / bw;\n            sum += weights[i] * kernel(u);\n        }\n        return [x, sum / (weightSum * bw)];\n    });\n    if (!cumulative)\n        return densities;\n    const totalArea = densities.reduce((acc, curr, i) => {\n        if (i === 0)\n            return acc;\n        const dx = densities[i][0] - densities[i - 1][0];\n        return acc + ((densities[i - 1][1] + curr[1]) / 2) * dx;\n    }, 0);\n    if (totalArea === 0)\n        return densities;\n    if (cumulative === -1) {\n        let area = 0;\n        const cdf = new Array(densities.length);\n        for (let i = densities.length - 1; i >= 0; i--) {\n            if (i < densities.length - 1) {\n                const dx = densities[i + 1][0] - densities[i][0];\n                area += ((densities[i + 1][1] + densities[i][1]) / 2) * dx;\n            }\n            cdf[i] = [densities[i][0], area / totalArea];\n        }\n        return cdf;\n    }\n    let area = 0;\n    const cdf = new Array(densities.length);\n    for (let i = 0; i < densities.length; i++) {\n        if (i > 0) {\n            const dx = densities[i][0] - densities[i - 1][0];\n            area += ((densities[i - 1][1] + densities[i][1]) / 2) * dx;\n        }\n        cdf[i] = [densities[i][0], area / totalArea];\n    }\n    return cdf;\n}\nfunction maybeKernel(kernel) {\n    if (typeof kernel === 'function')\n        return kernel;\n    return KERNEL[kernel] || KERNEL.epanechnikov;\n}\n// See <http://en.wikipedia.org/wiki/Kernel_(statistics)>.\n// science.stats.kernel = {\n//   uniform: function(u) {\n//     if (u <= 1 && u >= -1) return .5;\n//     return 0;\n//   },\n//   triangular: function(u) {\n//     if (u <= 1 && u >= -1) return 1 - Math.abs(u);\n//     return 0;\n//   },\n//   epanechnikov: function(u) {\n//     if (u <= 1 && u >= -1) return .75 * (1 - u * u);\n//     return 0;\n//   },\n//   quartic: function(u) {\n//     if (u <= 1 && u >= -1) {\n//       var tmp = 1 - u * u;\n//       return (15 / 16) * tmp * tmp;\n//     }\n//     return 0;\n//   },\n//   triweight: function(u) {\n//     if (u <= 1 && u >= -1) {\n//       var tmp = 1 - u * u;\n//       return (35 / 32) * tmp * tmp * tmp;\n//     }\n//     return 0;\n//   },\n//   gaussian: function(u) {\n//     return 1 / Math.sqrt(2 * Math.PI) * Math.exp(-.5 * u * u);\n//   },\n//   cosine: function(u) {\n//     if (u <= 1 && u >= -1) return Math.PI / 4 * Math.cos(Math.PI / 2 * u);\n//     return 0;\n//   }\n// };\n", "import { identity } from '../helpers/index.js';\nimport { count, rank } from 'd3-array';\nimport { groupFacetsAndZ } from '../helpers/group.js';\nimport { resolveChannel } from '../helpers/resolve.js';\nimport { sort } from './sort';\nexport function map(args, options) {\n    const { data, ...channels } = sort(args);\n    const newChannels = {};\n    const newData = [];\n    groupFacetsAndZ(data, channels, (groupedData) => {\n        for (const [channel, map] of Object.entries(options)) {\n            const mapper = maybeMap(map);\n            const values = groupedData.map((d) => resolveChannel(channel, d, channels));\n            const indices = groupedData.map((d, i) => i);\n            const mappedValues = new Array(values.length);\n            mapper.mapIndex(indices, values, mappedValues);\n            newChannels[channel] = `__${channel}`;\n            for (let i = 0; i < values.length; ++i) {\n                const datum = { ...groupedData[i], [`__${channel}`]: mappedValues[i] };\n                newData.push(datum);\n            }\n        }\n    });\n    return { data: newData, ...channels, ...newChannels };\n}\nexport function mapX(args, mapper) {\n    let { x, x1, x2 } = args;\n    if (x === undefined && x1 === undefined && x2 === undefined)\n        args = { ...args, x: identity };\n    const outputs = {};\n    if (x != null)\n        outputs.x = mapper;\n    if (x1 != null)\n        outputs.x1 = mapper;\n    if (x2 != null)\n        outputs.x2 = mapper;\n    return map(args, outputs);\n}\nexport function mapY(args, mapper) {\n    let { y, y1, y2 } = args;\n    if (y === undefined && y1 === undefined && y2 === undefined)\n        args = { ...args, y: identity };\n    const outputs = {};\n    if (y != null)\n        outputs.y = mapper;\n    if (y1 != null)\n        outputs.y1 = mapper;\n    if (y2 != null)\n        outputs.y2 = mapper;\n    return map(args, outputs);\n}\nfunction maybeMap(map) {\n    if (map == null)\n        throw new Error('missing map');\n    if (typeof map === 'object' && typeof map.mapIndex === 'function')\n        return map;\n    if (typeof map === 'function')\n        return mapFunction(map);\n    switch (`${map}`.toLowerCase()) {\n        case 'cumsum':\n            return mapCumsum;\n        case 'rank':\n            return mapFunction((I, V) => rank(I, (i) => V[i]));\n        case 'quantile':\n            return mapFunction((I, V) => rankQuantile(I, (i) => V[i]));\n    }\n    throw new Error(`invalid map: ${map}`);\n}\nfunction rankQuantile(I, f) {\n    const n = count(I, f) - 1;\n    return rank(I, f).map((r) => r / n);\n}\nfunction mapFunction(f) {\n    return {\n        mapIndex(I, S, T) {\n            const M = f(I, S);\n            if (M.length !== I.length)\n                throw new Error('map function returned a mismatched length');\n            for (let i = 0, n = I.length; i < n; ++i)\n                T[I[i]] = M[i];\n        }\n    };\n}\nconst mapCumsum = {\n    mapIndex(I, S, T) {\n        let sum = 0;\n        for (const i of I)\n            T[i] = sum += S[i];\n    }\n};\n", "import { mapX, mapY } from './map.js';\nimport { min, max, mean, median, sum, deviation, extent } from 'd3-array';\nimport { sort } from './sort.js';\nexport function normalizeX(args, basis) {\n    return mapX(args, normalize(basis));\n}\nexport function normalizeY(args, basis) {\n    return mapY(args, normalize(basis));\n}\nfunction normalize(basis) {\n    if (basis === undefined)\n        return normalizeFirst;\n    if (typeof basis === 'function')\n        return normalizeBasis(basis);\n    //   if (/^p\\d{2}$/i.test(basis)) return normalizeAccessor(percentile(basis));\n    switch (`${basis}`.toLowerCase()) {\n        case 'deviation':\n            return normalizeDeviation;\n        case 'first':\n            return normalizeFirst;\n        case 'last':\n            return normalizeLast;\n        case 'max':\n            return normalizeMax;\n        case 'mean':\n            return normalizeMean;\n        case 'median':\n            return normalizeMedian;\n        case 'min':\n            return normalizeMin;\n        case 'sum':\n            return normalizeSum;\n        case 'extent':\n            return normalizeExtent;\n    }\n    throw new Error(`invalid basis: ${basis}`);\n}\nfunction normalizeBasis(basis) {\n    return {\n        mapIndex(I, S, T) {\n            const b = +basis(I, S);\n            for (const i of I) {\n                T[i] = S[i] === null ? NaN : S[i] / b;\n            }\n        }\n    };\n}\nfunction normalizeAccessor(f) {\n    return normalizeBasis((I, S) => f(I, (i) => S[i]));\n}\nconst normalizeExtent = {\n    mapIndex(I, S, T) {\n        const [s1, s2] = extent(I, (i) => S[i]);\n        const d = s2 - s1;\n        for (const i of I) {\n            T[i] = S[i] === null ? NaN : (S[i] - s1) / d;\n        }\n    }\n};\nconst normalizeFirst = normalizeBasis((I, S) => {\n    for (let i = 0; i < I.length; ++i) {\n        const s = S[I[i]];\n        if (s != null && isFinite(s))\n            return s;\n    }\n});\nconst normalizeLast = normalizeBasis((I, S) => {\n    for (let i = I.length - 1; i >= 0; --i) {\n        const s = S[I[i]];\n        if (s != null && isFinite(s))\n            return s;\n    }\n});\nconst normalizeDeviation = {\n    mapIndex(I, S, T) {\n        const m = mean(I, (i) => S[i]);\n        const d = deviation(I, (i) => S[i]);\n        for (const i of I) {\n            T[i] = S[i] === null ? NaN : d ? (S[i] - m) / d : 0;\n        }\n    }\n};\nconst normalizeMax = normalizeAccessor(max);\nconst normalizeMean = normalizeAccessor(mean);\nconst normalizeMedian = normalizeAccessor(median);\nconst normalizeMin = normalizeAccessor(min);\nconst normalizeSum = normalizeAccessor(sum);\n/**\n * Convenience wrapper for normalizeY for parallel coordinates.\n *\n * Channels:\n * - x: the categorical axis (e.g., 'Measurement')\n * - y: the value to normalize (e.g., 'Value')\n * - z: the grouping variable (e.g., 'Id')\n */\nexport function normalizeParallelY(args, basis) {\n    return sort({\n        ...normalizeY({\n            ...args,\n            // use x as the grouping variable for normalization to normalize\n            // each axis independently\n            z: args.x\n        }, basis),\n        // restore original grouping by line\n        z: args.z,\n        // sort by original order\n        sort: args.z\n    });\n}\n/**\n * Convenience wrapper for normalizeY for parallel coordinates.\n *\n * Channels:\n * - x: the categorical axis (e.g., 'Measurement')\n * - y: the value to normalize (e.g., 'Value')\n * - z: the grouping variable (e.g., 'Id')\n */\nexport function normalizeParallelX(args, basis) {\n    return sort({\n        ...normalizeX({\n            ...args,\n            // use x as the grouping variable for normalization to normalize\n            // each axis independently\n            z: args.y\n        }, basis),\n        // restore original grouping by line\n        z: args.z,\n        // sort by original order\n        sort: args.z\n    });\n}\n", "import { groupFacetsAndZ } from '../helpers/group.js';\nimport { isValid, testFilter } from '../helpers/index.js';\nimport { reduceOutputs } from '../helpers/reduce.js';\nimport { resolveChannel } from '../helpers/resolve.js';\nimport { groups as d3Groups } from 'd3-array';\nimport { omit } from '../helpers/index.js';\nimport { maybeInterval } from '../helpers/autoTicks.js';\n/**\n * groups the dataset by x and y channel and optionally reduces the group items\n * to output channels fill, stroke, r, opacity, fillOpacity, or strokeOpacity\n */\nexport function group({ data, ...channels }, options = {}) {\n    if (channels.x == null || channels.y == null)\n        throw new Error('you must provide an x and y channel to group on');\n    // group by x or y\n    const groups = d3Groups(data.filter((d) => testFilter(d, channels)), (d) => resolveChannel('x', d, channels), (d) => resolveChannel('y', d, channels));\n    const newData = [];\n    const xChannel = typeof channels.x === 'string' ? channels.x : '__x';\n    const yChannel = typeof channels.y === 'string' ? channels.y : '__y';\n    let newChannels = omit({ ...channels, x: xChannel, y: yChannel }, 'filter');\n    const outputs = ['fill', 'stroke', 'r', 'opacity', 'fillOpacity', 'strokeOpacity'];\n    groups.forEach(([xGroupKey, xGroups]) => {\n        xGroups.forEach(([yGroupKey, items]) => {\n            const baseRecord = { [xChannel]: xGroupKey, [yChannel]: yGroupKey }; // dim === 'z' ? {} : { [`__${dim}`]: groupKey };\n            // copy properties from first item of each group\n            options.copy?.forEach((prop) => {\n                baseRecord[prop] = items[0][prop];\n            });\n            const newGroupChannels = groupFacetsAndZ(items, channels, (items, itemGroupProps) => {\n                const item = { ...baseRecord, ...itemGroupProps };\n                reduceOutputs(item, items, options, outputs, channels, newChannels);\n                newData.push(item);\n            });\n            newChannels = { ...newChannels, ...newGroupChannels };\n        });\n    });\n    return { data: newData, ...newChannels };\n}\n/**\n * groups the dataset by the x channel and optionally reduces the group items\n * to output channels y, y1, y2, fill, stroke, r, opacity, fillOpacity, or strokeOpacity\n */\nexport function groupX(input, options = {}) {\n    return groupXYZ('x', input, options);\n}\n/**\n * groups the dataset by the y channel and optionally reduces the group items\n * to output channels x, x1, x2, fill, stroke, r, opacity, fillOpacity, or strokeOpacity\n */\nexport function groupY(input, options = {}) {\n    return groupXYZ('y', input, options);\n}\n/**\n * groups the dataset by the z channel and optionally reduces the group items\n * to output channels x, x1, x2, y, y1, y2, fill, stroke, r, opacity, fillOpacity,\n * or strokeOpacity\n */\nexport function groupZ(input, options = {}) {\n    return groupXYZ('z', input, options);\n}\nconst groupDimRaw = Symbol('groupDimRaw');\nfunction groupXYZ(dim, { data, ...channels }, options = {}) {\n    // console.log({ dim, data, channels, options });\n    if ((dim === 'z'\n        ? channels.z || channels.fill || channels.stroke || channels.fx || channels.fy\n        : channels[dim]) == null)\n        throw new Error('you must provide a channel to group on ' + dim);\n    const propName = options[`${dim}PropName`] != null\n        ? options[`${dim}PropName`]\n        : typeof channels[dim] === 'string' && !options.interval\n            ? channels[dim]\n            : `__${dim}`;\n    const interval = options.interval ? maybeInterval(options.interval) : null;\n    // group by x or y\n    const groups = dim === 'z'\n        ? [[null, data]]\n        : d3Groups(data\n            .filter((d) => testFilter(d, channels))\n            .map((d) => ({ ...d, [groupDimRaw]: resolveChannel(dim, d, channels) }))\n            .filter((d) => isValid(d[groupDimRaw])), (d) => {\n            return interval ? interval.floor(d[groupDimRaw]) : d[groupDimRaw];\n        });\n    const newData = [];\n    let newChannels = omit({ ...channels }, 'filter');\n    if (dim !== 'z')\n        newChannels[dim] = propName;\n    const outputs = [\n        ...(dim === 'x'\n            ? ['y', 'y1', 'y2']\n            : dim === 'y'\n                ? ['x', 'x1', 'x2']\n                : ['x', 'x1', 'x2', 'y', 'y1', 'y2']),\n        'fill',\n        'stroke',\n        'r',\n        'opacity',\n        'fillOpacity',\n        'strokeOpacity'\n    ];\n    groups.forEach(([groupKey, items]) => {\n        const baseRecord = dim === 'z' ? {} : { [propName]: groupKey };\n        const newGroupChannels = groupFacetsAndZ(items, channels, (items, itemGroupProps) => {\n            const copiedProps = {};\n            // copy properties from first item of each group\n            options.copy?.forEach((prop) => {\n                copiedProps[prop] = items[0][prop];\n            });\n            const item = { ...baseRecord, ...copiedProps, ...itemGroupProps };\n            reduceOutputs(item, items, options, outputs, channels, newChannels);\n            newData.push(item);\n        });\n        newChannels = { ...newChannels, ...newGroupChannels };\n    });\n    return { data: newData, ...newChannels };\n}\n", "import { maybeInterval } from '../helpers/autoTicks.js';\nimport { resolveChannel } from '../helpers/resolve.js';\nexport function intervalX(args, { plot }) {\n    return interval('x', plot, args);\n}\nexport function intervalY(args, { plot }) {\n    return interval('y', plot, args);\n}\nfunction interval(dim, plot, { data, ...options }) {\n    if (options.interval &&\n        options[dim] &&\n        options[`${dim}1`] == null &&\n        options[`${dim}2`] == null) {\n        // derive x1 and x2 from x+interval\n        const interval = maybeInterval(options.interval);\n        const newData = data.map((row) => {\n            const val = resolveChannel(dim, row, options);\n            return {\n                ...row,\n                [`__${dim}1`]: interval.floor(val),\n                [`__${dim}2`]: interval.offset(interval.floor(val))\n            };\n        });\n        return {\n            data: newData,\n            // set default inset\n            [`inset${dim === 'x' ? 'Right' : 'Bottom'}`]: 1,\n            ...options,\n            [`${dim}1`]: `__${dim}1`,\n            [`${dim}2`]: `__${dim}2`\n        };\n    }\n    return { data, ...options };\n}\n", "import { resolveChannel } from '../helpers/resolve.js';\nimport { randomUniform, randomNormal } from 'd3-random';\nimport { isDate } from '../helpers/typeChecks.js';\nimport { durations, parseTimeInterval } from '../helpers/time.js';\nconst JITTER = {\n    x: Symbol('jitterX'),\n    x1: Symbol('jitterX1'),\n    x2: Symbol('jitterX2'),\n    y: Symbol('jitterY'),\n    y1: Symbol('jitterY1'),\n    y2: Symbol('jitterY2')\n};\nexport function jitterX(args, options) {\n    return jitter(args, { x: options });\n}\nexport function jitterY(args, options) {\n    return jitter(args, { y: options });\n}\nexport function jitter({ data, ...channels }, options) {\n    const jitterChannels = Object.keys(options).filter((ch) => channels[ch]);\n    // if no jitter channels are defined return early\n    if (!jitterChannels.length)\n        return {\n            data,\n            ...channels\n        };\n    // construct jitter functions\n    const jitterFns = Object.fromEntries(Object.entries(options).map(([key, opts]) => {\n        opts.type = opts.type ?? 'uniform';\n        const width = opts?.type === 'uniform' ? parseNumber(opts?.width ?? 0.35) : 0;\n        const std = opts?.type === 'normal' ? parseNumber(opts?.std ?? 0.15) : 0;\n        // @todo support time interval strings as width/std parameters\n        // Use the provided source or default to Math.random\n        const rng = opts?.source ?? Math.random;\n        const random = opts?.type === 'uniform'\n            ? randomUniform.source(rng)(-width, width)\n            : randomNormal.source(rng)(0, std);\n        return [key, random];\n    }));\n    return {\n        data: data.map((row) => {\n            let newRow = { ...row };\n            jitterChannels.forEach((channel) => {\n                const value = resolveChannel(channel, row, channels);\n                const random = jitterFns[channel];\n                const accKey = JITTER[channel];\n                newRow = {\n                    ...newRow,\n                    [accKey]: typeof value === 'number'\n                        ? value + random()\n                        : isDate(value)\n                            ? new Date(value.getTime() + random())\n                            : value\n                };\n            });\n            return newRow;\n        }),\n        ...channels,\n        // point the jittered channels to new accessor symbols\n        ...Object.fromEntries(jitterChannels.map((channel) => [channel, JITTER[channel]]))\n    };\n}\nfunction parseNumber(value) {\n    if (typeof value === 'number')\n        return value;\n    if (typeof value === 'string') {\n        try {\n            const [name, period] = parseTimeInterval(value);\n            return (durations.get(name) ?? 0) * period;\n        }\n        catch (err) {\n            return 0;\n        }\n    }\n    return 0;\n}\n", "import { groupFacetsAndZ } from '../helpers/group.js';\nimport { resolveChannel } from '../helpers/resolve.js';\n// let o: SelectOptions = { x: 'min'};\nexport function select({ data, ...channels }, options) {\n    const newData = [];\n    groupFacetsAndZ(data, channels, (items) => {\n        if (typeof options === 'string') {\n            if (options !== 'first' && options !== 'last')\n                throw new Error('unknown sort option: ' + options);\n            newData.push(options === 'first' ? items[0] : items.at(-1));\n        }\n        else {\n            const sortOptions = Object.entries(options);\n            if (!sortOptions.length)\n                throw new Error('must provide the channel to sort by');\n            if (sortOptions.length > 1)\n                throw new Error('cannot sort by more than one channel');\n            if (sortOptions[0][1] !== 'min' && sortOptions[0][1] !== 'max')\n                throw new Error('unknown sort option: ' + sortOptions[0][1]);\n            const selected = items\n                .map((item) => ({\n                ...item,\n                __sortby: resolveChannel(sortOptions[0][0], item, channels)\n            }))\n                .sort((a, b) => (a.__sortby > b.__sortby ? 1 : a.__sortby < b.__sortby ? -1 : 0))\n                .at(sortOptions[0][1] === 'min' ? 0 : -1);\n            newData.push(selected);\n        }\n    });\n    return { data: newData, ...channels };\n}\n/**\n * Keeps only the first item of each group\n */\nexport function selectFirst(args) {\n    return select(args, 'first');\n}\n/**\n * Keeps only the last item of each group\n */\nexport function selectLast(args) {\n    return select(args, 'last');\n}\nexport function selectMinX(args) {\n    return select(args, { x: 'min' });\n}\nexport function selectMaxX(args) {\n    return select(args, { x: 'max' });\n}\nexport function selectMinY(args) {\n    return select(args, { y: 'min' });\n}\nexport function selectMaxY(args) {\n    return select(args, { y: 'max' });\n}\n", "import { resolveChannel } from '../helpers/resolve.js';\nimport { maybeTimeInterval } from '../helpers/time.js';\nexport function shiftX({ data, ...channels }, shiftBy) {\n    if (typeof shiftBy === 'number' || typeof shiftBy === 'string') {\n        shiftBy = { x: shiftBy };\n    }\n    if (shiftBy) {\n        if (shiftBy)\n            return shiftChannels('x', shiftBy, { data, ...channels });\n    }\n    return { data, ...channels };\n}\nexport function shiftY({ data, ...channels }, shiftBy) {\n    if (typeof shiftBy === 'number' || typeof shiftBy === 'string') {\n        shiftBy = { y: shiftBy };\n    }\n    if (shiftBy)\n        return shiftChannels('y', shiftBy, { data, ...channels });\n    return { data, ...channels };\n}\nfunction shiftChannels(shiftDim, shiftBy, { data, ...channels }) {\n    return {\n        data: data.map((d) => {\n            const newRow = { ...d };\n            for (const [channel, shift] of Object.entries(shiftBy)) {\n                const shiftFrom = (channels[channel] != null ? channel : shiftDim);\n                if (typeof shift === 'number') {\n                    newRow[`__shift_${channel}`] =\n                        resolveChannel(shiftFrom, d, channels) + shift;\n                }\n                else if (typeof shift === 'string') {\n                    const [, sign, value, unit] = shift.match(/^([+-])?(\\d+)? ?([a-z]+)$/);\n                    const step = (sign === '-' ? -1 : 1) * (value || 1);\n                    const interval = maybeTimeInterval(unit);\n                    if (!interval)\n                        throw new Error(`Invalid shift interval: ${shift}`);\n                    newRow[`__shift_${channel}`] = interval.offset(resolveChannel(shiftFrom, d, channels), step);\n                }\n            }\n            return newRow;\n        }),\n        ...channels,\n        ...Object.fromEntries(Object.keys(shiftBy).map((key) => [key, `__shift_${key}`]))\n    };\n}\n", "import { maybeInterval } from '../helpers/autoTicks.js';\nimport { isValid } from '../helpers/index.js';\nimport { mayberReducer } from '../helpers/reduce.js';\nimport { resolveChannel } from '../helpers/resolve.js';\nimport { groups as d3Groups } from 'd3-array';\nexport function windowX(args, options) {\n    return windowDim('x', args, options);\n}\nexport function windowY(args, options) {\n    return windowDim('y', args, options);\n}\nfunction windowDim(dim, { data, ...channels }, options) {\n    const { anchor = 'middle', reduce = 'mean', strict = false } = options;\n    let { k, interval } = options;\n    interval = maybeInterval(interval, 'time');\n    // we only change the data, but not the\n    if (!((k = Math.floor(k)) > 0))\n        throw new Error(`invalid k: ${k}`);\n    const reduceFn = mayberReducer(reduce);\n    // group by z, fill or stroke\n    const groupBy = channels.z != null\n        ? 'z'\n        : channels.fill != null\n            ? 'fill'\n            : channels.stroke != null\n                ? 'stroke'\n                : false;\n    const groups = groupBy\n        ? d3Groups(data, (d) => resolveChannel(groupBy, d, channels)).map(([, v]) => v)\n        : [data];\n    const out = [];\n    const reduceChannels = [dim, `${dim}1`, `${dim}2`].filter((d) => channels[d] != null);\n    const shift = anchor === 'start' ? 0 : anchor === 'end' ? k - 1 : (k - 1) >> 1;\n    for (const values of groups) {\n        // resolve all \"x\" values\n        const X = values.map((d) => Object.fromEntries(reduceChannels.map((channel) => [channel, resolveChannel(channel, d, channels)])));\n        const Y = interval\n            ? values.map((d, index) => ({\n                index,\n                value: resolveChannel(dim === 'x' ? 'y' : 'x', d, channels)\n            }))\n            : [];\n        const L = values.length;\n        for (let i = 0; i < L; i++) {\n            const s0 = Math.max(0, i - shift);\n            const newDatum = { ...values[i] };\n            let yWindow = new Set();\n            if (interval) {\n                const minDate = interval.offset(Y[i].value, -shift);\n                const maxDate = interval.offset(Y[i].value, -shift + k);\n                yWindow = new Set(Y.filter(({ value }) => value >= minDate && value <= maxDate).map(({ index }) => index));\n            }\n            for (const channel of reduceChannels) {\n                const window = (interval\n                    ? // we select X values based on the interval\n                        X.filter((d, i) => yWindow.has(i))\n                    : X.slice(s0, Math.min(L, i - shift + k)))\n                    .map((d) => d[channel])\n                    .filter(isValid);\n                const reduced = strict && window.length < (strict === true ? k : strict)\n                    ? null\n                    : reduceFn(window);\n                newDatum[`__reduced_${channel}__`] = reduced;\n            }\n            out.push(newDatum);\n        }\n    }\n    return {\n        data: out,\n        ...channels,\n        ...Object.fromEntries(reduceChannels.map((channel) => [channel, `__reduced_${channel}__`]))\n    };\n}\n", "<script lang=\"ts\">\n    import type {\n        Mark,\n        BaseMarkProps,\n        ScaledDataRecord,\n        UsedScales\n    } from '../../types/index.js';\n    import { CSS_VAR } from '../../constants.js';\n    import { resolveProp, resolveScaledStyleProps } from '../../helpers/resolve.js';\n    import { type GeoPath } from 'd3-geo';\n    import CanvasLayer from './CanvasLayer.svelte';\n    import type { Attachment } from 'svelte/attachments';\n    import { devicePixelRatio } from 'svelte/reactivity/window';\n    import { GEOJSON_PREFER_STROKE } from '../../helpers/index.js';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    let {\n        mark,\n        data,\n        path,\n        usedScales\n    }: {\n        mark: Mark<BaseMarkProps>;\n        data: ScaledDataRecord[];\n        path: GeoPath;\n        usedScales: UsedScales;\n    } = $props();\n\n    const plot = usePlot();\n\n    function maybeOpacity(value) {\n        return value == null ? 1 : +value;\n    }\n\n    const render: Attachment = (canvas: HTMLCanvasElement) => {\n        const context = canvas.getContext('2d');\n\n        $effect(() => {\n            path.context(context);\n            if (context) {\n                context.resetTransform();\n                context.scale(devicePixelRatio.current ?? 1, devicePixelRatio.current ?? 1);\n                let currentColor;\n\n                for (const d of data) {\n                    if (!d.valid) continue;\n                    const geometry = resolveProp(mark.options.geometry, d.datum, d.datum);\n                    // untrack the filter test to avoid redrawing when not necessary\n                    let { stroke, fill, ...restStyles } = resolveScaledStyleProps(\n                        d.datum,\n                        mark.options,\n                        usedScales,\n                        plot,\n                        GEOJSON_PREFER_STROKE.has(geometry.type) ? 'stroke' : 'fill'\n                    );\n\n                    const opacity = maybeOpacity(restStyles['opacity']);\n                    const fillOpacity = maybeOpacity(restStyles['fill-opacity']);\n                    const strokeOpacity = maybeOpacity(restStyles['stroke-opacity']);\n\n                    if (`${fill}`.toLowerCase() === 'currentcolor')\n                        fill =\n                            currentColor ||\n                            (currentColor = getComputedStyle(\n                                canvas?.parentElement?.parentElement\n                            ).getPropertyValue('color'));\n                    if (`${stroke}`.toLowerCase() === 'currentcolor')\n                        stroke =\n                            currentColor ||\n                            (currentColor = getComputedStyle(\n                                canvas?.parentElement?.parentElement\n                            ).getPropertyValue('color'));\n                    if (CSS_VAR.test(fill))\n                        fill = getComputedStyle(canvas).getPropertyValue(fill.slice(4, -1));\n                    if (CSS_VAR.test(stroke))\n                        stroke = getComputedStyle(canvas).getPropertyValue(stroke.slice(4, -1));\n\n                    if (stroke && stroke !== 'none') {\n                        const strokeWidth = resolveProp(mark.options.strokeWidth, d.datum, 1);\n                        context.lineWidth = strokeWidth ?? 1;\n                    }\n\n                    context.fillStyle = fill ? fill : 'none';\n                    context.strokeStyle = stroke ? stroke : 'none';\n                    context.lineJoin = 'round';\n                    context.beginPath();\n\n                    path(geometry);\n                    context.closePath();\n\n                    if (opacity != null) context.globalAlpha = opacity;\n                    if (fillOpacity != null) context.globalAlpha = opacity * fillOpacity;\n\n                    if (fill && fill !== 'none') context.fill();\n                    if (strokeOpacity != null) context.globalAlpha = opacity * strokeOpacity;\n                    if (stroke && stroke !== 'none') context.stroke();\n                }\n            }\n            // reset path context in case we switch back to SVG\n            path.context(null);\n            return () => {\n                context?.clearRect(\n                    0,\n                    0,\n                    plot.width * (devicePixelRatio.current ?? 1),\n                    plot.height * (devicePixelRatio.current ?? 1)\n                );\n            };\n        });\n    };\n</script>\n\n<CanvasLayer {@attach render} />\n", "<!-- @component\n    Renders geographical data using projections and GeoJSON geometries\n-->\n<script lang=\"ts\" generics=\"Datum = DataRecord | GeoJSON.GeoJsonObject\">\n    interface GeoMarkProps extends BaseMarkProps<Datum>, LinkableMarkProps<Datum> {\n        data?: Datum[] | { type: 'Sphere' }[];\n        geoType?: 'sphere' | 'graticule';\n        /**\n         * todo: implement?\n         */\n        dragRotate?: boolean;\n        /**\n         * toggle canvas rendering mode\n         */\n        canvas?: boolean;\n        /**\n         * simple browser tooltip to be displayed on mouseover\n         */\n        title?: ConstantAccessor<string, Datum>;\n        /**\n         * radius for point features\n         */\n        r?: ChannelAccessor<Datum>;\n        svgFilter?: ConstantAccessor<string | undefined, Datum>;\n    }\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        ConstantAccessor,\n        LinkableMarkProps,\n        ChannelAccessor\n    } from '../types/index.js';\n    import Mark from '../Mark.svelte';\n    import { geoPath } from 'd3-geo';\n    import { resolveChannel, resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import callWithProps from '../helpers/callWithProps.js';\n    import { sort } from '../transforms/index.js';\n    import { addEventHandlers } from './helpers/events.js';\n    import GeoCanvas from './helpers/GeoCanvas.svelte';\n    import { recordize } from '../transforms/recordize.js';\n    import { GEOJSON_PREFER_STROKE } from '../helpers/index.js';\n    import Anchor from './helpers/Anchor.svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const plot = usePlot();\n\n    let markProps: GeoMarkProps = $props();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().geo\n    };\n\n    const {\n        data = [{} as Datum],\n        canvas = false,\n        geoType,\n        dragRotate,\n        class: className = '',\n        ...options\n    }: GeoMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const path = $derived(\n        callWithProps(geoPath, [plot.scales.projection], {\n            ...(options.r\n                ? { pointRadius: (d) => plot.scales.r.fn(resolveChannel('r', d, options)) }\n                : { pointRadius: 3 })\n        })\n    );\n\n    const args = $derived(\n        sort(\n            recordize({\n                data,\n                ...(options.r ? { sort: { channel: '-r' } } : {}),\n                ...options\n            })\n        )\n    );\n</script>\n\n<Mark\n    type=\"geo\"\n    channels={['fill', 'stroke', 'opacity', 'fillOpacity', 'strokeOpacity', 'r']}\n    {...args}>\n    {#snippet children({ mark, scaledData, usedScales })}\n        <g\n            aria-label=\"geo\"\n            class={['geo', geoType && `geo-${geoType}`, className]}\n            style=\"fill:currentColor\">\n            {#if canvas}\n                <GeoCanvas data={scaledData} {path} {mark} {usedScales} />\n            {:else}\n                {#each scaledData as d, i (i)}\n                    {#if d.valid}\n                        <Anchor {options} datum={d.datum}>\n                            {@const title = resolveProp(args.title, d.datum, '')}\n                            {@const geometry = resolveProp(args.geometry, d.datum, d.datum)}\n                            {@const [style, styleClass] = resolveStyles(\n                                plot,\n                                d,\n                                args,\n                                GEOJSON_PREFER_STROKE.has(geometry.type) ? 'stroke' : 'fill',\n                                usedScales\n                            )}\n                            <path\n                                d={path(geometry)}\n                                {style}\n                                class={[styleClass]}\n                                filter={resolveProp(args.svgFilter, d.datum, undefined)}\n                                {@attach addEventHandlers({\n                                    plot,\n                                    options: args,\n                                    datum: d?.datum\n                                })}>\n                                {#if title}<title>{title}</title>{/if}\n                            </path>\n                        </Anchor>\n                    {/if}\n                {/each}\n            {/if}\n        </g>\n    {/snippet}\n</Mark>\n", "<!-- @component\n    Renders a geographic graticule grid with customizable step sizes\n-->\n\n<script lang=\"ts\">\n    interface GraticuleMarkProps extends Omit<\n        BaseMarkProps<GeoJSON.GeoJsonObject>,\n        'fill' | 'fillOpacity' | 'paintOrder' | 'title' | 'href' | 'target' | 'cursor'\n    > {\n        step?: number;\n        stepX?: number;\n        stepY?: number;\n    }\n    import Geo from './Geo.svelte';\n    import { geoGraticule } from 'd3-geo';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import type { BaseMarkProps } from '../types/index.js';\n\n    let markProps: GraticuleMarkProps = $props();\n\n    const DEFAULTS = {\n        step: 10,\n        ...getPlotDefaults().graticule\n    };\n\n    const { class: className = '', ...options }: GraticuleMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const graticule = $derived.by(() => {\n        const graticule = geoGraticule();\n        graticule.stepMinor([\n            options.stepX ?? options.step ?? DEFAULTS.step,\n            options.stepY ?? options.step ?? DEFAULTS.step\n        ]);\n        return graticule;\n    });\n</script>\n\n<Geo data={[graticule()]} {...options} geoType=\"graticule\" />\n", "<!--\n    @component \n    For showing images positioned at x/y coordinates\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface ImageMarkProps extends BaseMarkProps<Datum>, LinkableMarkProps<Datum> {\n        data: Datum[];\n        x: ChannelAccessor<Datum>;\n        y: ChannelAccessor<Datum>;\n        r?: ChannelAccessor<Datum>;\n        width?: ConstantAccessor<number, Datum>;\n        height?: ConstantAccessor<number, Datum>;\n        src?: ConstantAccessor<string, Datum>;\n        title?: ConstantAccessor<string, Datum>;\n        preserveAspectRatio?: string;\n        // canvas?: boolean;\n        imageClass?: ConstantAccessor<string, Datum>;\n    }\n\n    import type {\n        BaseMarkProps,\n        ChannelAccessor,\n        ConstantAccessor,\n        DataRecord,\n        LinkableMarkProps\n    } from '../types';\n    import { resolveProp } from '../helpers/resolve';\n    import CustomMark from './CustomMark.svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults';\n    import { sort } from '../transforms';\n    import Anchor from './helpers/Anchor.svelte';\n\n    let markProps: ImageMarkProps = $props();\n\n    const DEFAULTS: Partial<ImageMarkProps> = {\n        width: 20,\n        preserveAspectRatio: 'xMidYMin slice',\n        ...getPlotDefaults().image\n    };\n\n    const {\n        data = [{} as Datum],\n        width,\n        height,\n        src,\n        title,\n        imageClass,\n        preserveAspectRatio,\n        ...options\n    }: ImageMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const args = $derived(sort({ data, ...options }));\n</script>\n\n<CustomMark type=\"image\" {...args}>\n    {#snippet mark({ record, index, usedScales })}\n        {@const w = record.r !== undefined ? record.r * 2 : resolveProp(width, record.datum, 20)}\n        {@const h =\n            record.r !== undefined ? record.r * 2 : resolveProp(height || width, record.datum, 20)}\n        <Anchor {options} datum={record.datum}>\n            <image\n                class={resolveProp(imageClass, record.datum, null)}\n                href={resolveProp(src, record.datum, '')}\n                x={record.x - w * 0.5}\n                y={record.y - h * 0.5}\n                {preserveAspectRatio}\n                clip-path={record.r !== undefined ? `circle(${record.r}px)` : null}\n                width={w}\n                height={h}\n                >{#if title}<title>{resolveProp(title, record.datum, '')}</title>{/if}</image>\n        </Anchor>\n    {/snippet}\n</CustomMark>\n", "<script module lang=\"ts\">\n    export type MarkerShape =\n        | 'dot'\n        | 'circle'\n        | 'circle-stroke'\n        | 'arrow'\n        | 'arrow-reverse'\n        | 'tick'\n        | 'tick-x'\n        | 'tick-y';\n</script>\n\n<!-- \n    @component Marker is a helper component that creates a marker for use in a line or path.\n-->\n\n<script lang=\"ts\">\n    import { getContext } from 'svelte';\n    import { getPlotDefaults } from '../../hooks/plotDefaults';\n\n    type MarkerProps = {\n        id: string;\n        shape: MarkerShape;\n        color: string;\n    };\n\n    let { id, shape, color }: MarkerProps = $props();\n\n    const tickMarker = (orient: number | 'auto') => ({\n        viewBox: '-3 -3 6 6',\n        path: 'M0,-3v6',\n        width: 6,\n        height: 6,\n        orient,\n        color: 'stroke'\n    });\n\n    const MARKERS: Record<\n        MarkerShape,\n        {\n            path?: string;\n            width: number;\n            height: number;\n            orient: number | 'auto';\n            color: 'fill' | 'stroke';\n            bg?: 'fill' | 'stroke';\n            viewBox?: string;\n        }\n    > = {\n        circle: { width: 6.67, height: 6.67, orient: 0, color: 'fill', bg: 'stroke' },\n        dot: { width: 6.67, height: 6.67, orient: 0, color: 'fill' },\n        'circle-stroke': { width: 6.67, height: 6.67, orient: 0, color: 'stroke', bg: 'fill' },\n        tick: tickMarker('auto'),\n        'tick-x': tickMarker(90),\n        'tick-y': tickMarker(0),\n        arrow: {\n            path: 'M-1.5,-3l3,3l-3,3',\n            width: 6.67,\n            height: 6.67,\n            orient: 'auto',\n            color: 'stroke'\n        },\n        'arrow-reverse': {\n            path: 'M1.5,-3l-3,3l3,3',\n            width: 6.67,\n            height: 6.67,\n            orient: 'auto',\n            color: 'stroke'\n        }\n    };\n\n    const defaultDotRadius = getPlotDefaults().markerDotRadius;\n\n    const markerColors = $derived({\n        fill: 'none',\n        [MARKERS[shape].color]: color,\n        ...(MARKERS[shape].bg ? { [MARKERS[shape].bg as string]: 'var(--svp-bg)' } : {})\n    });\n</script>\n\n<marker\n    {id}\n    viewBox={MARKERS[shape].viewBox || '-5 -5 10 10'}\n    markerWidth={MARKERS[shape].width}\n    orient={MARKERS[shape].orient}\n    markerHeight={MARKERS[shape].height}\n    stroke-width=\"1.5\"\n    {...markerColors}>\n    {#if shape === 'dot' || shape === 'circle' || shape === 'circle-stroke'}\n        <circle r={defaultDotRadius} />\n    {:else}\n        <path d={MARKERS[shape].path} />\n    {/if}\n</marker>\n", "<!--\n    @component\n    Helper component for paths with markers and optional text along the path.\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    import Marker, { type MarkerShape } from './Marker.svelte';\n    import { isSnippet, randomId } from '../../helpers/index.js';\n    import { resolveProp } from '../../helpers/resolve.js';\n    import type {\n        BaseMarkProps,\n        ConstantAccessor,\n        DataRecord,\n        Mark,\n        PlotScales\n    } from '../../types/index.js';\n    import { addEventHandlers } from './events.js';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    type MarkerPathProps = BaseMarkProps<Datum> & {\n        /**\n         * the datum associated with this path, usually the first\n         * element of the data array group\n         */\n        datum: Datum;\n        /**\n         * the marker shape to use at the start of the path, defaults to\n         * circle\n         */\n        markerStart?: boolean | MarkerShape;\n        /**\n         * the marker shape to use at the middle of the path, defaults to circle\n         */\n        markerMid?: boolean | MarkerShape;\n        /**\n         * the marker shape to use at the end of the path, defaults to circle\n         */\n        markerEnd?: boolean | MarkerShape;\n        /**\n         * shorthand for setting all markers\n         */\n        marker?: boolean | MarkerShape;\n        /**\n         * path string\n         */\n        d: string;\n        style: string;\n        startOffset: string;\n        textStyle: string;\n        textStyleClass?: string | null;\n        text: string;\n        transform: string;\n        color: string;\n        strokeWidth: ConstantAccessor<number>;\n        mark: Mark<BaseMarkProps<Datum>>;\n        scales: PlotScales;\n    };\n\n    let {\n        datum,\n        markerStart,\n        markerMid,\n        markerEnd,\n        marker,\n        d,\n        dInv,\n        style,\n        class: className = null,\n        textStyleClass = null,\n        startOffset,\n        textStyle,\n        text,\n        transform,\n        color,\n        strokeWidth,\n        mark\n    }: MarkerPathProps = $props();\n\n    const id = randomId();\n\n    const plot = usePlot();\n\n    const points = $derived(text && d != null ? d.split(/[LMC]/).slice(1) : []);\n    const hasPath = $derived(points.length > 0);\n    const firstPt = $derived(text && hasPath ? points.at(0).split(',').map(Number) : []);\n    const lastPt = $derived(text && hasPath ? points.at(-1).split(',').map(Number) : []);\n    const leftToRight = $derived(text && hasPath ? firstPt[0] < lastPt.at(-2) : true);\n\n    // use reversed path if the path is not left to right\n    const textPath = $derived(!text || leftToRight ? d : dInv);\n    const strokeWidth_ = $derived(resolveProp(strokeWidth, datum, 1.4));\n</script>\n\n<g\n    {transform}\n    class={className}\n    stroke-width={strokeWidth_}\n    {@attach addEventHandlers({\n        plot,\n        options: mark.options,\n        datum: datum\n    })}>\n    {#each Object.entries( { start: markerStart, mid: markerMid, end: markerEnd, all: marker } ) as [key, marker] (key)}\n        {@const markerId = `marker-${key === 'all' ? '' : `${key}-`}${id}`}\n        {#if isSnippet(marker)}\n            {@render marker(markerId, color)}\n        {:else if marker}\n            <Marker\n                id={markerId}\n                shape={marker === true ? 'circle' : resolveProp(marker, datum)}\n                {color} />\n        {/if}\n    {/each}\n    {#if mark.options.onmouseenter || mark.options.onclick}\n        <!-- add invisible path in bg for easier mouse access -->\n        <path\n            {d}\n            style=\"fill:none;stroke-width: {(strokeWidth || 1) +\n                10}; stroke: transparent; stroke-opacity:0\" />\n    {/if}\n    <path\n        marker-start={markerStart || marker\n            ? `url(#marker-${markerStart ? 'start-' : ''}${id})`\n            : null}\n        marker-mid={markerMid || marker ? `url(#marker-${markerMid ? 'mid-' : ''}${id})` : null}\n        marker-end={markerEnd || marker ? `url(#marker-${markerEnd ? 'end-' : ''}${id})` : null}\n        {d}\n        {style}\n        {@attach addEventHandlers({\n            plot,\n            options: mark.options,\n            datum: datum\n        })} />\n    {#if text}\n        <!-- since textPath.side is not yet supported, we have to use an invisible\n            path in order to keep the text from turning upside down -->\n        <path d={textPath} {id} stroke=\"none\" fill=\"none\" />\n        <text dy=\"-3\" style={textStyle} class={textStyleClass}>\n            <textPath {startOffset} href=\"#{id}\">{text}</textPath>\n        </text>\n    {/if}\n</g>\n\n<style>\n    text {\n        font-size: 12px;\n        paint-order: stroke fill;\n    }\n</style>\n", "<script lang=\"ts\">\n    import type {\n        Mark,\n        BaseMarkProps,\n        ScaledDataRecord,\n        UsedScales\n    } from '../../types/index.js';\n    import { resolveProp, resolveScaledStyleProps } from '../../helpers/resolve.js';\n    import { type Line } from 'd3-shape';\n    import CanvasLayer from './CanvasLayer.svelte';\n    import type { Attachment } from 'svelte/attachments';\n    import { devicePixelRatio } from 'svelte/reactivity/window';\n    import { resolveColor } from './canvas.js';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    let {\n        mark,\n        groupedLineData,\n        usedScales,\n        linePath\n    }: {\n        mark: Mark<BaseMarkProps>;\n        groupedLineData: ScaledDataRecord[][];\n        usedScales: UsedScales;\n        linePath: Line<ScaledDataRecord>;\n        groupByKey?: unknown;\n    } = $props();\n\n    const plot = usePlot();\n\n    function maybeOpacity(value: unknown) {\n        return value == null ? 1 : +value;\n    }\n\n    const render = ((canvas: HTMLCanvasElement) => {\n        const context = canvas.getContext('2d');\n\n        $effect(() => {\n            if (context) {\n                linePath.context(context);\n                context.resetTransform();\n                context.scale(devicePixelRatio.current ?? 1, devicePixelRatio.current ?? 1);\n                context.lineJoin = 'round';\n                context.lineCap = 'round';\n\n                for (const group of groupedLineData) {\n                    if (group.length < 2) continue;\n\n                    // Get the first point to determine line styles\n                    const firstPoint = group[0];\n                    if (!firstPoint || !firstPoint.valid) continue;\n\n                    let { stroke, ...restStyles } = resolveScaledStyleProps(\n                        firstPoint.datum,\n                        mark.options,\n                        usedScales,\n                        plot,\n                        'stroke'\n                    );\n\n                    const opacity = maybeOpacity(restStyles['opacity']);\n                    const strokeOpacity = maybeOpacity(restStyles['stroke-opacity']);\n\n                    const strokeWidth = resolveProp(\n                        mark.options.strokeWidth,\n                        firstPoint.datum,\n                        1.4\n                    ) as number;\n\n                    if (mark.options.outlineStroke) {\n                        // draw stroke outline first\n                        const outlineStroke = resolveColor(mark.options.outlineStroke, canvas);\n                        const outlineStrokeWidth =\n                            mark.options.outlineStrokeWidth ?? strokeWidth + 2;\n                        const outlineStrokeOpacity = mark.options.outlineStrokeOpacity ?? 1;\n\n                        context.lineWidth = outlineStrokeWidth;\n                        context.strokeStyle = outlineStroke;\n                        context.globalAlpha = opacity * outlineStrokeOpacity;\n                        context.beginPath();\n                        linePath(group);\n                        context.stroke();\n                    }\n\n                    stroke = resolveColor(stroke, canvas);\n\n                    if (stroke && stroke !== 'none') {\n                        context.lineWidth = strokeWidth ?? 1.4;\n                    }\n\n                    context.strokeStyle = stroke ? stroke : 'currentColor';\n                    context.globalAlpha = opacity * strokeOpacity;\n\n                    // Start drawing the line\n                    context.beginPath();\n                    linePath(group);\n                    context.stroke();\n                }\n                linePath.context(null);\n            }\n\n            return () => {\n                context?.clearRect(\n                    0,\n                    0,\n                    plot.width * (devicePixelRatio.current ?? 1),\n                    plot.height * (devicePixelRatio.current ?? 1)\n                );\n            };\n        });\n    }) as Attachment;\n</script>\n\n<CanvasLayer {@attach render} />\n", "<!-- @component\n    Creates line charts with connecting points in a dataset with customizable curves and markers\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface LineMarkProps extends MarkerOptions, BaseMarkProps<Datum> {\n        data?: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        z?: ChannelAccessor<Datum>;\n        outlineStroke?: string;\n        outlineStrokeWidth?: number;\n        outlineStrokeOpacity?: number;\n        curve?: CurveName | CurveFactory | 'auto';\n        tension?: number;\n        sort?: ConstantAccessor<RawValue, Datum> | { channel: 'stroke' | 'fill' };\n        text?: ConstantAccessor<string, Datum>;\n        textFill?: ConstantAccessor<string, Datum>;\n        textStroke?: ConstantAccessor<string, Datum>;\n        textStartOffset?: ConstantAccessor<string, Datum>;\n        textStrokeWidth?: ConstantAccessor<number, Datum>;\n        lineClass?: ConstantAccessor<string, Datum>;\n        canvas?: boolean;\n    }\n    import type {\n        CurveName,\n        DataRecord,\n        BaseMarkProps,\n        ConstantAccessor,\n        ChannelAccessor,\n        MarkerOptions,\n        ScaledDataRecord\n    } from '../types/index.js';\n    import Mark from '../Mark.svelte';\n    import MarkerPath from './helpers/MarkerPath.svelte';\n    import { resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import { line, type CurveFactory, type Line as D3Line } from 'd3-shape';\n    import { geoPath } from 'd3-geo';\n    import callWithProps from '../helpers/callWithProps.js';\n    import { maybeCurve } from '../helpers/curves.js';\n    import { pick } from 'es-toolkit';\n    import LineCanvas from './helpers/LineCanvas.svelte';\n\n    import type { RawValue } from '../types/index.js';\n    import { isValid } from '../helpers/index.js';\n    import { sort } from '../transforms/sort.js';\n    import { recordizeXY } from '../transforms/recordize.js';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: LineMarkProps = $props();\n\n    const DEFAULTS: LineMarkProps = {\n        curve: 'auto',\n        tension: 0,\n        canvas: false,\n        class: null,\n        lineClass: null,\n        ...getPlotDefaults().line\n    };\n\n    const {\n        data = [{} as Datum],\n        curve,\n        tension,\n        text,\n        canvas,\n        class: className,\n        lineClass,\n        ...options\n    }: LineMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const args = $derived(sort(recordizeXY({ data, ...options })));\n\n    /**\n     * Groups the data by the specified key\n     */\n    function groupIndex(data: ScaledDataRecord[], groupByKey: ChannelAccessor<Datum> | null) {\n        if (!groupByKey) return [data];\n        let group = [];\n        const groups = [group];\n        let lastGroupValue;\n        for (const d of data) {\n            const groupValue = resolveProp(groupByKey, d.datum);\n            if (groupValue === lastGroupValue) {\n                group.push(d);\n            } else {\n                // new group\n                group = [d];\n                groups.push(group);\n                lastGroupValue = groupValue;\n            }\n        }\n        return groups;\n    }\n\n    const groupByKey = $derived(args.z || args.stroke) as ChannelAccessor<Datum> | null;\n\n    const plot = usePlot();\n\n    const linePath: D3Line<ScaledDataRecord> = $derived(\n        plot.scales.projection && curve === 'auto'\n            ? sphereLine(plot.scales.projection)\n            : callWithProps(line, [], {\n                  curve: maybeCurve(curve === 'auto' ? 'linear' : curve, tension),\n                  x: (d) => d.x,\n                  y: (d) => d.y,\n                  defined: (d) => isValid(d.x) && isValid(d.y)\n              })\n    );\n\n    function sphereLine(projection) {\n        const path = geoPath(projection);\n        const fn = (lineData: ScaledDataRecord[]) => {\n            let line = [];\n            const lines = [line];\n            for (const { x, y } of lineData) {\n                // if x or y is undefined, start a new line segment\n                if (!isValid(x) || !isValid(y)) {\n                    line = [];\n                    lines.push(line);\n                } else {\n                    line.push([x, y]);\n                }\n            }\n            return path({ type: 'MultiLineString', coordinates: lines });\n        };\n        fn.context = path.context;\n        return fn;\n    }\n</script>\n\n<Mark\n    type=\"line\"\n    channels={['x', 'y', 'opacity', 'stroke', 'strokeOpacity']}\n    required={['x', 'y']}\n    {...args}>\n    {#snippet children({ mark, usedScales, scaledData })}\n        {#if scaledData.length > 0}\n            {@const groupedLineData = groupIndex(scaledData, groupByKey)}\n            {#if canvas}\n                <LineCanvas {groupedLineData} {mark} {usedScales} {linePath} {groupByKey} />\n            {:else}\n                <g class={['lines', className]}>\n                    {#each groupedLineData as lineData, i (i)}\n                        {@const pathString = linePath(lineData)}\n                        {#if pathString}\n                            <GroupMultiple class={resolveProp(lineClass, lineData[0])}>\n                                {#if options.outlineStroke}\n                                    {@const [outlineStyle, outlineStyleClass] = resolveStyles(\n                                        plot,\n                                        { ...lineData[0], stroke: options.outlineStroke },\n                                        {\n                                            strokeLinejoin: 'round',\n                                            ...args,\n                                            stroke: options.outlineStroke,\n                                            strokeOpacity: options.outlineStrokeOpacity ?? 1,\n                                            strokeWidth:\n                                                options.outlineStrokeWidth ||\n                                                resolveProp(\n                                                    options.strokeWidth,\n                                                    lineData[0].datum,\n                                                    1.4\n                                                ) + 2\n                                        },\n                                        'stroke',\n                                        usedScales\n                                    )}\n                                    <path\n                                        d={pathString}\n                                        style={outlineStyle}\n                                        class={['is-outline', outlineStyleClass]} />\n                                {/if}\n                                {@const [style, styleClass] = resolveStyles(\n                                    plot,\n                                    lineData[0],\n                                    {\n                                        strokeWidth: 1.4,\n                                        strokeLinejoin: 'round',\n                                        ...args,\n                                        stroke: lineData[0].stroke\n                                    },\n                                    'stroke',\n                                    usedScales\n                                )}\n                                {@const [textStyle, textStyleClass] = resolveStyles(\n                                    plot,\n                                    lineData[0],\n                                    {\n                                        textAnchor: 'middle',\n                                        ...pick(args, [\n                                            'fontSize',\n                                            'fontWeight',\n                                            'fontStyle',\n                                            'textAnchor'\n                                        ]),\n                                        strokeWidth: args.textStrokeWidth\n                                            ? args.textStrokeWidth\n                                            : args.textStroke\n                                              ? 2\n                                              : 0,\n                                        fill: args.textFill || lineData[0].stroke,\n                                        stroke: args.textStroke\n                                    },\n                                    'fill',\n                                    usedScales,\n                                    true\n                                )}\n                                <MarkerPath\n                                    {mark}\n                                    scales={plot.scales}\n                                    markerStart={args.markerStart}\n                                    markerMid={args.markerMid}\n                                    markerEnd={args.markerEnd}\n                                    marker={args.marker}\n                                    strokeWidth={args.strokeWidth}\n                                    datum={lineData[0].datum}\n                                    d={pathString}\n                                    dInv={text ? linePath(lineData.toReversed()) : null}\n                                    color={lineData[0].stroke || 'currentColor'}\n                                    {style}\n                                    class={styleClass}\n                                    text={text ? resolveProp(text, lineData[0].datum) : null}\n                                    startOffset={resolveProp(\n                                        args.textStartOffset,\n                                        lineData[0].datum,\n                                        '50%'\n                                    )}\n                                    {textStyle}\n                                    {textStyleClass} />\n                            </GroupMultiple>\n                        {/if}\n                    {/each}\n                </g>\n            {/if}\n        {/if}\n    {/snippet}\n</Mark>\n", "<!-- @component\n    Creates a horizontal line chart with x values and index positions for y\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface LineXMarkProps extends Omit<ComponentProps<typeof Line>, 'y' | 'data'> {\n        data: Datum[];\n    }\n    import Line from './Line.svelte';\n    import { recordizeX } from '../index.js';\n    import type { ComponentProps } from 'svelte';\n    import type { DataRow } from '../index.js';\n\n    let { data = [{} as Datum], ...rest }: LineXMarkProps = $props();\n\n    let args = $derived(recordizeX({ data, ...rest }));\n</script>\n\n<Line {...args} />\n", "<!-- @component\n    Creates a horizontal line chart with x values and index positions for y\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface LineYMarkProps extends Omit<ComponentProps<typeof Line>, 'x' | 'data'> {\n        data: Datum[];\n    }\n    import Line from './Line.svelte';\n    import { recordizeY } from '../index.js';\n    import type { ComponentProps } from 'svelte';\n    import type { DataRow } from '../index.js';\n\n    let { data = [{} as Datum], ...rest }: LineYMarkProps = $props();\n\n    let args = $derived(recordizeY({ data, ...rest }));\n</script>\n\n<Line {...args} />\n", "<!-- @component\n    Creates connections between pairs of points with optional curve styling and markers\n-->\n\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface LinkMarkProps extends BaseMarkProps<Datum>, MarkerOptions {\n        data: Datum[];\n        sort?: ConstantAccessor<RawValue> | { channel: 'stroke' | 'fill' };\n        /**\n         * the x1 channel accessor for the start of the link\n         */\n        x1: ChannelAccessor<Datum>;\n        /**\n         * the y1 channel accessor for the start of the link\n         */\n        y1: ChannelAccessor<Datum>;\n        /**\n         * the x2 channel accessor for the end of the link\n         */\n        x2: ChannelAccessor<Datum>;\n\n        y2: ChannelAccessor<Datum>;\n        /**\n         * the curve type, defaults to 'auto' which uses a linear curve for planar projections\n         * and a spherical line for geographic projections\n         */\n        curve?: 'auto' | CurveName | CurveFactory;\n        /**\n         * the tension of the curve, defaults to 0\n         */\n        tension?: number;\n        /**\n         * the text label for the link, can be a constant or a function\n         */\n        text?: ConstantAccessor<string, Datum>;\n    }\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        ConstantAccessor,\n        ChannelAccessor,\n        CurveName,\n        MarkerOptions,\n        RawValue,\n        ScaledDataRecord\n    } from '../types/index.js';\n    import { resolveChannel, resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import Mark from '../Mark.svelte';\n    import MarkerPath from './helpers/MarkerPath.svelte';\n    import { replaceChannels } from '../transforms/rename.js';\n    import { line, type CurveFactory } from 'd3-shape';\n    import callWithProps from '../helpers/callWithProps.js';\n    import { maybeCurve } from '../helpers/curves.js';\n    import { geoPath } from 'd3-geo';\n    import { pick } from 'es-toolkit';\n    import { sort } from '../transforms/sort.js';\n    import { indexData } from '../transforms/recordize.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: LinkMarkProps = $props();\n    const DEFAULTS = {\n        ...getPlotDefaults().link\n    };\n    const {\n        data = [{} as Datum],\n        curve = 'auto',\n        tension = 0,\n        text,\n        class: className = '',\n        ...options\n    }: LinkMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const args = $derived(\n        replaceChannels(\n            sort({\n                data: indexData(data),\n                stroke: 'currentColor',\n                ...options\n            }),\n            { y: ['y1', 'y2'], x: ['x1', 'x2'] }\n        )\n    );\n\n    const sphericalLine = $derived(plot.scales.projection && curve === 'auto');\n\n    const linePath: (d: ScaledDataRecord, reversed: boolean) => string = $derived.by(() => {\n        const fn = callWithProps(line, [], {\n            curve: maybeCurve(curve === 'auto' ? 'linear' : curve, tension),\n            x: (d) => d[0],\n            y: (d) => d[1]\n        });\n\n        return (d: ScaledDataRecord, reversed = false) =>\n            fn(\n                reversed\n                    ? [\n                          [d.x2, d.y2],\n                          [d.x1, d.y1]\n                      ]\n                    : [\n                          [d.x1, d.y1],\n                          [d.x2, d.y2]\n                      ]\n            );\n    });\n\n    const sphericalLinePath: (d: ScaledDataRecord, reversed: boolean) => string = $derived.by(\n        () => {\n            const fn = sphereLine(plot.scales.projection);\n            return (d: ScaledDataRecord, reversed = false) => {\n                const x1 = resolveChannel('x1', d.datum, args);\n                const y1 = resolveChannel('y1', d.datum, args);\n                const x2 = resolveChannel('x2', d.datum, args);\n                const y2 = resolveChannel('y2', d.datum, args);\n                return reversed ? fn(x2, y2, x1, y1) : fn(x1, y1, x2, y2);\n            };\n        }\n    );\n    //     sphericalLine\n    //         ?\n\n    //         sphereLine(plot.scales.projection)\n    //         :\n    // );\n\n    function sphereLine(projection) {\n        const path = geoPath(projection);\n        return (x1: number, y1: number, x2: number, y2: number) => {\n            return path({\n                type: 'LineString',\n                coordinates: [\n                    [x1, y1],\n                    [x2, y2]\n                ]\n            });\n        };\n    }\n</script>\n\n<Mark\n    type=\"link\"\n    required={['x1', 'x2', 'y1', 'y2']}\n    channels={['x1', 'y1', 'x2', 'y2', 'opacity', 'stroke', 'strokeOpacity']}\n    {...args}>\n    {#snippet children({ mark, scaledData, usedScales })}\n        <g class={['link', className]} data-use-x={usedScales.x ? 1 : 0}>\n            {#each scaledData as d, i (i)}\n                {#if d.valid || true}\n                    {@const [style, styleClass] = resolveStyles(\n                        plot,\n                        d,\n                        { strokeWidth: 1.6, ...args },\n                        'stroke',\n                        usedScales\n                    )}\n                    {@const [textStyle, textStyleClass] = resolveStyles(\n                        plot,\n                        d,\n                        {\n                            textAnchor: 'middle',\n                            ...pick(args, ['fontSize', 'fontWeight', 'fontStyle', 'textAnchor']),\n                            fill: args.textFill || args.stroke,\n                            stroke: args.textStroke,\n                            strokeWidth: args.textStrokeWidth\n                        },\n                        'fill',\n                        usedScales\n                    )}\n\n                    <MarkerPath\n                        mark={{ ...mark, options: args }}\n                        scales={plot.scales}\n                        markerStart={args.markerStart}\n                        markerEnd={args.markerEnd}\n                        marker={args.marker}\n                        class={styleClass}\n                        strokeWidth={args.strokeWidth}\n                        datum={d.datum}\n                        color={d.stroke}\n                        d={sphericalLine ? sphericalLinePath(d) : linePath(d)}\n                        dInv={sphericalLine ? sphericalLinePath(d, true) : linePath(d, true)}\n                        {style}\n                        text={text ? resolveProp(text, d.datum) : null}\n                        startOffset={resolveProp(args.textStartOffset, d.datum, '50%')}\n                        {textStyle}\n                        {textStyleClass} />\n                {/if}\n            {/each}\n        </g>\n    {/snippet}\n</Mark>\n", "export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n", "export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n", "export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n", "export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n", "export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n", "import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n", "export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n", "export default function() {\n  return this._root;\n}\n", "export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n", "import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n", "import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n", "export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n", "export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n", "import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n", "<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface PointerMarkProps {\n        data: Datum[];\n        children?: Snippet<[{ data: Datum[] }]>;\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        z?: ChannelAccessor<Datum>;\n        fx?: ChannelAccessor<Datum>;\n        fy?: ChannelAccessor<Datum>;\n        /**\n         * maximum cursor distance to select data points\n         */\n        maxDistance?: number;\n        /**\n         * tolerance for considering points as \"the same\" when sharing x or y values\n         * defaults to 0 pixel\n         */\n        tolerance?: number;\n        /**\n         * called whenever the selection changes\n         * @param data\n         */\n        onupdate?: (data: Datum[]) => void;\n    }\n\n    import { type Snippet } from 'svelte';\n    import type { ChannelAccessor, DataRow } from '../types/index.js';\n    import { resolveChannel } from '../helpers/resolve.js';\n    import { quadtree } from 'd3-quadtree';\n    import { projectXY } from '../helpers/scales.js';\n    import isDataRecord from '../helpers/isDataRecord.js';\n    import { indexData, RAW_VALUE } from '../transforms/recordize.js';\n    import { groupFacetsAndZ } from '../helpers/group.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const plot = usePlot();\n\n    const POINTER_X = Symbol('pointerX');\n    const POINTER_Y = Symbol('pointerY');\n\n    let markProps: PointerMarkProps = $props();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().pointer\n    };\n\n    const {\n        data = [{}],\n        children,\n        x,\n        y,\n        z,\n        fx,\n        fy,\n        maxDistance = 15,\n        tolerance = Number.NEGATIVE_INFINITY,\n        onupdate = null\n    }: PointerMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    let selectedData = $state([]);\n\n    function onPointerMove(evt: MouseEvent) {\n        let facetEl = evt.target as SVGElement;\n        while (facetEl && !facetEl.classList.contains('facet')) {\n            facetEl = facetEl.parentElement;\n        }\n        const facetRect = (facetEl?.firstChild ?? plot.body).getBoundingClientRect();\n\n        const relativeX = evt.clientX - facetRect.left + (plot.options.marginLeft ?? 0);\n        const relativeY = evt.clientY - facetRect.top + (plot.options.marginTop ?? 0);\n\n        // console.log({ relativeX, relativeY }, evt);\n        updateSelection(relativeX, relativeY);\n    }\n\n    function onPointerLeave() {\n        selectedData = [];\n        if (onupdate) onupdate(selectedData);\n    }\n\n    function updateSelection(ex: number, ey: number) {\n        // find data row with minimum distance to\n        const points = trees.map((tree) =>\n            tree.find(x != null ? ex : 0, y != null ? ey : 0, maxDistance)\n        );\n        // also include other points that share the same x or y value\n        const otherPoints = trees.flatMap((tree, i) => {\n            return tree\n                .data()\n                .filter((d) => d !== points[i])\n                .filter(\n                    (d) =>\n                        (!isFinite(d[POINTER_X]) ||\n                            Math.abs(d[POINTER_X] - points[i]?.[POINTER_X]) < tolerance) &&\n                        (!isFinite(d[POINTER_Y]) ||\n                            Math.abs(d[POINTER_Y] - points[i]?.[POINTER_Y]) < tolerance)\n                );\n        });\n        selectedData = [...points, ...otherPoints].filter((d) => d != null);\n        if (onupdate) onupdate(selectedData);\n    }\n\n    $effect(() => {\n        plot.body?.addEventListener('pointermove', onPointerMove);\n        plot.body?.addEventListener('pointerleave', onPointerLeave);\n\n        return () => {\n            plot.body?.removeEventListener('pointermove', onPointerMove);\n            plot.body?.removeEventListener('pointerleave', onPointerLeave);\n        };\n    });\n\n    const groups = $derived.by(() => {\n        const groups = [];\n        groupFacetsAndZ(indexData(data), { x, y, z, fx, fy }, (d) => groups.push(d));\n        return groups;\n    });\n\n    const trees = $derived(\n        groups.map((items) =>\n            quadtree()\n                .x(x != null ? (d) => d[POINTER_X] : () => 0)\n                .y(y != null ? (d) => d[POINTER_Y] : () => 0)\n                .addAll(\n                    items?.map((d) => {\n                        const [px, py] = projectXY(\n                            plot.scales,\n                            resolveChannel('x', d, { x }),\n                            resolveChannel('y', d, { y }),\n                            true,\n                            true\n                        );\n                        return {\n                            ...(isDataRecord(d) ? d : { [RAW_VALUE]: d }),\n                            [POINTER_X]: px,\n                            [POINTER_Y]: py\n                        };\n                    }) ?? []\n                )\n        )\n    );\n</script>\n\n{#if children}\n    <g class=\"pointer\">\n        {@render children({ data: selectedData })}\n    </g>\n{/if}\n", "<!-- @component\n    Convenience wrapper for rectangles oriented along the x axis \n-->\n\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface RectXMarkProps extends Omit<ComponentProps<typeof Rect>, 'y'> {\n        stack?: Partial<StackOptions>;\n    }\n\n    import Rect from './Rect.svelte';\n    import { intervalY, stackX, recordizeX } from '../index.js';\n    import type { DataRecord } from '../types/index.js';\n    import { type ComponentProps } from 'svelte';\n    import type { StackOptions } from '../transforms/stack.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: RectXMarkProps = $props();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().rect,\n        ...getPlotDefaults().rectX\n    };\n\n    const {\n        data = [{} as Datum],\n        stack,\n        ...options\n    }: RectXMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const args = $derived(stackX(intervalY(recordizeX({ data, ...options }), { plot }), stack));\n</script>\n\n<Rect {...args}></Rect>\n", "<!-- @component\n    Convenience wrapper for rectangles oriented along the x axis \n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface RectYMarkProps extends Omit<ComponentProps<typeof Rect>, 'y'> {\n        stack?: Partial<StackOptions>;\n    }\n    import Rect from './Rect.svelte';\n    import { intervalX, stackY, recordizeY } from '../index.js';\n    import type { DataRecord } from '../types/index.js';\n    import { type ComponentProps } from 'svelte';\n    import type { StackOptions } from '../transforms/stack.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: RectYMarkProps = $props();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().rect,\n        ...getPlotDefaults().rectY\n    };\n\n    const {\n        data = [{} as Datum],\n        stack,\n        ...options\n    }: RectYMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const args = $derived(stackY(intervalX(recordizeY({ data, ...options }), { plot }), stack));\n</script>\n\n<Rect {...args}></Rect>\n", "/**\n * Adapted from vega-statistics by Jeffrey Heer\n * License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n * Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\n */\nexport function points(data, x, y, sort) {\n    data = data.filter((d, i) => {\n        let u = x(d, i), v = y(d, i);\n        return u != null && isFinite(u) && v != null && isFinite(v);\n    });\n    if (sort) {\n        data.sort((a, b) => x(a) - x(b));\n    }\n    const n = data.length, X = new Float64Array(n), Y = new Float64Array(n);\n    // extract values, calculate means\n    let ux = 0, uy = 0, xv, yv, d;\n    for (let i = 0; i < n;) {\n        d = data[i];\n        X[i] = xv = +x(d, i, data);\n        Y[i] = yv = +y(d, i, data);\n        ++i;\n        ux += (xv - ux) / i;\n        uy += (yv - uy) / i;\n    }\n    // mean center the data\n    for (let i = 0; i < n; ++i) {\n        X[i] -= ux;\n        Y[i] -= uy;\n    }\n    return [X, Y, ux, uy];\n}\n/**\n * Iterates over valid data points, invoking a callback for each.\n */\nexport function visitPoints(data, x, y, cb) {\n    let iterations = 0;\n    for (let i = 0; i < data.length; i++) {\n        const d = data[i];\n        const dx = +x(d, i, data);\n        const dy = +y(d, i, data);\n        if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n            cb(dx, dy, iterations++);\n        }\n    }\n}\n", "import { visitPoints } from './points';\n/**\n * Given a dataset, x- and y-accessors, the mean center of the y-values (uY),\n * and a prediction function, return the coefficient of determination, R^2.\n */\nexport function determination(data, x, y, uY, predict) {\n    let SSE = 0, // Sum of Squared Errors\n    SST = 0; // Total Sum of Squares\n    visitPoints(data, x, y, (dx, dy) => {\n        const sse = dy - predict(dx);\n        const sst = dy - uY;\n        SSE += sse * sse;\n        SST += sst * sst;\n    });\n    return 1 - SSE / SST;\n}\n", "/**\n * Ordinary Least Squares from vega-statistics by Jeffrey Heer\n * License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n * Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\n */\nexport function ols(uX, uY, uXY, uX2) {\n    const delta = uX2 - uX * uX, slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta, intercept = uY - slope * uX;\n    return [intercept, slope];\n}\n", "/**\n * Adapted from https://github.com/HarryStevens/d3-regression\n */\nimport { determination } from './utils/determination.js';\nimport { ols } from './utils/ols.js';\nimport { visitPoints } from './utils/points.js';\nexport default function linear() {\n    let x = (d) => d[0], y = (d) => d[1], domain;\n    const linearRegression = function (data) {\n        let n = 0, X = 0, // sum of x\n        Y = 0, // sum of y\n        XY = 0, // sum of x*y\n        X2 = 0, // sum of x*x\n        xmin = domain ? +domain[0] : Infinity, xmax = domain ? +domain[1] : -Infinity;\n        visitPoints(data, x, y, (dx, dy) => {\n            ++n;\n            X += (dx - X) / n;\n            Y += (dy - Y) / n;\n            XY += (dx * dy - XY) / n;\n            X2 += (dx * dx - X2) / n;\n            if (!domain) {\n                if (dx < xmin)\n                    xmin = dx;\n                if (dx > xmax)\n                    xmax = dx;\n            }\n        });\n        const [intercept, slope] = ols(X, Y, XY, X2);\n        const fn = (xx) => slope * xx + intercept;\n        const out = [\n            [xmin, fn(xmin)],\n            [xmax, fn(xmax)]\n        ];\n        out.a = slope;\n        out.b = intercept;\n        out.predict = fn;\n        out.rSquared = determination(data, x, y, Y, fn);\n        return out;\n    };\n    linearRegression.domain = function (arr) {\n        if (!arguments.length)\n            return domain;\n        domain = arr;\n        return linearRegression;\n    };\n    linearRegression.x = function (fn) {\n        if (!arguments.length)\n            return x;\n        x = fn;\n        return linearRegression;\n    };\n    linearRegression.y = function (fn) {\n        if (!arguments.length)\n            return y;\n        y = fn;\n        return linearRegression;\n    };\n    return linearRegression;\n}\n", "/**\n * Returns the angle of a line in degrees.\n */\nexport function angle(line) {\n    return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * (180 / Math.PI);\n}\n/**\n * Returns the midpoint of a line.\n */\nexport function midpoint(line) {\n    return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}\n", "import { angle, midpoint } from './geometry';\n/**\n * Given a start point (xmin), an end point (xmax),\n * and a prediction function, returns a smooth line.\n */\nexport function interpose(xmin, xmax, predict) {\n    const l = (Math.log(xmax - xmin) * Math.LOG10E + 1) | 0;\n    const precision = Math.pow(10, -l / 2 - 1);\n    const maxIter = 1e4;\n    let points = [px(xmin), px(xmax)];\n    let iter = 0;\n    while (find(points) && iter < maxIter)\n        ;\n    return points;\n    function px(x) {\n        return [x, predict(x)];\n    }\n    function find(points) {\n        iter++;\n        const n = points.length;\n        let found = false;\n        for (let i = 0; i < n - 1; i++) {\n            const p0 = points[i];\n            const p1 = points[i + 1];\n            const m = midpoint([p0, p1]);\n            const mp = px(m[0]);\n            const a0 = angle([p0, m]);\n            const a1 = angle([p0, mp]);\n            const a = Math.abs(a0 - a1);\n            if (a > precision) {\n                points.splice(i + 1, 0, mp);\n                found = true;\n            }\n        }\n        return found;\n    }\n}\n", "/**\n * Adapted from https://github.com/HarryStevens/d3-regression\n */\nimport { determination } from './utils/determination.js';\nimport { interpose } from './utils/interpose.js';\nimport { points, visitPoints } from './utils/points.js';\nexport default function quadratic() {\n    let x = (d) => d[0], y = (d) => d[1], domain;\n    const quadraticRegression = function quadraticRegression(data) {\n        const [xv, yv, ux, uy] = points(data, (dd) => x(dd), (dd) => y(dd));\n        const n = xv.length;\n        let X2 = 0, X3 = 0, X4 = 0, XY = 0, X2Y = 0, i, dx, dy, x2;\n        for (i = 0; i < n;) {\n            dx = xv[i];\n            dy = yv[i++];\n            x2 = dx * dx;\n            X2 += (x2 - X2) / i;\n            X3 += (x2 * dx - X3) / i;\n            X4 += (x2 * x2 - X4) / i;\n            XY += (dx * dy - XY) / i;\n            X2Y += (x2 * dy - X2Y) / i;\n        }\n        let Y = 0, n0 = 0, xmin = domain ? +domain[0] : Infinity, xmax = domain ? +domain[1] : -Infinity;\n        visitPoints(data, x, y, (dx2, dy2) => {\n            n0++;\n            Y += (dy2 - Y) / n0;\n            if (!domain) {\n                if (dx2 < xmin)\n                    xmin = dx2;\n                if (dx2 > xmax)\n                    xmax = dx2;\n            }\n        });\n        const X2X2 = X4 - X2 * X2;\n        const d = X2 * X2X2 - X3 * X3;\n        const a = (X2Y * X2 - XY * X3) / d;\n        const b = (XY * X2X2 - X2Y * X3) / d;\n        const c = -a * X2;\n        const fn = (xx) => {\n            const shifted = xx - ux;\n            return a * shifted * shifted + b * shifted + c + uy;\n        };\n        const out = interpose(xmin, xmax, fn);\n        out.a = a;\n        out.b = b - 2 * a * ux;\n        out.c = c - b * ux + a * ux * ux + uy;\n        out.predict = fn;\n        out.rSquared = determination(data, x, y, Y, fn);\n        return out;\n    };\n    quadraticRegression.domain = function (arr) {\n        if (!arguments.length)\n            return domain;\n        domain = arr;\n        return quadraticRegression;\n    };\n    quadraticRegression.x = function (fn) {\n        if (!arguments.length)\n            return x;\n        x = fn;\n        return quadraticRegression;\n    };\n    quadraticRegression.y = function (fn) {\n        if (!arguments.length)\n            return y;\n        y = fn;\n        return quadraticRegression;\n    };\n    return quadraticRegression;\n}\n", "/**\n * Adapted from https://github.com/HarryStevens/d3-regression\n */\n// Adapted from regression-js by Tom Alexander\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\nimport { determination } from './utils/determination';\nimport { interpose } from './utils/interpose';\nimport { points, visitPoints } from './utils/points';\nimport linear from './linear';\nimport quad from './quadratic';\nexport default function polynomial() {\n    let x = (d) => d[0], y = (d) => d[1], order = 3, domain;\n    const polynomialRegression = function polynomialRegression(data) {\n        // Shortcut for lower-order polynomials:\n        if (order === 1) {\n            const o = linear().x(x).y(y).domain(domain)(data);\n            const result = [o[0], o[1]];\n            result.coefficients = [o.b, o.a];\n            result.predict = o.predict;\n            result.rSquared = o.rSquared;\n            return result;\n        }\n        if (order === 2) {\n            const o = quad().x(x).y(y).domain(domain)(data);\n            const result = [o[0], o[1]];\n            result.coefficients = [o.c, o.b, o.a];\n            result.predict = o.predict;\n            result.rSquared = o.rSquared;\n            return result;\n        }\n        const [xv, yv, ux, uy] = points(data, x, y);\n        const n = xv.length;\n        const k = order + 1;\n        const lhs = [];\n        const rhs = [];\n        let Y = 0, n0 = 0, xmin = domain ? +domain[0] : Infinity, xmax = domain ? +domain[1] : -Infinity;\n        visitPoints(data, x, y, (dx, dy) => {\n            n0++;\n            Y += (dy - Y) / n0;\n            if (!domain) {\n                if (dx < xmin)\n                    xmin = dx;\n                if (dx > xmax)\n                    xmax = dx;\n            }\n        });\n        // Build normal equations\n        for (let i = 0; i < k; i++) {\n            // LHS\n            let v = 0;\n            for (let l = 0; l < n; l++) {\n                v += Math.pow(xv[l], i) * yv[l];\n            }\n            lhs.push(v);\n            // RHS\n            const c = new Float64Array(k);\n            for (let j = 0; j < k; j++) {\n                let v2 = 0;\n                for (let l = 0; l < n; l++) {\n                    v2 += Math.pow(xv[l], i + j);\n                }\n                c[j] = v2;\n            }\n            rhs.push(c);\n        }\n        rhs.push(new Float64Array(lhs));\n        const coef = gaussianElimination(rhs);\n        const fn = (xx) => {\n            let shifted = xx - ux;\n            let val = uy + coef[0];\n            for (let i = 1; i < k; i++) {\n                val += coef[i] * Math.pow(shifted, i);\n            }\n            return val;\n        };\n        const out = interpose(xmin, xmax, fn);\n        out.coefficients = uncenter(k, coef, -ux, uy);\n        out.predict = fn;\n        out.rSquared = determination(data, x, y, Y, fn);\n        return out;\n    };\n    polynomialRegression.domain = function (arr) {\n        if (!arguments.length)\n            return domain;\n        domain = arr;\n        return polynomialRegression;\n    };\n    polynomialRegression.x = function (fn) {\n        if (!arguments.length)\n            return x;\n        x = fn;\n        return polynomialRegression;\n    };\n    polynomialRegression.y = function (fn) {\n        if (!arguments.length)\n            return y;\n        y = fn;\n        return polynomialRegression;\n    };\n    polynomialRegression.order = function (n) {\n        if (!arguments.length)\n            return order;\n        order = n;\n        return polynomialRegression;\n    };\n    return polynomialRegression;\n}\nfunction uncenter(k, a, x, y) {\n    const z = new Array(k).fill(0);\n    for (let i = k - 1; i >= 0; --i) {\n        let v = a[i];\n        z[i] += v;\n        let c = 1;\n        for (let j = 1; j <= i; ++j) {\n            c *= (i + 1 - j) / j; // binomial coefficient\n            z[i - j] += v * Math.pow(x, j) * c;\n        }\n    }\n    // bias term\n    z[0] += y;\n    return z;\n}\n// Solve A * x = b using Gaussian elimination\nfunction gaussianElimination(matrix) {\n    const n = matrix.length - 1;\n    const coef = new Array(n);\n    for (let i = 0; i < n; i++) {\n        let r = i;\n        // find pivot row\n        for (let j = i + 1; j < n; j++) {\n            if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n                r = j;\n            }\n        }\n        // swap columns\n        for (let k = i; k < n + 1; k++) {\n            const t = matrix[k][i];\n            matrix[k][i] = matrix[k][r];\n            matrix[k][r] = t;\n        }\n        // reduce\n        for (let j = i + 1; j < n; j++) {\n            for (let k = n; k >= i; k--) {\n                matrix[k][j] -= (matrix[k][i] * matrix[i][j]) / matrix[i][i];\n            }\n        }\n    }\n    for (let j = n - 1; j >= 0; j--) {\n        let t = 0;\n        for (let k = j + 1; k < n; k++) {\n            t += matrix[k][j] * coef[k];\n        }\n        coef[j] = (matrix[n][j] - t) / matrix[j][j];\n    }\n    return coef;\n}\n", "/**\n * Adapted from https://github.com/HarryStevens/d3-regression\n */\nimport { determination } from './utils/determination.js';\nimport { interpose } from './utils/interpose.js';\nimport { ols } from './utils/ols.js';\nimport { visitPoints } from './utils/points.js';\nexport default function exponential() {\n    let y = (d) => d[1], x = (d) => d[0], domain;\n    const exponentialRegression = function (data) {\n        let n = 0, Y = 0, YL = 0, XY = 0, XYL = 0, X2Y = 0, xmin = domain ? +domain[0] : Infinity, xmax = domain ? +domain[1] : -Infinity;\n        visitPoints(data, x, y, (dx, dy) => {\n            const ly = Math.log(dy), xy = dx * dy;\n            ++n;\n            Y += (dy - Y) / n;\n            XY += (xy - XY) / n;\n            X2Y += (dx * xy - X2Y) / n;\n            YL += (dy * ly - YL) / n;\n            XYL += (xy * ly - XYL) / n;\n            if (!domain) {\n                if (dx < xmin)\n                    xmin = dx;\n                if (dx > xmax)\n                    xmax = dx;\n            }\n        });\n        let [a, b] = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y);\n        a = Math.exp(a);\n        const fn = (xx) => a * Math.exp(b * xx);\n        const out = interpose(xmin, xmax, fn);\n        out.a = a;\n        out.b = b;\n        out.predict = fn;\n        out.rSquared = determination(data, x, y, Y, fn);\n        return out;\n    };\n    exponentialRegression.domain = function (arr) {\n        if (!arguments.length)\n            return domain;\n        domain = arr;\n        return exponentialRegression;\n    };\n    exponentialRegression.x = function (fn) {\n        if (!arguments.length)\n            return x;\n        x = fn;\n        return exponentialRegression;\n    };\n    exponentialRegression.y = function (fn) {\n        if (!arguments.length)\n            return y;\n        y = fn;\n        return exponentialRegression;\n    };\n    return exponentialRegression;\n}\n", "/**\n * Adapted from https://github.com/HarryStevens/d3-regression\n */\nimport { determination } from './utils/determination.js';\nimport { interpose } from './utils/interpose.js';\nimport { ols } from './utils/ols.js';\nimport { visitPoints } from './utils/points.js';\nexport default function logarithmic() {\n    let x = (d) => d[0], y = (d) => d[1], base = Math.E, domain;\n    const logarithmicRegression = function (data) {\n        let n = 0, X = 0, Y = 0, XY = 0, X2 = 0, xmin = domain ? +domain[0] : Infinity, xmax = domain ? +domain[1] : -Infinity, lb = Math.log(base);\n        visitPoints(data, x, y, (dx, dy) => {\n            const lx = Math.log(dx) / lb;\n            ++n;\n            X += (lx - X) / n;\n            Y += (dy - Y) / n;\n            XY += (lx * dy - XY) / n;\n            X2 += (lx * lx - X2) / n;\n            if (!domain) {\n                if (dx < xmin)\n                    xmin = dx;\n                if (dx > xmax)\n                    xmax = dx;\n            }\n        });\n        const [intercept, slope] = ols(X, Y, XY, X2);\n        const fn = (xx) => (slope * Math.log(xx)) / lb + intercept;\n        const out = interpose(xmin, xmax, fn);\n        out.a = slope;\n        out.b = intercept;\n        out.predict = fn;\n        out.rSquared = determination(data, x, y, Y, fn);\n        return out;\n    };\n    logarithmicRegression.domain = function (arr) {\n        if (!arguments.length)\n            return domain;\n        domain = arr;\n        return logarithmicRegression;\n    };\n    logarithmicRegression.x = function (fn) {\n        if (!arguments.length)\n            return x;\n        x = fn;\n        return logarithmicRegression;\n    };\n    logarithmicRegression.y = function (fn) {\n        if (!arguments.length)\n            return y;\n        y = fn;\n        return logarithmicRegression;\n    };\n    logarithmicRegression.base = function (b) {\n        if (!arguments.length)\n            return base;\n        base = b;\n        return logarithmicRegression;\n    };\n    return logarithmicRegression;\n}\n", "/**\n * Adapted from https://github.com/HarryStevens/d3-regression\n */\nimport { determination } from './utils/determination.js';\nimport { interpose } from './utils/interpose.js';\nimport { ols } from './utils/ols.js';\nimport { visitPoints } from './utils/points.js';\nexport default function power() {\n    let x = (d) => d[0], y = (d) => d[1], domain;\n    const powerRegression = function powerRegression(data) {\n        let n = 0, X = 0, Y = 0, XY = 0, X2 = 0, YS = 0, xmin = domain ? +domain[0] : Infinity, xmax = domain ? +domain[1] : -Infinity;\n        visitPoints(data, x, y, (dx, dy) => {\n            const lx = Math.log(dx), ly = Math.log(dy);\n            ++n;\n            X += (lx - X) / n;\n            Y += (ly - Y) / n;\n            XY += (lx * ly - XY) / n;\n            X2 += (lx * lx - X2) / n;\n            YS += (dy - YS) / n;\n            if (!domain) {\n                if (dx < xmin)\n                    xmin = dx;\n                if (dx > xmax)\n                    xmax = dx;\n            }\n        });\n        let [a, b] = ols(X, Y, XY, X2);\n        a = Math.exp(a);\n        const fn = (xx) => a * Math.pow(xx, b);\n        const out = interpose(xmin, xmax, fn);\n        out.a = a;\n        out.b = b;\n        out.predict = fn;\n        out.rSquared = determination(data, x, y, YS, fn);\n        return out;\n    };\n    powerRegression.domain = function (arr) {\n        if (!arguments.length)\n            return domain;\n        domain = arr;\n        return powerRegression;\n    };\n    powerRegression.x = function (fn) {\n        if (!arguments.length)\n            return x;\n        x = fn;\n        return powerRegression;\n    };\n    powerRegression.y = function (fn) {\n        if (!arguments.length)\n            return y;\n        y = fn;\n        return powerRegression;\n    };\n    return powerRegression;\n}\n", "/**\n * Returns the median value of an array of numbers.\n */\nexport function median(arr) {\n    arr.sort((a, b) => a - b);\n    var i = arr.length / 2;\n    return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}\n", "/**\n * Adapted from https://github.com/HarryStevens/d3-regression\n */\n// Adapted from science.js by Jason Davies\n// License: https://github.com/jasondavies/science.js/blob/master/LICENSE\n// Source: https://github.com/jasondavies/science.js/blob/master/src/stats/loess.js\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/loess.js\nimport { median } from './utils/median.js';\nimport { ols } from './utils/ols.js';\nimport { points } from './utils/points.js';\nconst maxiters = 2, epsilon = 1e-12;\nexport default function loess() {\n    let x = (d) => d[0], y = (d) => d[1], bandwidth = 0.3;\n    const loessRegression = function loessRegression(data) {\n        const [xv, yv, ux, uy] = points(data, (dd) => x(dd), (dd) => y(dd), true);\n        const n = xv.length;\n        const bw = Math.max(2, ~~(bandwidth * n)); // # of nearest neighbors\n        const yhat = new Float64Array(n);\n        const residuals = new Float64Array(n);\n        const robustWeights = new Float64Array(n).fill(1);\n        for (let iter = -1; ++iter <= maxiters;) {\n            const interval = [0, bw - 1];\n            for (let i = 0; i < n; ++i) {\n                const dx = xv[i];\n                const i0 = interval[0];\n                const i1 = interval[1];\n                const edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n                let W = 0, X = 0, Y = 0, XY = 0, X2 = 0;\n                const denom = 1 / Math.abs(xv[edge] - dx || 1);\n                for (let k = i0; k <= i1; ++k) {\n                    const xk = xv[k];\n                    const yk = yv[k];\n                    const w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k];\n                    const xkw = xk * w;\n                    W += w;\n                    X += xkw;\n                    Y += yk * w;\n                    XY += yk * xkw;\n                    X2 += xk * xkw;\n                }\n                // Linear regression fit\n                const [a, b] = ols(X / W, Y / W, XY / W, X2 / W);\n                yhat[i] = a + b * dx;\n                residuals[i] = Math.abs(yv[i] - yhat[i]);\n                updateInterval(xv, i + 1, interval);\n            }\n            if (iter === maxiters) {\n                break;\n            }\n            const medianResidual = median(residuals);\n            if (Math.abs(medianResidual) < epsilon)\n                break;\n            for (let i = 0, arg, w; i < n; ++i) {\n                arg = residuals[i] / (6 * medianResidual);\n                // Default to epsilon (rather than zero) for large deviations\n                // Keeping weights tiny but non-zero prevents singularites\n                robustWeights[i] = arg >= 1 ? epsilon : (w = 1 - arg * arg) * w;\n            }\n        }\n        return output(xv, yhat, ux, uy);\n    };\n    loessRegression.bandwidth = function (bw) {\n        if (!arguments.length)\n            return bandwidth;\n        bandwidth = bw;\n        return loessRegression;\n    };\n    loessRegression.x = function (fn) {\n        if (!arguments.length)\n            return x;\n        x = fn;\n        return loessRegression;\n    };\n    loessRegression.y = function (fn) {\n        if (!arguments.length)\n            return y;\n        y = fn;\n        return loessRegression;\n    };\n    return loessRegression;\n}\n// Weighting kernel for local regression\nfunction tricube(x) {\n    return (x = 1 - x * x * x) * x * x;\n}\n// Advance sliding window interval of nearest neighbors\nfunction updateInterval(xv, i, interval) {\n    let val = xv[i], left = interval[0], right = interval[1] + 1;\n    if (right >= xv.length)\n        return;\n    // Step right if distance to new right edge is <= distance to old left edge\n    // Step when distance is equal to ensure movement over duplicate x values\n    while (i > left && xv[right] - val <= val - xv[left]) {\n        interval[0] = ++left;\n        interval[1] = right;\n        ++right;\n    }\n}\n// Generate smoothed output points\n// Average points with repeated x values\nfunction output(xv, yhat, ux, uy) {\n    const n = xv.length, out = [];\n    let i = 0, cnt = 0, prev = [], v;\n    for (; i < n; ++i) {\n        v = xv[i] + ux;\n        if (prev[0] === v) {\n            // Average output values via online update\n            prev[1] += (yhat[i] - prev[1]) / ++cnt;\n        }\n        else {\n            // Add new output point\n            cnt = 0;\n            prev[1] += uy;\n            prev = [v, yhat[i]];\n            out.push(prev);\n        }\n    }\n    prev[1] += uy;\n    return out;\n}\n", "import { sum } from 'd3-array';\n/**\nReturns the normal deviate Z corresponding to a given lower tail area of P; Z is accurate to about 1 part in 10**16.\n\nWichura, M. J. (1988) Algorithm AS 241: The percentage points of the normal distribution. Applied Statistics, 37, 477–484.\n\nextension of:\nBeasley, J. D./ Springer, S. G. (1977), The percentage points of the NormalDistribution, Applied Statistics. 26, 118–121.\n\nExcel: STANDNORMINV(); R: qnorm()\n**/\nexport function normdev(p) {\n    if (p < 0 || p > 1)\n        return false;\n    if (p == 0)\n        return -Infinity;\n    if (p == 1)\n        return Infinity;\n    const a0 = 3.387132872796366608, a1 = 1.3314166789178437745e2, a2 = 1.9715909503065514427e3, a3 = 1.3731693765509461125e4, a4 = 4.5921953931549871457e4, a5 = 6.7265770927008700853e4, a6 = 3.3430575583588128105e4, a7 = 2.5090809287301226727e3, b1 = 4.2313330701600911252e1, b2 = 6.871870074920579083e2, b3 = 5.3941960214247511077e3, b4 = 2.1213794301586595867e4, b5 = 3.930789580009271061e4, b6 = 2.8729085735721942674e4, b7 = 5.226495278852854561e3, c0 = 1.42343711074968357734, c1 = 4.6303378461565452959, c2 = 5.7694972214606914055, c3 = 3.64784832476320460504, c4 = 1.27045825245236838258, c5 = 2.4178072517745061177e-1, c6 = 2.27238449892691845833e-2, c7 = 7.7454501427834140764e-4, d1 = 2.05319162663775882187, d2 = 1.6763848301838038494, d3 = 6.8976733498510000455e-1, d4 = 1.4810397642748007459e-1, d5 = 1.51986665636164571966e-2, d6 = 5.475938084995344946e-4, d7 = 1.05075007164441684324e-9, e0 = 6.6579046435011037772, e1 = 5.4637849111641143699, e2 = 1.7848265399172913358, e3 = 2.9656057182850489123e-1, e4 = 2.6532189526576123093e-2, e5 = 1.2426609473880784386e-3, e6 = 2.71155556874348757815e-5, e7 = 2.01033439929228813265e-7, f1 = 5.9983220655588793769e-1, f2 = 1.3692988092273580531e-1, f3 = 1.48753612908506148525e-2, f4 = 7.868691311456132591e-4, f5 = 1.8463183175100546818e-5, f6 = 1.4215117583164458887e-7, f7 = 2.04426310338993978564e-15;\n    const q = p - 0.5;\n    let r, z;\n    // p close to 0.5\n    if (Math.abs(q) <= 0.425) {\n        r = 0.180625 - q * q;\n        z =\n            (q * (((((((a7 * r + a6) * r + a5) * r + a4) * r + a3) * r + a2) * r + a1) * r + a0)) /\n                (((((((b7 * r + b6) * r + b5) * r + b4) * r + b3) * r + b2) * r + b1) * r + 1);\n        return z;\n    }\n    if (q > 0)\n        r = 1 - p;\n    else\n        r = p;\n    r = Math.sqrt(-Math.log(r));\n    // p neither close to 0.5 nor 0 or 1\n    if (r <= 5) {\n        r += -1.6;\n        z =\n            (((((((c7 * r + c6) * r + c5) * r + c4) * r + c3) * r + c2) * r + c1) * r + c0) /\n                (((((((d7 * r + d6) * r + d5) * r + d4) * r + d3) * r + d2) * r + d1) * r + 1);\n    }\n    // p near 0 or 1\n    else {\n        r += -5;\n        z =\n            (((((((e7 * r + e6) * r + e5) * r + e4) * r + e3) * r + e2) * r + e1) * r + e0) /\n                (((((((f7 * r + f6) * r + f5) * r + f4) * r + f3) * r + f2) * r + f1) * r + 1);\n    }\n    if (q < 0.0)\n        z = -z;\n    return z;\n}\n/*\nHill's approximated inverse t-distribution calculates t given df and two-tail probability:\nHill, G. W. (1970), Algorithm 396: Student's t-quantiles. Communications of the ACM, 13(10), 619–620.\n\nResult should be \"correct to at least 6 significant digits even for the analytic continuation through noninteger values of n > 5\". For higher precision (used in R, ...) see:\nHill, G. W. (1981) Remark on Algorithm 396, ACM Transactions on Mathematical Software, 7, 250–1.\n\nExcel: TINV(); R: qt()\n*/\nfunction inverseT(p, df) {\n    const { sin, cos, sqrt, pow, exp, PI } = Math;\n    //   let a, b, c, d, t, x, y;\n    if (df == 1)\n        return cos((p * PI) / 2) / sin((p * PI) / 2);\n    if (df == 2)\n        return sqrt(2 / (p * (2 - p)) - 2);\n    const a = 1 / (df - 0.5);\n    const b = 48 / (a * a);\n    let c = (((20700 * a) / b - 98) * a - 16) * a + 96.36;\n    const d = ((94.5 / (b + c) - 3) / b + 1) * sqrt(a * PI * 0.5) * df;\n    let x = d * p;\n    let y = pow(x, 2 / df);\n    if (y > 0.05 + a) {\n        // The procedure normdev(p) is assumed to return a negative normal\n        // deviate at the lower tail probability level p, e.g. -2.32 for p = 0.01.\n        const _x = normdev(p / 2);\n        if (_x === false) {\n            throw new Error('normdev returned false for p/2 in inverseT');\n        }\n        else {\n            x = _x;\n        }\n        y = x * x;\n        if (df < 5)\n            c = c + 0.3 * (df - 4.5) * (x + 0.6);\n        c = (((0.05 * d * x - 5) * x - 7) * x - 2) * x + b + c;\n        y = (((((0.4 * y + 6.3) * y + 36) * y + 94.5) / c - y - 3) / b + 1) * x;\n        y = a * y * y;\n        if (y > 0.002)\n            y = exp(y) - 1;\n        else\n            y = 0.5 * y * y + y;\n    }\n    else {\n        y =\n            (((1 / (((df + 6) / (df * y) - 0.089 * d - 0.822) * (df + 2) * 3) + 0.5 / (df + 4)) *\n                y -\n                1) *\n                (df + 1)) /\n                (df + 2) +\n                1 / y;\n    }\n    return sqrt(df * y);\n}\n// https://stats.stackexchange.com/questions/101318/understanding-shape-and-calculation-of-confidence-bands-in-linear-regression\nexport function confidenceInterval(data, predict, confidenceLevel) {\n    const mean = sum(data, (d) => d.x) / data.length;\n    let a = 0, b = 0;\n    for (let i = 0; i < data.length; ++i) {\n        a += Math.pow(data[i].x - mean, 2);\n        b += Math.pow(data[i].y - predict(data[i].x), 2);\n    }\n    const sy = Math.sqrt(b / (data.length - 2));\n    const t = inverseT(+confidenceLevel, data.length - 2);\n    return function (x) {\n        const Y = predict(x);\n        const se = sy * Math.sqrt(1 / data.length + Math.pow(x - mean, 2) / a);\n        return { x, left: Y - t * se, right: Y + t * se };\n    };\n}\n", "<script module lang=\"ts\">\n    import type { BaseMarkProps, ChannelAccessor, FacetContext } from '../../types/index.js';\n\n    type RegressionType = 'linear' | 'quad' | 'poly' | 'exp' | 'log' | 'pow' | 'loess';\n\n    export type RegressionMarkProps = BaseMarkProps & {\n        x: ChannelAccessor;\n        y: ChannelAccessor;\n        type: RegressionType;\n        /**\n         * If order is specified, sets the regression's order to the specified number.\n         * For example, if order is set to 4, the regression generator will perform a\n         * fourth-degree polynomial regression. Likewise, if order is set to 2, the\n         * regression generator will perform a quadratic regression. Be careful about\n         * attempting to fit your data with higher order polynomials; though the\n         * regression line will fit your data with a high determination coefficient,\n         * it may have little predictive power for data outside of your domain.\n         */\n        order: number;\n        // for log\n        base: number;\n        // for loess\n        span: number;\n        // for confidence bands\n        confidence: number;\n    };\n</script>\n\n<script lang=\"ts\">\n    import { getContext } from 'svelte';\n    import { Line, Area } from '../../index.js';\n\n    import {\n        regressionLinear,\n        regressionQuad,\n        regressionPoly,\n        regressionExp,\n        regressionLog,\n        regressionPow,\n        regressionLoess\n    } from '../../regression/index.js';\n    import { resolveChannel } from '../../helpers/resolve.js';\n    import { confidenceInterval } from '../../helpers/math.js';\n    import callWithProps from '../../helpers/callWithProps.js';\n    import { isDate } from '../../helpers/typeChecks.js';\n\n    const regressions = new Map<RegressionType, typeof regressionLinear>([\n        ['linear', regressionLinear],\n        ['quad', regressionQuad],\n        ['poly', regressionPoly],\n        ['exp', regressionExp],\n        ['log', regressionLog],\n        ['pow', regressionPow],\n        ['loess', regressionLoess]\n    ]);\n\n    function maybeRegression(name: string) {\n        name = `${name}`.toLowerCase();\n        if (regressions.has(name)) return regressions.get(name);\n        throw new Error('unknown regression ' + name);\n    }\n\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    const plot = usePlot();\n\n    let {\n        data,\n        dependent,\n        type = 'linear',\n        order = 3,\n        base = 2.71828,\n        span = 0.3,\n        confidence = 0.99,\n        class: className = null,\n        ...options\n    }: RegressionMarkProps & { dependent: 'x' | 'y' } = $props();\n\n    const { getTestFacet } = getContext<FacetContext>('svelteplot/facet');\n    let testFacet = $derived(getTestFacet());\n\n    let filteredData = $derived(data.filter((d) => testFacet(d, options)));\n\n    let independent: 'x' | 'y' = $derived(dependent === 'x' ? 'y' : 'x');\n\n    let regressionFn = $derived(maybeRegression(type));\n\n    let regression = $derived(\n        callWithProps(regressionFn, [], {\n            x: (d) => resolveChannel(independent, d, options),\n            y: (d) => resolveChannel(dependent, d, options),\n            ...(type === 'poly' ? { order } : {}),\n            ...(type === 'log' ? { base } : {}),\n            ...(!type.startsWith('loess') ? { domain: plot.scales[independent].domain } : {}),\n            ...(type === 'loess' ? { bandwidth: span } : {})\n        })(filteredData)\n    );\n\n    let regrPoints = $derived([\n        ...new Set([\n            plot.scales[independent].domain[0],\n            ...plot.scales[independent].fn.ticks(40),\n            plot.scales[independent].domain[1]\n        ])\n    ]);\n\n    let regrData = $derived(\n        regression.predictMany\n            ? regression.predictMany(regrPoints).map((__y, i) => ({ __x: regrPoints[i], __y }))\n            : regression.predict\n              ? regrPoints.map((__x) => {\n                    // const __x = x;\n                    const __y = regression.predict(__x);\n                    return { __x, __y };\n                })\n              : regression.map(([__x, __y]) => ({\n                    __x: plot.scales[independent].type === 'time' ? new Date(__x) : __x,\n                    __y\n                }))\n    );\n\n    let stroke = $derived(\n        options.stroke != null ? resolveChannel('stroke', filteredData[0], options) : null\n    );\n\n    let confBandGen = $derived(\n        confidence !== false && regression.predict\n            ? confidenceInterval(\n                  data\n                      .map((d) => ({\n                          x: resolveChannel(independent, d, options),\n                          y: resolveChannel(dependent, d, options)\n                      }))\n                      .filter(\n                          ({ x, y }) => (Number.isFinite(x) || isDate(x)) && Number.isFinite(y)\n                      ),\n                  regression.predict,\n                  1 - confidence\n              )\n            : null\n    );\n\n    let confBandData = $derived(\n        confidence !== false && regression.predict\n            ? regrPoints.map((x) => {\n                  const { x: __x, left, right } = confBandGen(x);\n                  return { __x, __y1: left, __y2: right };\n              })\n            : []\n    );\n</script>\n\n{#if filteredData.length}\n    <g class=\"regression-{independent} {className || ''}\">\n        <Line\n            data={regrData}\n            {...{\n                ...options,\n                fx: null,\n                fy: null,\n                stroke,\n                x: dependent === 'y' ? '__x' : '__y',\n                y: dependent === 'y' ? '__y' : '__x'\n            }} />\n        {#if confBandData.length}\n            <Area\n                data={confBandData}\n                {...dependent === 'y'\n                    ? { x1: '__x', y1: '__y1', y2: '__y2' }\n                    : { y1: '__x', x1: '__y1', x2: '__y2' }}\n                fill={stroke || 'currentColor'}\n                opacity={0.15} />\n        {/if}\n    </g>\n{/if}\n", "<!-- @component\n    Calculates and displays a regression line with x as the dependent variable\n-->\n\n<script module lang=\"ts\">\n    export type RegressionXMarkProps = RegressionMarkProps;\n</script>\n\n<script lang=\"ts\">\n    import { resolveChannel } from '../helpers/resolve.js';\n    import type { ChannelName } from '../types/index.js';\n    import Mark from '../Mark.svelte';\n    import Regression, { type RegressionMarkProps } from './helpers/Regression.svelte';\n    import { groups as d3Groups } from 'd3-array';\n\n    let { data = [{}], ...options }: RegressionXMarkProps = $props();\n\n    let groupBy: ChannelName | null =\n        options.stroke != null ? 'stroke' : options.z != null ? 'z' : null;\n    // separate groups\n    let groups = $derived(\n        groupBy !== null\n            ? d3Groups(data, (d) => resolveChannel(groupBy as ChannelName, d, options)).map(\n                  (g) => g[1]\n              )\n            : [data]\n    );\n</script>\n\n<Mark type=\"regression\">\n    {#each groups as group, g (g)}\n        <Regression data={group} dependent=\"x\" {...options} />\n    {/each}\n</Mark>\n", "<!-- @component\n    Calculates and displays a regression line with y as the dependent variable\n-->\n<script module lang=\"ts\">\n    export type RegressionYMarkProps = RegressionMarkProps;\n</script>\n\n<script lang=\"ts\">\n    import { resolveChannel } from '../helpers/resolve.js';\n    import type { ChannelName } from '../types/index.js';\n    import Mark from '../Mark.svelte';\n    import Regression, { type RegressionMarkProps } from './helpers/Regression.svelte';\n    import { groups as d3Groups } from 'd3-array';\n\n    let { data = [{}], ...options }: RegressionYMarkProps = $props();\n\n    let groupBy: ChannelName | null =\n        options.stroke != null ? 'stroke' : options.z != null ? 'z' : null;\n    // separate groups\n    let groups = $derived(\n        groupBy !== null\n            ? d3Groups(data, (d) => resolveChannel(groupBy as ChannelName, d, options)).map(\n                  (g) => g[1]\n              )\n            : [data]\n    );\n</script>\n\n<Mark type=\"regression\">\n    {#each groups as group, i (i)}\n        <Regression data={group} dependent=\"y\" {...options} />\n    {/each}\n</Mark>\n", "<!-- @component\n    Renders vertical rule lines at specified x positions with customizable vertical range\n-->\n<script lang=\"ts\" generics=\"Datum = DataRecord | RawValue\">\n    interface RuleXMarkProps extends Omit<BaseMarkProps<Datum>, 'fill' | 'fillOpacity'> {\n        data?: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y1?: ChannelAccessor<Datum>;\n        y2?: ChannelAccessor<Datum>;\n        inset?: ConstantAccessor<number, Datum>;\n        insetTop?: ConstantAccessor<number, Datum>;\n        insetBottom?: ConstantAccessor<number, Datum>;\n    }\n    import Mark from '../Mark.svelte';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import { recordizeX } from '../transforms/recordize.js';\n    import { resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        ConstantAccessor,\n        ChannelAccessor,\n        RawValue\n    } from '../types/index.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: RuleXMarkProps = $props();\n    const DEFAULTS = {\n        ...getPlotDefaults().rule,\n        ...getPlotDefaults().ruleX\n    };\n    const {\n        data = [{} as Datum],\n        class: className = '',\n        ...options\n    }: RuleXMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n    const args = $derived(recordizeX({ data, ...options }, { withIndex: false }));\n</script>\n\n<Mark\n    type=\"ruleX\"\n    channels={['x', 'y1', 'y2', 'stroke', 'opacity', 'strokeOpacity']}\n    {...markProps}\n    {...args}>\n    {#snippet children({ mark, scaledData, usedScales })}\n        <GroupMultiple class=\"rule-x {className || ''}\" length={className ? 2 : scaledData.length}>\n            {#each scaledData as d, i (i)}\n                {@const inset = resolveProp(args.inset, d.datum, 0)}\n                {@const insetTop = resolveProp(args.insetTop, d.datum, 0)}\n                {@const insetBottom = resolveProp(args.insetBottom, d.datum, 0)}\n                {@const [style, styleClass] = resolveStyles(plot, d, args, 'stroke', usedScales)}\n                <line\n                    transform=\"translate({d.x}, 0)\"\n                    {style}\n                    class={[styleClass]}\n                    y1={(inset || insetTop) + (d.y1 != null ? d.y1 : plot.options.marginTop + d.dy)}\n                    y2={(d.y2 != null ? d.y2 : plot.facetHeight + plot.options.marginTop + d.dy) -\n                        (inset || insetBottom)} />\n            {/each}\n        </GroupMultiple>\n    {/snippet}\n</Mark>\n", "<!-- @component\n    Renders horizontal rule lines at specified y positions with customizable horizontal range\n-->\n<script lang=\"ts\" generics=\"Datum = DataRecord\">\n    interface RuleYMarkProps extends Omit<BaseMarkProps<Datum>, 'fill' | 'fillOpacity'> {\n        data?: Datum[];\n        y?: ChannelAccessor<Datum>;\n        x1?: ChannelAccessor<Datum>;\n        x2?: ChannelAccessor<Datum>;\n        inset?: ConstantAccessor<number, Datum>;\n        insetLeft?: ConstantAccessor<number, Datum>;\n        insetRight?: ConstantAccessor<number, Datum>;\n    }\n    import Mark from '../Mark.svelte';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import { recordizeY } from '../transforms/recordize.js';\n    import { resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        ConstantAccessor,\n        ChannelAccessor\n    } from '../types/index.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { IS_SORTED } from '../transforms/sort';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: RuleYMarkProps = $props();\n    const DEFAULTS = {\n        ...getPlotDefaults().rule,\n        ...getPlotDefaults().ruleY\n    };\n    const {\n        data = [{} as Datum],\n        class: className = '',\n        ...options\n    }: RuleYMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n    const args = $derived(recordizeY({ data, ...options }, { withIndex: false }));\n</script>\n\n<Mark\n    type=\"ruleY\"\n    channels={['y', 'x1', 'x2', 'stroke', 'opacity', 'strokeOpacity']}\n    {...markProps}\n    {...args}>\n    {#snippet children({ scaledData, usedScales })}\n        <GroupMultiple class=\"rule-y {className || ''}\" length={className ? 2 : args.data.length}>\n            {#each scaledData as d, i (i)}\n                {@const inset = resolveProp(args.inset, d.datum, 0)}\n                {@const insetLeft = resolveProp(args.insetLeft, d.datum, 0)}\n                {@const insetRight = resolveProp(args.insetRight, d.datum, 0)}\n                {@const [style, styleClass] = resolveStyles(plot, d, args, 'stroke', usedScales)}\n                <line\n                    transform=\"translate(0, {d.y})\"\n                    {style}\n                    class={[styleClass]}\n                    x1={(inset || insetLeft) +\n                        (d.x1 != null ? d.x1 : plot.options.marginLeft + d.dx)}\n                    x2={(d.x2 != null ? d.x2 : plot.facetWidth + plot.options.marginLeft + d.dx) -\n                        (inset || insetRight)} />\n            {/each}\n        </GroupMultiple>\n    {/snippet}\n</Mark>\n", "<!-- @component\n    Geo mark with Sphere geometry object  -->\n\n<script lang=\"ts\">\n    interface SphereMarkProps\n        extends BaseMarkProps<GeoJSON.GeoJsonObject>, LinkableMarkProps<GeoJSON.GeoJsonObject> {}\n\n    import Geo from './Geo.svelte';\n    import type { BaseMarkProps, LinkableMarkProps, PlotDefaults } from '../types/index.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n\n    let markProps: SphereMarkProps = $props();\n\n    const DEFAULTS = {\n        ...getPlotDefaults().sphere\n    };\n\n    const { ...options }: SphereMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n</script>\n\n<Geo data={[{ type: 'Sphere' }]} {...options} geoType=\"sphere\" />\n", "<!--\n    @component\n    The vector mark lets you place shapes (like arrows) on your plot.\n-->\n<script lang=\"ts\" module>\n    type D3Path = ReturnType<typeof import('d3-path').path>;\n    export type ShapeRenderer = {\n        draw(context: D3Path, l: number, r: number): void;\n    };\n</script>\n\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface VectorMarkProps extends BaseMarkProps<Datum> {\n        data: Datum[];\n        x: ChannelAccessor<Datum>;\n        y: ChannelAccessor<Datum>;\n        r?: number;\n        length?: ChannelAccessor<Datum>;\n        rotate?: ChannelAccessor<Datum>;\n        /**\n         * Controls where the vector is anchored in relation to the x, y position.\n         * If set to 'start', the arrow will start at the x, y position. If set to\n         * 'middle', the arrow will be centered at the x, y position. If set to\n         * 'end', the arrow will end at the x, y position.\n         */\n        anchor?: 'start' | 'middle' | 'end';\n        shape?: 'arrow' | 'spike' | 'arrow-filled' | ShapeRenderer;\n        children?: Snippet;\n        canvas?: boolean;\n    }\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        ChannelAccessor,\n        FacetContext\n    } from '../types/index.js';\n\n    import { getContext, type Snippet } from 'svelte';\n    import { pathRound as path } from 'd3-path';\n\n    import { resolveChannel, resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import { sort } from '../index.js';\n    import Mark from '../Mark.svelte';\n    //import DotCanvas from './helpers/DotCanvas.svelte';\n    import { isValid } from '../helpers/index.js';\n    import { addEventHandlers } from './helpers/events.js';\n    import { indexData } from '../transforms/recordize.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const defaultRadius = 3.5;\n\n    // The size of the arrowhead is proportional to its length, but we still allow\n    // the relative size of the head to be controlled via the mark's width option;\n    // doubling the default radius will produce an arrowhead that is twice as big.\n    // That said, we'll probably want a arrow with a fixed head size, too.\n    const wingRatio = defaultRadius * 5;\n\n    let markProps: VectorMarkProps = $props();\n    const DEFAULTS = {\n        ...getPlotDefaults().vector\n    };\n    const {\n        data = [{}],\n        canvas,\n        shape = 'arrow',\n        anchor = 'middle',\n        r = defaultRadius,\n        ...options\n    }: VectorMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const plot = usePlot();\n\n    const { getTestFacet } = getContext<FacetContext>('svelteplot/facet');\n    const testFacet = $derived(getTestFacet());\n\n    const shapeArrow: ShapeRenderer = {\n        draw(context: D3Path, l: number, r: number) {\n            const wing = (l * r) / wingRatio;\n            context.moveTo(0, 0);\n            context.lineTo(0, -l);\n            context.moveTo(-wing, wing - l);\n            context.lineTo(0, -l);\n            context.lineTo(wing, wing - l);\n        }\n    };\n\n    const shapeSpike: ShapeRenderer = {\n        draw(context: D3Path, l: number, r: number) {\n            context.moveTo(-r, 0);\n            context.lineTo(0, -l);\n            context.lineTo(r, 0);\n        }\n    };\n\n    const shapeArrowFilled: ShapeRenderer = {\n        draw(context: D3Path, l: number, r: number) {\n            // const wing = (l * r) / wingRatio;\n            const headLength = Math.max(3, l * 0.3);\n            const headSpike = headLength * 0.2;\n            const headWidth = Math.max(2, l * 0.3);\n            const tailWidth = Math.max(2, l * 0.3) * 0.3;\n\n            context.moveTo(0, 0);\n\n            context.lineTo(tailWidth * 0.5, -l + headLength - headSpike);\n            context.lineTo(headWidth * 0.5, -l + headLength);\n            context.lineTo(0, -l);\n            context.lineTo(-headWidth * 0.5, -l + headLength);\n            context.lineTo(-tailWidth * 0.5, -l + headLength - headSpike);\n\n            context.closePath();\n        }\n    };\n\n    const shapes = new Map([\n        ['arrow', shapeArrow],\n        ['arrow-filled', shapeArrowFilled],\n        ['spike', shapeSpike]\n    ]);\n\n    function isShapeObject(value: any): value is ShapeRenderer {\n        return value && typeof value.draw === 'function';\n    }\n\n    function maybeShape(shape: 'arrow' | 'spike' | 'arrow-filled' | ShapeRenderer) {\n        if (isShapeObject(shape)) return shape;\n        const value = shapes.get(`${shape}`.toLowerCase());\n        if (value) return value;\n        throw new Error(`invalid shape: ${shape}`);\n    }\n\n    function shapePath(\n        shape: 'arrow' | 'spike' | 'arrow-filled' | ShapeRenderer,\n        l: number,\n        r: number\n    ) {\n        const context = path();\n        maybeShape(shape).draw(context, l, r);\n        return context.toString();\n    }\n\n    const args = $derived(\n        sort({\n            data: indexData(data),\n            // sort by descending radius by default\n            ...options\n        })\n    );\n</script>\n\n<Mark\n    type=\"vector\"\n    required={['x', 'y']}\n    channels={[\n        'x',\n        'y',\n        'r',\n        'length',\n        'symbol',\n        'fill',\n        'opacity',\n        'stroke',\n        'fillOpacity',\n        'strokeOpacity'\n    ]}\n    {...args}>\n    {#snippet children({ mark, scaledData, usedScales })}\n        <g class=\"vector\" data-l={usedScales.length}>\n            {#if canvas}\n                <text x=\"30\" y=\"30\" style=\"color:red\"\n                    >implement canvas rendering for vector mark</text>\n            {:else}\n                {#each scaledData as d, i (i)}\n                    {@const r = resolveChannel('r', d.datum, { r: 3, ...args })}\n                    {#if d.valid && isValid(r)}\n                        {@const [style, styleClass] = resolveStyles(\n                            plot,\n                            d,\n                            {\n                                strokeWidth: 1.5,\n                                strokeLinejoin: 'round',\n                                strokeLinecap: 'round',\n                                ...args\n                            },\n                            shape === 'arrow-filled' ? 'fill' : 'stroke',\n                            usedScales\n                        )}\n                        <path\n                            d={shapePath(shape, d.length, r)}\n                            transform=\"translate({d.x}, {d.y}) rotate({resolveProp(\n                                args.rotate,\n                                d.datum,\n                                0\n                            )}) {anchor === 'start'\n                                ? ''\n                                : anchor === 'end'\n                                  ? `translate(0, ${d.length})`\n                                  : `translate(0, ${d.length / 2})`}\"\n                            {style}\n                            {@attach addEventHandlers({\n                                plot,\n                                options: args,\n                                datum: d?.datum\n                            })}\n                            class={[styleClass]} />\n                    {/if}\n                {/each}\n            {/if}\n        </g>\n    {/snippet}\n</Mark>\n\n<style>\n    path {\n        stroke-width: 1.5px;\n    }\n</style>\n", "<!-- \n    @component\n    Wrapper around the vector mark with presets suitable for spike maps \n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface SpikeMarkProps extends Omit<\n        ComponentProps<typeof Vector>,\n        'data' | 'x' | 'y' | 'r' | 'length' | 'rotate'\n    > {\n        data: Datum[];\n        x: ChannelAccessor<Datum>;\n        y: ChannelAccessor<Datum>;\n        r?: number;\n        length?: ChannelAccessor<Datum>;\n        rotate?: ChannelAccessor<Datum>;\n    }\n    import Vector from './Vector.svelte';\n    import type { ChannelAccessor, DataRecord } from '../types/index.js';\n    import { type ComponentProps } from 'svelte';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n\n    let markProps: SpikeMarkProps = $props();\n\n    const DEFAULTS = {\n        fill: 'currentColor',\n        fillOpacity: 0.3,\n        strokeWidth: 1,\n        anchor: 'start' as const,\n        stroke: 'currentColor',\n        sort: { channel: '-y' },\n        shape: 'spike' as const,\n        ...getPlotDefaults().spike\n    };\n\n    const { data = [{} as Datum], ...options }: SpikeMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n</script>\n\n<Vector {data} {...options} />\n", "<script lang=\"ts\">\n    import { resolveProp, resolveStyles } from '../../helpers/resolve';\n    import { type ComponentProps } from 'svelte';\n    import type { ScaledDataRecord, UsedScales } from '../../index.js';\n    import type Text from '../Text.svelte';\n    import { CSS_VAR } from '../../constants';\n    import { maybeFromPixel, maybeFromRem } from '../../helpers/getBaseStyles';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    const LINE_ANCHOR = {\n        bottom: 'auto',\n        middle: 'central',\n        top: 'hanging'\n    } as const;\n\n    const plot = usePlot();\n\n    let {\n        textLines,\n        d,\n        args,\n        usedScales\n    }: {\n        textLines: string[];\n        d: ScaledDataRecord;\n        args: ComponentProps<typeof Text>;\n        usedScales: UsedScales;\n    } = $props();\n\n    const title = $derived(resolveProp(args.title, d.datum, ''));\n    const frameAnchor = $derived(resolveProp(args.frameAnchor, d.datum));\n    const isLeft = $derived(\n        frameAnchor === 'left' || frameAnchor === 'top-left' || frameAnchor === 'bottom-left'\n    );\n    const isRight = $derived(\n        frameAnchor === 'right' || frameAnchor === 'top-right' || frameAnchor === 'bottom-right'\n    );\n    const isTop = $derived(\n        frameAnchor === 'top' || frameAnchor === 'top-left' || frameAnchor === 'top-right'\n    );\n    const isBottom = $derived(\n        frameAnchor === 'bottom' || frameAnchor === 'bottom-left' || frameAnchor === 'bottom-right'\n    );\n    const lineAnchor = $derived(\n        resolveProp(\n            args.lineAnchor,\n            d.datum,\n            args.y != null ? 'middle' : isTop ? 'top' : isBottom ? 'bottom' : 'middle'\n        )\n    );\n    const textClassName = $derived(resolveProp(args.textClass, d.datum, null));\n    const [x, y] = $derived(\n        args.x != null && args.y != null\n            ? [d.x, d.y]\n            : [\n                  args.x != null\n                      ? d.x\n                      : (isLeft\n                            ? plot.options.marginLeft\n                            : isRight\n                              ? plot.options.marginLeft + plot.facetWidth\n                              : plot.options.marginLeft + plot.facetWidth * 0.5) + (d.dx ?? 0),\n                  args.y != null\n                      ? d.y\n                      : (isTop\n                            ? plot.options.marginTop\n                            : isBottom\n                              ? plot.options.marginTop + plot.facetHeight\n                              : plot.options.marginTop + plot.facetHeight * 0.5) + (d.dy ?? 0)\n              ]\n    );\n\n    const [style, styleClass] = $derived(\n        resolveStyles(\n            plot,\n            { ...d, __tspanIndex: 0 },\n            {\n                fontSize: 12,\n                fontWeight: 500,\n                strokeWidth: 1.6,\n                textAnchor: isLeft ? 'start' : isRight ? 'end' : 'middle',\n                ...args\n            },\n            'fill',\n            usedScales\n        )\n    );\n\n    const fontSize = $derived(\n        textLines.length > 1 ? (resolveProp(args.fontSize, d.datum) ?? 12) : 0\n    );\n    let textElement: SVGTextElement | null = $state(null);\n\n    const rootFontSize = $derived(\n        textElement?.ownerDocument?.documentElement && textLines.length > 1\n            ? maybeFromPixel(getComputedStyle(textElement.ownerDocument.documentElement).fontSize)\n            : 14\n    );\n\n    const computedFontSize = $derived(\n        textElement && textLines.length > 1 && CSS_VAR.test(fontSize)\n            ? maybeFromRem(\n                  maybeFromPixel(\n                      getComputedStyle(textElement).getPropertyValue(\n                          `--${fontSize.match(CSS_VAR)[1]}`\n                      )\n                  ),\n                  rootFontSize\n              )\n            : fontSize\n    );\n\n    const lineHeight = $derived(\n        textLines.length > 1 ? (resolveProp(args.lineHeight, d.datum) ?? 1.2) : 0\n    );\n\n    const rotate = $derived(+resolveProp(args.rotate, d.datum, 0));\n</script>\n\n{#if textLines.length > 1}\n    <!-- multiline text-->\n    <text\n        bind:this={textElement}\n        class={[textClassName]}\n        dominant-baseline={LINE_ANCHOR[lineAnchor]}\n        transform=\"translate({Math.round(x)},{Math.round(\n            y -\n                (lineAnchor === 'bottom'\n                    ? textLines.length - 1\n                    : lineAnchor === 'middle'\n                      ? (textLines.length - 1) * 0.5\n                      : 0) *\n                    computedFontSize *\n                    lineHeight\n        )}) rotate({rotate})\"\n        >{#each textLines as line, l (l)}<tspan\n                x=\"0\"\n                dy={l ? computedFontSize * lineHeight : 0}\n                class={styleClass}\n                {style}>{line}</tspan\n            >{/each}{#if title}<title>{title}</title>{/if}</text>\n{:else}\n    <!-- singleline text-->\n    <text\n        class={[textClassName, styleClass]}\n        dominant-baseline={LINE_ANCHOR[lineAnchor]}\n        transform=\"translate({Math.round(x)},{Math.round(y)}) rotate({rotate})\"\n        {style}\n        >{textLines[0]}{#if title}<title>{title}</title>{/if}</text>\n{/if}\n\n<style>\n    text {\n        paint-order: stroke fill;\n    }\n</style>\n", "<!--\n    @component\n    Useful for adding SVG text labels to your plot.\n-->\n\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    import type * as CSS from 'csstype';\n\n    interface TextMarkProps extends BaseMarkProps<Datum>, LinkableMarkProps<Datum> {\n        data?: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        children?: Snippet;\n        text: ConstantAccessor<string | null | false | undefined, Datum>;\n        title?: ConstantAccessor<string, Datum>;\n        /**\n         * the font size of the text\n         */\n        fontFamily?: ConstantAccessor<CSS.Property.FontFamily, Datum>;\n        fontSize?: ConstantAccessor<CSS.Property.FontSize | number, Datum>;\n        fontWeight?: ConstantAccessor<CSS.Property.FontWeight, Datum>;\n        fontStyle?: ConstantAccessor<CSS.Property.FontStyle, Datum>;\n        fontVariant?: ConstantAccessor<CSS.Property.FontVariant, Datum>;\n        letterSpacing?: ConstantAccessor<CSS.Property.LetterSpacing, Datum>;\n        wordSpacing?: ConstantAccessor<CSS.Property.WordSpacing, Datum>;\n        textTransform?: ConstantAccessor<CSS.Property.TextTransform, Datum>;\n        textDecoration?: ConstantAccessor<CSS.Property.TextDecoration, Datum>;\n        /**\n         * the horizontal text anchor; start, end, or middle\n         */\n        textAnchor?: ConstantAccessor<CSS.Property.TextAnchor, Datum>;\n        /**\n         * if you want to apply class names to individual text elements\n         */\n        textClass?: ConstantAccessor<string, Datum>;\n        /**\n         * the line anchor for vertical position; top, bottom, or middle\n         */\n        lineAnchor?: ConstantAccessor<'bottom' | 'top' | 'middle'>;\n        /**\n         * line height as multiplier of font size\n         * @default 1.2\n         */\n        lineHeight?: ConstantAccessor<number, Datum>;\n        frameAnchor?: ConstantAccessor<\n            | 'bottom'\n            | 'top'\n            | 'left'\n            | 'right'\n            | 'top-left'\n            | 'bottom-left'\n            | 'top-right'\n            | 'bottom-right'\n            | 'middle',\n            Datum\n        >;\n        /**\n         * rotate text by angle in degrees\n         */\n        rotate?: ConstantAccessor<number, Datum>;\n    }\n\n    import { type Snippet } from 'svelte';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        ConstantAccessor,\n        ChannelAccessor,\n        LinkableMarkProps\n    } from '../types/index.js';\n    import { resolveProp } from '../helpers/resolve.js';\n    import Mark from '../Mark.svelte';\n    import { sort } from '../index.js';\n\n    import MultilineText from './helpers/MultilineText.svelte';\n    import { indexData } from '../transforms/recordize';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n\n    const DEFAULTS = {\n        fontSize: 12,\n        c: 500,\n        strokeWidth: 1.6,\n        frameAnchor: 'middle' as const,\n        lineHeight: 1.1,\n        rotate: 0,\n        ...getPlotDefaults().text\n    };\n\n    let markProps: TextMarkProps = $props();\n\n    const {\n        data = [{} as Datum],\n        class: className = '',\n        ...options\n    }: TextMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const args = $derived(\n        sort({\n            data: indexData(data),\n            ...options\n        })\n    ) as TextMarkProps;\n</script>\n\n<Mark\n    type=\"text\"\n    channels={[\n        'x',\n        'y',\n        'r',\n        'symbol',\n        'fill',\n        'stroke',\n        'opacity',\n        'strokeOpacity',\n        'fillOpacity'\n    ]}\n    required={[]}\n    {...args}>\n    {#snippet children({ mark, scaledData, usedScales })}\n        <GroupMultiple class=\"text {className}\" length={className ? 2 : args.data.length}>\n            {#each scaledData as d, i (i)}\n                {#if d.valid}\n                    {@const textLines = String(resolveProp(args.text, d.datum, '')).split('\\n')}\n\n                    <MultilineText {textLines} {d} {args} {usedScales} />\n                {/if}\n            {/each}\n        </GroupMultiple>\n    {/snippet}\n</Mark>\n", "<!-- \n    @component \n    The TickX mark is useful for showing one-dimensional distributions along the x axis. The y axis must be a band scale.\n-->\n\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface TickXMarkProps extends Omit<BaseMarkProps<Datum>, 'fill' | 'fillOpacity'> {\n        data: Datum[];\n        /**\n         * the horizontal position; bound to the x scale\n         */\n        x?: ChannelAccessor<Datum>;\n        /**\n         * the vertical position; bound to the y scale, which must be band. If the y channel\n         * is not specified, the tick will span the full vertical extent of the frame.\n         */\n        y?: ChannelAccessor<Datum>;\n        /**\n         * if ticks are used on a non-bandwidth scale, this will determine the\n         * length of the tick. Defaults to 10 pixel\n         */\n        tickLength?: ConstantAccessor<number, Datum>;\n    }\n    import Mark from '../Mark.svelte';\n    import { getContext } from 'svelte';\n    import { resolveChannel, resolveProp, resolveScaledStyles } from '../helpers/resolve.js';\n    import type {\n        BaseMarkProps,\n        ChannelAccessor,\n        DataRow,\n        FacetContext,\n        ConstantAccessor\n    } from '../types/index.js';\n    import { recordizeX } from '../index.js';\n    import { projectX, projectY } from '../helpers/scales.js';\n    import { isValid } from '../helpers/index.js';\n    import { testFilter, parseInset } from '../helpers/index.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const plot = usePlot();\n\n    let markProps: TickXMarkProps = $props();\n    const DEFAULTS = {\n        ...getPlotDefaults().tick,\n        ...getPlotDefaults().tickX\n    };\n    const {\n        data = [{}],\n        class: className = '',\n        ...options\n    }: TickXMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    let args = $derived(recordizeX({ data, ...options }, { withIndex: false }));\n\n    const { getTestFacet } = getContext<FacetContext>('svelteplot/facet');\n    let testFacet = $derived(getTestFacet());\n</script>\n\n<Mark\n    type=\"tickX\"\n    channels={['x', 'y', 'stroke', 'opacity', 'strokeOpacity']}\n    {...markProps}\n    {...args}>\n    {#snippet children({ mark, usedScales })}\n        <g class=\"tick-x\">\n            {#each args.data as datum, i (i)}\n                {#if testFacet(datum, mark.options) && testFilter(datum, args)}\n                    {@const x_ = resolveChannel('x', datum, args)}\n                    {@const y_ = resolveChannel('y', datum, args)}\n                    {@const inset_ = resolveProp(args.inset, datum, 0)}\n                    {@const tickLength_ = resolveProp(args.tickLength, datum, 10)}\n                    {@const dx_ = resolveProp(args.dx, datum, 0)}\n                    {@const dy_ = resolveProp(args.dy, datum, 0)}\n                    {#if isValid(x_) && (isValid(y_) || args.y == null) && (args.filter == null || resolveProp(args.filter, datum))}\n                        {@const x = usedScales.x ? projectX('x', plot.scales, x_) : x_}\n                        {@const y1 =\n                            args.y != null\n                                ? usedScales.y\n                                    ? projectY('y1', plot.scales, y_)\n                                    : y_\n                                : plot.options.marginTop}\n                        {@const y2 =\n                            args.y != null\n                                ? usedScales.y\n                                    ? Number(projectY('y2', plot.scales, y_))\n                                    : y_\n                                : plot.options.marginTop + plot.plotHeight}\n                        {@const inset = parseInset(inset_, Math.abs(y2 - y1))}\n                        <line\n                            transform=\"translate({x + dx_}, {dy_})\"\n                            style={resolveScaledStyles(datum, args, usedScales, plot, 'stroke')}\n                            y1={y1 + inset + (y1 === y2 ? tickLength_ * 0.5 : 0)}\n                            y2={y2 - inset - (y1 === y2 ? tickLength_ * 0.5 : 0)} />\n                    {/if}\n                {/if}\n            {/each}\n        </g>\n    {/snippet}\n</Mark>\n\n<style>\n    .tick-x line {\n        stroke: currentColor;\n    }\n</style>\n", "<!-- \n    @component \n    The TickY mark is useful for showing one-dimensional distributions along the y axis. The x axis must be a band scale.\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRow\">\n    interface TickYMarkProps extends Omit<BaseMarkProps<Datum>, 'fill' | 'fillOpacity'> {\n        data: Datum[];\n        /**\n         * the vertical position; bound to the x scale\n         */\n        y?: ChannelAccessor<Datum>;\n        /**\n         * the horizontal position; bound to the y scale, which must be band. If the y channel\n         * is not specified, the tick will span the full vertical extent of the frame.\n         */\n        x?: ChannelAccessor<Datum>;\n        /**\n         * if ticks are used on a non-bandwidth scale, this will determine the\n         * length of the tick. Defaults to 10 pixel\n         */\n        tickLength?: ConstantAccessor<number, Datum>;\n    }\n    import Mark from '../Mark.svelte';\n    import { getContext } from 'svelte';\n    import { resolveChannel, resolveProp, resolveScaledStyles } from '../helpers/resolve.js';\n    import type {\n        BaseMarkProps,\n        ChannelAccessor,\n        DataRow,\n        FacetContext,\n        ConstantAccessor\n    } from '../types/index.js';\n    import { recordizeY } from '../index.js';\n    import { projectX, projectY } from '../helpers/scales.js';\n    import { isValid } from '../helpers/index.js';\n    import { testFilter, parseInset } from '../helpers/index.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    const plot = usePlot();\n\n    let markProps: TickYMarkProps = $props();\n    const DEFAULTS = {\n        ...getPlotDefaults().tick,\n        ...getPlotDefaults().tickY\n    };\n    const {\n        data = [{}],\n        class: className = '',\n        ...options\n    }: TickYMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    let args = $derived(recordizeY({ data, ...options }, { withIndex: false }));\n\n    const { getTestFacet } = getContext<FacetContext>('svelteplot/facet');\n    let testFacet = $derived(getTestFacet());\n</script>\n\n<Mark\n    type=\"tickY\"\n    channels={['x', 'y', 'stroke', 'opacity', 'strokeOpacity']}\n    {...markProps}\n    {...args}>\n    {#snippet children({ mark, usedScales })}\n        <g class=\"tick-y\">\n            {#each args.data as datum, i (i)}\n                {#if testFacet(datum, mark.options) && testFilter(datum, args)}\n                    {@const y_ = resolveChannel('y', datum, args)}\n                    {@const x_ = resolveChannel('x', datum, args)}\n                    {@const inset_ = resolveProp(args.inset, datum, 0)}\n                    {@const tickLength_ = resolveProp(args.tickLength, datum, 10)}\n                    {@const dx_ = resolveProp(args.dx, datum, 0)}\n                    {@const dy_ = resolveProp(args.dy, datum, 0)}\n                    {#if isValid(y_) && (isValid(x_) || args.x == null)}\n                        {@const y = usedScales.y ? projectY('y', plot.scales, y_) : y_}\n                        {@const x1 =\n                            args.x != null\n                                ? usedScales.x\n                                    ? projectX('x1', plot.scales, x_)\n                                    : x_\n                                : plot.options.marginLeft}\n                        {@const x2 =\n                            args.x != null\n                                ? usedScales.x\n                                    ? projectX('x2', plot.scales, x_)\n                                    : x_\n                                : plot.options.marginLeft + plot.facetWidth}\n                        {@const inset = parseInset(inset_, Math.abs(x2 - x1))}\n                        <line\n                            transform=\"translate({dx_}, {y + dy_})\"\n                            style={resolveScaledStyles(datum, args, usedScales, plot, 'stroke')}\n                            x1={x1 + inset + (x1 === x2 ? tickLength_ * 0.5 : 0)}\n                            x2={x2 - inset - (x1 === x2 ? tickLength_ * 0.5 : 0)} />\n                    {/if}\n                {/if}\n            {/each}\n        </g>\n    {/snippet}\n</Mark>\n\n<style>\n    .tick-y line {\n        stroke: currentColor;\n    }\n</style>\n", "import { TAU } from '../../constants.js';\nimport { maybeCurve } from '../../helpers/curves.js';\n/**\n * Draw a stroked capsule trail along successive points with varying widths.\n * Adapted from Vega's trail mark implementation.\n */\nexport function trailPath(samples, defined, context, options = {}) {\n    const { curve = 'linear', cap = 'round', tension = 0.5 } = options;\n    const samplesPerSegment = options.samplesPerSegment ?? estimateSamplesPerSegment(samples, defined);\n    const curveFactory = maybeCurve(curve, tension);\n    let drawSamples = samples;\n    let drawDefined = defined;\n    if (curve !== 'linear' || tension !== 0) {\n        const smoothedSamples = [];\n        const smoothedDefined = [];\n        const len = Math.min(samples.length, defined.length);\n        let i = 0;\n        while (i < len) {\n            if (!defined[i]) {\n                smoothedSamples.push(samples[i]);\n                smoothedDefined.push(false);\n                i += 1;\n                continue;\n            }\n            const segment = [];\n            while (i < len && defined[i]) {\n                segment.push(samples[i]);\n                i += 1;\n            }\n            const resampled = resampleCurve(segment, curveFactory, Math.max(1, samplesPerSegment));\n            smoothedSamples.push(...resampled);\n            smoothedDefined.push(...new Array(resampled.length).fill(true));\n            // preserve a gap between defined segments\n            if (i < len) {\n                smoothedSamples.push(samples[i]);\n                smoothedDefined.push(false);\n            }\n        }\n        drawSamples = smoothedSamples;\n        drawDefined = smoothedDefined;\n    }\n    const len = Math.min(drawSamples.length, drawDefined.length);\n    if (len === 0)\n        return;\n    // Butt caps: build joined polygon offsets using angle bisectors to avoid gaps.\n    if (cap === 'butt') {\n        const normalizeVec = (x, y) => {\n            const lenVec = Math.hypot(x, y);\n            return lenVec === 0 ? [0, 0] : [x / lenVec, y / lenVec];\n        };\n        let i = 0;\n        while (i < len) {\n            if (!drawDefined[i]) {\n                i += 1;\n                continue;\n            }\n            const runStart = i;\n            while (i < len && drawDefined[i])\n                i += 1;\n            const runEnd = i - 1;\n            const left = [];\n            const right = [];\n            for (let j = runStart; j <= runEnd; j += 1) {\n                const curr = drawSamples[j];\n                const r = curr.r;\n                const hasPrev = j > runStart;\n                const hasNext = j < runEnd;\n                const prev = hasPrev ? drawSamples[j - 1] : curr;\n                const next = hasNext ? drawSamples[j + 1] : curr;\n                const dirPrev = hasPrev\n                    ? normalizeVec(curr.x - prev.x, curr.y - prev.y)\n                    : normalizeVec(next.x - curr.x, next.y - curr.y);\n                const dirNext = hasNext ? normalizeVec(next.x - curr.x, next.y - curr.y) : dirPrev;\n                const normPrev = [-dirPrev[1], dirPrev[0]];\n                const normNext = [-dirNext[1], dirNext[0]];\n                let nx = normPrev[0] + normNext[0];\n                let ny = normPrev[1] + normNext[1];\n                const nLen = Math.hypot(nx, ny);\n                if (nLen < 1e-6) {\n                    // Straight/180-deg turn: fall back to current normal.\n                    nx = normPrev[0];\n                    ny = normPrev[1];\n                }\n                else {\n                    nx /= nLen;\n                    ny /= nLen;\n                }\n                // Scale to preserve half-width along the miter direction.\n                const dot = nx * normPrev[0] + ny * normPrev[1];\n                const safeDot = Math.abs(dot) < 1e-6 ? 1 : dot;\n                const scale = r / safeDot;\n                const ox = nx * scale;\n                const oy = ny * scale;\n                left.push([curr.x + ox, curr.y + oy]);\n                right.push([curr.x - ox, curr.y - oy]);\n            }\n            if (left.length > 0) {\n                context.moveTo(left[0][0], left[0][1]);\n                for (let j = 1; j < left.length; j += 1) {\n                    context.lineTo(left[j][0], left[j][1]);\n                }\n                for (let j = right.length - 1; j >= 0; j -= 1) {\n                    context.lineTo(right[j][0], right[j][1]);\n                }\n                context.closePath();\n            }\n        }\n        return typeof context.toString === 'function' ? context.toString() : undefined;\n    }\n    // Round caps: original capsule behavior.\n    let ready = false;\n    let x1 = 0;\n    let y1 = 0;\n    let r1 = 0;\n    function point(x2, y2, r2, isStartOfRun, isEndOfRun) {\n        if (ready) {\n            let ux = y1 - y2;\n            let uy = x2 - x1;\n            if (ux || uy) {\n                // compute normal vector scaled by radius\n                const ud = Math.hypot(ux, uy);\n                const rx = (ux /= ud) * r1;\n                const ry = (uy /= ud) * r1;\n                const t = Math.atan2(uy, ux);\n                // keep rounded joins for interior segments even when using butt caps\n                const drawStartCap = !isStartOfRun || cap === 'round';\n                const drawEndCap = !isEndOfRun || cap === 'round';\n                context.moveTo(x1 - rx, y1 - ry);\n                context.lineTo(x2 - ux * r2, y2 - uy * r2);\n                if (drawEndCap) {\n                    context.arc(x2, y2, r2, t - Math.PI, t);\n                }\n                else {\n                    context.lineTo(x2 + ux * r2, y2 + uy * r2);\n                }\n                context.lineTo(x1 + rx, y1 + ry);\n                if (drawStartCap) {\n                    context.arc(x1, y1, r1, t, t + Math.PI);\n                }\n            }\n            else {\n                if (cap === 'round' || (!isStartOfRun && !isEndOfRun)) {\n                    context.arc(x2, y2, r2, 0, TAU);\n                }\n            }\n            context.closePath();\n        }\n        else {\n            ready = true;\n        }\n        x1 = x2;\n        y1 = y2;\n        r1 = r2;\n    }\n    let i = 0;\n    while (i < len) {\n        // Skip gaps\n        if (!drawDefined[i]) {\n            i += 1;\n            ready = false;\n            continue;\n        }\n        const runStart = i;\n        while (i < len && drawDefined[i])\n            i += 1;\n        const runEnd = i - 1;\n        // Prime the first point of the run\n        const first = drawSamples[runStart];\n        ready = false;\n        x1 = first.x;\n        y1 = first.y;\n        r1 = first.r;\n        ready = true;\n        for (let j = runStart + 1; j <= runEnd; j += 1) {\n            const { x: x2, y: y2, r } = drawSamples[j];\n            const isStart = j - 1 === runStart;\n            const isEnd = j === runEnd;\n            point(Number(x2), Number(y2), Number(r), isStart, isEnd);\n        }\n        ready = false;\n    }\n    return typeof context.toString === 'function' ? context.toString() : undefined;\n}\nfunction resampleCurve(points, curveFactory, samplesPerSegment) {\n    if (points.length === 0)\n        return [];\n    const commands = [];\n    let pendingRadius = points[0].r;\n    let currentRadius = points[0].r;\n    let currentPoint = null;\n    const ctx = {\n        beginPath() { },\n        closePath() { },\n        moveTo(x, y) {\n            currentPoint = [x, y];\n            currentRadius = pendingRadius;\n            commands.push({ type: 'move', to: [x, y], r: currentRadius });\n        },\n        lineTo(x, y) {\n            const from = currentPoint ?? [x, y];\n            commands.push({\n                type: 'line',\n                from: [from[0], from[1], currentRadius],\n                to: [x, y, pendingRadius]\n            });\n            currentPoint = [x, y];\n            currentRadius = pendingRadius;\n        },\n        bezierCurveTo(x1, y1, x2, y2, x, y) {\n            const from = currentPoint ?? [x, y];\n            commands.push({\n                type: 'cubic',\n                from: [from[0], from[1], currentRadius],\n                cp1: [x1, y1],\n                cp2: [x2, y2],\n                to: [x, y, pendingRadius]\n            });\n            currentPoint = [x, y];\n            currentRadius = pendingRadius;\n        },\n        quadraticCurveTo(x1, y1, x, y) {\n            const from = currentPoint ?? [x, y];\n            commands.push({\n                type: 'quad',\n                from: [from[0], from[1], currentRadius],\n                cp: [x1, y1],\n                to: [x, y, pendingRadius]\n            });\n            currentPoint = [x, y];\n            currentRadius = pendingRadius;\n        },\n        arc() { },\n        rect() { }\n    };\n    const curve = curveFactory(ctx);\n    curve.lineStart();\n    for (let idx = 0; idx < points.length; idx += 1) {\n        const pt = points[idx];\n        pendingRadius = pt.r;\n        curve.point(pt.x, pt.y);\n    }\n    curve.lineEnd();\n    const geom = flattenCommands(commands, samplesPerSegment);\n    if (geom.length === 0)\n        return geom;\n    // Re-map radii along the resampled path using the original cumulative\n    // length as the parameter to avoid curve-specific radius drift.\n    const origCum = [0];\n    for (let i = 1; i < points.length; i += 1) {\n        const dx = points[i].x - points[i - 1].x;\n        const dy = points[i].y - points[i - 1].y;\n        origCum.push(origCum[i - 1] + Math.hypot(dx, dy));\n    }\n    const origTotal = origCum[origCum.length - 1] || 1;\n    const resCum = [0];\n    for (let i = 1; i < geom.length; i += 1) {\n        const dx = geom[i].x - geom[i - 1].x;\n        const dy = geom[i].y - geom[i - 1].y;\n        resCum.push(resCum[i - 1] + Math.hypot(dx, dy));\n    }\n    const resTotal = resCum[resCum.length - 1] || 1;\n    const radiusAt = (target) => {\n        let idx = 1;\n        while (idx < origCum.length && origCum[idx] < target)\n            idx += 1;\n        if (idx === origCum.length)\n            return points[points.length - 1].r;\n        const t0 = origCum[idx - 1];\n        const t1 = origCum[idx];\n        const r0 = points[idx - 1].r;\n        const r1 = points[idx].r;\n        const t = t1 === t0 ? 0 : (target - t0) / (t1 - t0);\n        return lerp(r0, r1, t);\n    };\n    for (let i = 0; i < geom.length; i += 1) {\n        const frac = resCum[i] / resTotal;\n        geom[i].r = Number(radiusAt(frac * origTotal).toFixed(2));\n    }\n    return geom;\n}\nfunction flattenCommands(commands, samplesPerSegment, precision = 2) {\n    const result = [];\n    let last = null;\n    const round = (v) => {\n        const m = 10 ** precision;\n        return Math.round(v * m) / m;\n    };\n    const pushPoint = (x, y, r) => {\n        x = round(x);\n        y = round(y);\n        r = round(r);\n        if (!last || last[0] !== x || last[1] !== y || last[2] !== r) {\n            result.push({ x, y, r });\n            last = [x, y, r];\n        }\n    };\n    for (const cmd of commands) {\n        if (cmd.type === 'move') {\n            pushPoint(cmd.to[0], cmd.to[1], cmd.r);\n            continue;\n        }\n        if (cmd.type === 'line') {\n            const [x1, y1, r1] = cmd.from;\n            const [x2, y2, r2] = cmd.to;\n            for (let step = 1; step <= samplesPerSegment; step += 1) {\n                const t = step / samplesPerSegment;\n                pushPoint(lerp(x1, x2, t), lerp(y1, y2, t), lerp(r1, r2, t));\n            }\n            continue;\n        }\n        if (cmd.type === 'cubic') {\n            const [x0, y0, r0] = cmd.from;\n            const [x1, y1] = cmd.cp1;\n            const [x2, y2] = cmd.cp2;\n            const [x3, y3, r3] = cmd.to;\n            for (let step = 1; step <= samplesPerSegment; step += 1) {\n                const t = step / samplesPerSegment;\n                pushPoint(cubic(x0, x1, x2, x3, t), cubic(y0, y1, y2, y3, t), lerp(r0, r3, t));\n            }\n            continue;\n        }\n        if (cmd.type === 'quad') {\n            const [x0, y0, r0] = cmd.from;\n            const [cx, cy] = cmd.cp;\n            const [x1, y1, r1] = cmd.to;\n            for (let step = 1; step <= samplesPerSegment; step += 1) {\n                const t = step / samplesPerSegment;\n                pushPoint(quad(x0, cx, x1, t), quad(y0, cy, y1, t), lerp(r0, r1, t));\n            }\n        }\n    }\n    return result;\n}\nfunction cubic(p0, p1, p2, p3, t) {\n    const it = 1 - t;\n    return it * it * it * p0 + 3 * it * it * t * p1 + 3 * it * t * t * p2 + t * t * t * p3;\n}\nfunction quad(p0, p1, p2, t) {\n    const it = 1 - t;\n    return it * it * p0 + 2 * it * t * p1 + t * t * p2;\n}\nfunction lerp(a, b, t) {\n    return a + (b - a) * t;\n}\nfunction estimateSamplesPerSegment(samples, defined) {\n    const n = Math.min(samples.length, defined.length);\n    let distSum = 0;\n    let distCount = 0;\n    let rSum = 0;\n    let rCount = 0;\n    for (let i = 0; i < n; i++) {\n        if (defined[i]) {\n            rSum += samples[i].r;\n            rCount += 1;\n        }\n        if (i === 0 || !defined[i] || !defined[i - 1])\n            continue;\n        const dx = samples[i].x - samples[i - 1].x;\n        const dy = samples[i].y - samples[i - 1].y;\n        const d = Math.hypot(dx, dy);\n        if (isFinite(d) && d > 0) {\n            distSum += d;\n            distCount += 1;\n        }\n    }\n    const meanDist = distCount ? distSum / distCount : 0;\n    const meanRadius = rCount ? rSum / rCount : 0;\n    const base = meanRadius > 0 ? meanDist / meanRadius : meanDist;\n    // Keep within a reasonable range to avoid excessive subdivision.\n    return Math.max(1, Math.min(32, Math.round(base || 1)));\n}\nexport default trailPath;\n", "<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    import type {\n        Mark,\n        BaseMarkProps,\n        ScaledDataRecord,\n        UsedScales,\n        CurveName,\n        ConstantAccessor\n    } from '../../types/index.js';\n    import CanvasLayer from './CanvasLayer.svelte';\n    import type { Attachment } from 'svelte/attachments';\n    import { devicePixelRatio } from 'svelte/reactivity/window';\n    import { resolveColor } from './canvas.js';\n    import type { CurveFactory } from 'd3-shape';\n    import { trailPath, type TrailSample } from './trail';\n    import { resolveProp, resolveScaledStyleProps } from '../../helpers/resolve';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    interface TrailCanvasProps<Datum> {\n        curve?: CurveName | CurveFactory;\n        tension?: number;\n        cap?: 'butt' | 'round';\n        resolution?: number | 'auto';\n        data: ScaledDataRecord<Datum>[][];\n        usedScales: UsedScales;\n        options: {\n            fill?: ConstantAccessor<string, Datum>;\n            defined?: ConstantAccessor<boolean, Datum>;\n            opacity?: ConstantAccessor<number, Datum>;\n            'fill-opacity'?: ConstantAccessor<number, Datum>;\n        };\n    }\n\n    let {\n        curve,\n        cap,\n        tension,\n        resolution,\n        usedScales,\n        data: groupedTrailData,\n        options\n    }: TrailCanvasProps<Datum> = $props();\n\n    function maybeOpacity(value: unknown) {\n        return value == null ? 1 : +value;\n    }\n\n    const plot = usePlot();\n\n    const render = ((canvas: HTMLCanvasElement) => {\n        const context = canvas.getContext('2d');\n\n        $effect(() => {\n            if (context) {\n                context.resetTransform();\n                context.scale(devicePixelRatio.current ?? 1, devicePixelRatio.current ?? 1);\n\n                for (const trailData of groupedTrailData) {\n                    if (trailData.length < 2) continue;\n\n                    // Get the first point to determine line styles\n                    const firstPoint = trailData[0];\n                    if (!firstPoint || !firstPoint.valid) continue;\n\n                    const samples = trailData.map((d) => ({\n                        x: Number(d.x),\n                        y: Number(d.y),\n                        r: Number(d.r ?? 0)\n                    })) satisfies TrailSample[];\n\n                    const defined = trailData.map(\n                        (d) =>\n                            d.valid &&\n                            d.r >= 0 &&\n                            (resolveProp(options.defined, d.datum, true) ?? true)\n                    );\n\n                    let { fill, ...restStyles } = resolveScaledStyleProps(\n                        firstPoint.datum,\n                        options,\n                        usedScales,\n                        plot,\n                        'fill'\n                    );\n\n                    const opacity = maybeOpacity(restStyles['opacity']);\n                    const fillOpacity = maybeOpacity(restStyles['fill-opacity']);\n\n                    fill = resolveColor(fill, canvas);\n\n                    context.fillStyle = fill ? fill : 'currentColor';\n                    context.beginPath();\n\n                    trailPath(samples, defined, context, {\n                        curve,\n                        cap,\n                        tension,\n                        ...(typeof resolution === 'number' ? { samplesPerSegment: resolution } : {})\n                    });\n\n                    context.globalAlpha = opacity * fillOpacity;\n                    context.fill();\n\n                    // {#each groupedTrailData as trailData, i (i)}\n                    //         {@const samples = trailData.map((d) => ({\n                    //             x: Number(d.x),\n                    //             y: Number(d.y),\n                    //             r: Number(d.r ?? 0)\n                    //         })) satisfies TrailSample[]}\n                    //         {@const defined = trailData.map(\n                    //             (d) =>\n                    //                 d.valid &&\n                    //                 d.r >= 0 &&\n                    //                 (resolveProp(options.defined, d.datum, true) ?? true)\n                    //         )}\n                    //         {@const pathString = trailPath(samples, defined, d3Path(), {\n                    //             curve,\n                    //             cap,\n                    //             tension,\n                    //             ...(typeof resolution === 'number'\n                    //                 ? { samplesPerSegment: resolution }\n                    //                 : {})\n                }\n            }\n\n            return () => {\n                context?.clearRect(\n                    0,\n                    0,\n                    plot.width * (devicePixelRatio.current ?? 1),\n                    plot.height * (devicePixelRatio.current ?? 1)\n                );\n            };\n        });\n    }) as Attachment;\n</script>\n\n<CanvasLayer {@attach render} />\n", "<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    interface TrailMarkProps extends Omit<\n        BaseMarkProps<Datum>,\n        'stroke' | 'strokeWidth' | 'strokeDasharray'\n    > {\n        data?: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        z?: ChannelAccessor<Datum>;\n        r?: ChannelAccessor<Datum>;\n        curve?: CurveName | CurveFactory;\n        tension?: number;\n        sort?: ConstantAccessor<RawValue, Datum> | { channel: 'stroke' | 'fill' };\n        defined?: ConstantAccessor<boolean, Datum>;\n        canvas?: boolean;\n        cap?: 'butt' | 'round';\n        /**\n         * Samples per segment for curve interpolation\n         */\n        resolution?: number | 'auto';\n    }\n    import type {\n        DataRecord,\n        ChannelAccessor,\n        BaseMarkProps,\n        ConstantAccessor,\n        RawValue,\n        ScaledDataRecord,\n        CurveName\n    } from '../types';\n    import Mark from '../Mark.svelte';\n    import { path as d3Path } from 'd3-path';\n    import { resolveProp, resolveStyles } from '../helpers/resolve.js';\n    import { getPlotDefaults } from '../hooks/plotDefaults';\n    import { sort } from '../transforms';\n    import trailPath, { type TrailSample } from './helpers/trail.js';\n    import TrailCanvas from './helpers/TrailCanvas.svelte';\n    import { addEventHandlers } from './helpers/events';\n    import type { CurveFactory } from 'd3-shape';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    let markProps: TrailMarkProps = $props();\n\n    const DEFAULTS: TrailMarkProps = {\n        curve: 'linear',\n        r: 3,\n        canvas: false,\n        resolution: 'auto',\n        cap: 'round',\n        tension: 0,\n        ...getPlotDefaults().trail\n    };\n\n    const {\n        data = [{} as Datum],\n        curve,\n        resolution,\n        tension,\n        canvas,\n        cap,\n        class: className,\n        ...options\n    }: TrailMarkProps = $derived({\n        ...DEFAULTS,\n        ...markProps\n    });\n\n    const args = $derived(sort({ data, ...options })) as TrailMarkProps;\n\n    const plot = usePlot();\n\n    /**\n     * Groups the data by the specified key\n     */\n    function groupIndex(data: ScaledDataRecord[], groupByKey: ChannelAccessor<Datum> | null) {\n        if (!groupByKey) return [data];\n        let group: ScaledDataRecord[] = [];\n        const groups = [group];\n        let lastGroupValue;\n        for (const d of data) {\n            const groupValue = resolveProp(groupByKey, d.datum);\n            if (groupValue === lastGroupValue || group.length === 0) {\n                group.push(d);\n                lastGroupValue = groupValue;\n            } else {\n                // new group\n                group = [d];\n                groups.push(group);\n                lastGroupValue = groupValue;\n            }\n        }\n        return groups.filter((d) => d.length > 0);\n    }\n\n    const groupByKey = $derived(args.z || args.fill) as ChannelAccessor<Datum> | null;\n</script>\n\n<Mark\n    type=\"trail\"\n    channels={['x', 'y', 'opacity', 'fill', 'fillOpacity', 'r']}\n    required={['x', 'y']}\n    {...args}>\n    {#snippet children({ mark, usedScales, scaledData })}\n        {#if scaledData.length > 0}\n            {@const groupedTrailData = groupIndex(scaledData, groupByKey)}\n            {#if canvas}\n                <!-- todo -->\n                <TrailCanvas\n                    {curve}\n                    {cap}\n                    {tension}\n                    {resolution}\n                    {usedScales}\n                    data={groupedTrailData}\n                    options={args} />\n            {:else}\n                <g class={['trail', className]}>\n                    {#each groupedTrailData as trailData, i (i)}\n                        {@const samples = trailData.map((d) => ({\n                            x: Number(d.x),\n                            y: Number(d.y),\n                            r: Number(d.r ?? 0)\n                        })) satisfies TrailSample[]}\n                        {@const defined = trailData.map(\n                            (d) =>\n                                d.valid &&\n                                d.r >= 0 &&\n                                (resolveProp(options.defined, d.datum, true) ?? true)\n                        )}\n                        {@const pathString = trailPath(samples, defined, d3Path(), {\n                            curve,\n                            cap,\n                            tension,\n                            ...(typeof resolution === 'number'\n                                ? { samplesPerSegment: resolution }\n                                : {})\n                        })}\n                        {@const [style, styleClass] = resolveStyles(\n                            plot,\n                            trailData[0],\n                            {\n                                ...args\n                            },\n                            'fill',\n                            usedScales\n                        )}\n                        <path\n                            d={pathString}\n                            {style}\n                            class={styleClass}\n                            {@attach addEventHandlers({\n                                plot,\n                                options: mark.options,\n                                datum: trailData[0].datum\n                            })} />\n                    {/each}\n                </g>\n            {/if}\n        {/if}\n    {/snippet}\n</Mark>\n", "/**\n * This implementation is based on the waffle chart implementation in Observable Plot!\n * https://github.com/observablehq/plot/blob/main/src/marks/waffle.js\n *\n * Kept the comments from the original implementation for clarity.\n */\nimport { getPatternId } from '../../helpers/getBaseStyles';\nexport function wafflePolygon(y, options, scales) {\n    const x = y === 'y' ? 'x' : 'y';\n    const y1 = `${y}1`;\n    const y2 = `${y}2`;\n    const xScale = scales[x];\n    const yScale = scales[y];\n    const barwidth = xScale.fn.bandwidth();\n    const { unit = 1, gap = 1 } = options;\n    const round = maybeRound(options.round);\n    // The length of a unit along y in pixels.\n    const scale = Math.abs(yScale.fn(unit) - yScale.fn(0));\n    // The number of cells on each row (or column) of the waffle.\n    const multiple = options.multiple ?? Math.max(1, Math.floor(Math.sqrt(barwidth / scale)));\n    // The outer size of each square cell, in pixels, including the gap.\n    const cx = Math.min(barwidth / multiple, scale * multiple);\n    const cy = scale * multiple;\n    // The reference position.\n    const tx = (barwidth - multiple * cx) / 2;\n    const transform = y === 'y' ? ([x, y]) => [x * cx, -y * cy] : ([x, y]) => [y * cy, x * cx];\n    // const mx = typeof x0 === 'function' ? (i) => x0(i) - barwidth / 2 : () => x0;\n    const [ix, iy] = y === 'y' ? [0, 1] : [1, 0];\n    const y0 = yScale.fn(0);\n    const mx = -barwidth / 2;\n    return (d) => {\n        const y1val = d.resolved[y1];\n        const y2val = d.resolved[y2];\n        const P = wafflePoints(round(y1val / unit), round(y2val / unit), multiple).map(transform);\n        P.pop();\n        const id = getPatternId();\n        const pos = [d[x] + tx + mx, y0];\n        return {\n            pattern: {\n                id,\n                patternUnits: 'userSpaceOnUse',\n                width: cx,\n                height: cy\n            },\n            rect: {\n                x: gap / 2,\n                y: gap / 2,\n                width: cx - gap,\n                height: cy - gap\n            },\n            path: {\n                fill: `url(#${id})`,\n                transform: `translate(${pos[ix]},${pos[iy]})`,\n                d: `M${P.join('L')}Z`\n            }\n        };\n        // return `M${P.join('L')}Z`;\n    };\n    // const points = wafflePoints(i1, i2, columns);\n    // return dimension === 'x' ? points : points.map(([x, y]: Point): Point => [y, x]);\n}\nexport function wafflePoints(i1, i2, columns) {\n    if (i2 < i1)\n        return wafflePoints(i2, i1, columns); // ensure i1 <= i2\n    if (i1 < 0)\n        return wafflePointsOffset(i1, i2, columns, Math.ceil(-Math.min(i1, i2) / columns)); // ensure i1 >= 0\n    const x1f = Math.floor(i1 % columns);\n    const x1c = Math.ceil(i1 % columns);\n    const x2f = Math.floor(i2 % columns);\n    const x2c = Math.ceil(i2 % columns);\n    const y1f = Math.floor(i1 / columns);\n    const y1c = Math.ceil(i1 / columns);\n    const y2f = Math.floor(i2 / columns);\n    const y2c = Math.ceil(i2 / columns);\n    const points = [];\n    if (y2c > y1c)\n        points.push([0, y1c]);\n    points.push([x1f, y1c], [x1f, y1f + (i1 % 1)], [x1c, y1f + (i1 % 1)]);\n    if (!(i1 % columns > columns - 1)) {\n        points.push([x1c, y1f]);\n        if (y2f > y1f)\n            points.push([columns, y1f]);\n    }\n    if (y2f > y1f)\n        points.push([columns, y2f]);\n    points.push([x2c, y2f], [x2c, y2f + (i2 % 1)], [x2f, y2f + (i2 % 1)]);\n    if (!(i2 % columns < 1)) {\n        points.push([x2f, y2c]);\n        if (y2c > y1c)\n            points.push([0, y2c]);\n    }\n    points.push(waffleCentroid(i1, i2, columns));\n    return points;\n}\n/**\n * Compute waffle points when indices start in negative rows by applying a row offset.\n * - Shifts both indices down by `k` rows (adding `k * columns`) so they are non-negative,\n *   delegates to `wafflePoints`, then translates the resulting points back up by `k` on y.\n * - `k` is the number of rows of vertical offset applied.\n */\nfunction wafflePointsOffset(i1, i2, columns, k) {\n    return wafflePoints(i1 + k * columns, i2 + k * columns, columns).map(([x, y]) => [x, y - k]);\n}\n/**\n * Centroid of the waffle region representing the interval [i1, i2).\n * Chooses a strategy based on how many rows the interval spans:\n * - Single row: delegate to `waffleRowCentroid`.\n * - Two rows: if the projected columns overlap, return the midpoint of the overlap;\n *   otherwise, return the centroid of the larger partial row.\n * - >= 3 rows: return the center column and halfway between the middle rows.\n */\nfunction waffleCentroid(i1, i2, columns) {\n    const r = Math.floor(i2 / columns) - Math.floor(i1 / columns);\n    return r === 0\n        ? // Single row\n            waffleRowCentroid(i1, i2, columns)\n        : r === 1\n            ? // Two incomplete rows; use the midpoint of their overlap if any, otherwise the larger row\n                Math.floor(i2 % columns) > Math.ceil(i1 % columns)\n                    ? [(Math.floor(i2 % columns) + Math.ceil(i1 % columns)) / 2, Math.floor(i2 / columns)]\n                    : i2 % columns > columns - (i1 % columns)\n                        ? waffleRowCentroid(i2 - (i2 % columns), i2, columns)\n                        : waffleRowCentroid(i1, columns * Math.ceil(i1 / columns), columns)\n            : // At least one full row; take the midpoint of all the rows that include the middle\n                [columns / 2, (Math.round(i1 / columns) + Math.round(i2 / columns)) / 2];\n}\n/**\n * Centroid of a waffle segment constrained to a single row.\n * Cases:\n * - c === 0: both endpoints fall into the same cell; center on x, average fractional y.\n * - c === 1: two adjacent partial cells; use the overlap center if > 0.5 cell,\n *   otherwise the center of the larger partial cell.\n * - c >= 2: at least one full cell between; x is the midpoint of full cells,\n *   y is the row center (0.5) if there’s a full cell spanned, otherwise average fractional y.\n */\nfunction waffleRowCentroid(i1, i2, columns) {\n    const c = Math.floor(i2) - Math.floor(i1);\n    return c === 0\n        ? // Single cell\n            [Math.floor(i1 % columns) + 0.5, Math.floor(i1 / columns) + (((i1 + i2) / 2) % 1)]\n        : c === 1\n            ? // Two incomplete cells; use the overlap if large enough, otherwise use the largest\n                (i2 % 1) - (i1 % 1) > 0.5\n                    ? [Math.ceil(i1 % columns), Math.floor(i2 / columns) + ((i1 % 1) + (i2 % 1)) / 2]\n                    : i2 % 1 > 1 - (i1 % 1)\n                        ? [Math.floor(i2 % columns) + 0.5, Math.floor(i2 / columns) + (i2 % 1) / 2]\n                        : [Math.floor(i1 % columns) + 0.5, Math.floor(i1 / columns) + (1 + (i1 % 1)) / 2]\n            : // At least one full cell; take the midpoint\n                [\n                    Math.ceil(i1 % columns) + Math.ceil(Math.floor(i2) - Math.ceil(i1)) / 2,\n                    Math.floor(i1 / columns) + (i2 >= 1 + i1 ? 0.5 : ((i1 + i2) / 2) % 1)\n                ];\n}\nexport function maybeRound(round) {\n    if (round === undefined || round === false)\n        return Number;\n    if (round === true)\n        return Math.round;\n    if (typeof round !== 'function')\n        throw new Error(`invalid round: ${round}`);\n    return round;\n}\n", "<!--\n    @component\n    The waffleX mark lets you create waffle charts by filling a rectangular area with small squares representing data values.\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    import type {\n        DataRecord,\n        BaseMarkProps,\n        ChannelAccessor,\n        LinkableMarkProps,\n        BorderRadius\n    } from '../types';\n    import { wafflePolygon, type WaffleOptions } from './helpers/waffle';\n    import { getPlotDefaults } from '../hooks/plotDefaults';\n    import { intervalX, recordizeX, sort, stackX } from '../transforms';\n    import type { StackOptions } from '../transforms/stack';\n    import Mark from '../Mark.svelte';\n    import { resolveProp, resolveStyles } from '../helpers/resolve';\n    import { roundedRect } from '../helpers/roundedRect';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    interface WaffleXMarkProps\n        extends BaseMarkProps<Datum>, LinkableMarkProps<Datum>, WaffleOptions<Datum> {\n        data?: Datum[];\n        /**\n         * bound to a quantitative scale\n         */\n        x?: ChannelAccessor<Datum>;\n        /**\n         * bound to a quantitative scale\n         */\n        x1?: ChannelAccessor<Datum>;\n        /**\n         * bound to a quantitative scale\n         */\n        x2?: ChannelAccessor<Datum>;\n        /**\n         * bound to a band scale\n         */\n        y?: ChannelAccessor<Datum>;\n        stack?: StackOptions;\n    }\n\n    const DEFAULTS = {\n        fill: 'currentColor',\n        ...getPlotDefaults().waffle,\n        ...getPlotDefaults().waffleX\n    };\n\n    let markProps: WaffleXMarkProps = $props();\n\n    const {\n        data = [{} as Datum],\n        class: className = null,\n        stack,\n        symbol = null,\n        unit,\n        ...options\n    }: WaffleXMarkProps = $derived({ ...DEFAULTS, ...markProps });\n\n    const plot = usePlot();\n\n    const args = $derived(\n        stackX(\n            intervalX(\n                // by default, sort by y channel (the ordinal labels)\n                sort(recordizeX({ data, ...options })),\n                { plot }\n            ),\n            stack\n        )\n    );\n</script>\n\n<Mark\n    type=\"waffleX\"\n    requiredScales={{ y: ['band'] }}\n    channels={['x1', 'x2', 'y', 'fill', 'stroke', 'opacity', 'fillOpacity', 'strokeOpacity']}\n    {...args}>\n    {#snippet children({ mark, usedScales, scaledData })}\n        {@const wafflePoly = wafflePolygon('x', args, plot.scales)}\n        {#each scaledData as d, i (i)}\n            {@const borderRadius = resolveProp(args.borderRadius, d?.datum, 0) as BorderRadius}\n            {@const hasBorderRadius =\n                (typeof borderRadius === 'number' && borderRadius > 0) ||\n                (typeof borderRadius === 'object' &&\n                    Math.max(\n                        borderRadius.topRight ?? 0,\n                        borderRadius.bottomRight ?? 0,\n                        borderRadius.topLeft ?? 0,\n                        borderRadius.bottomLeft ?? 0\n                    ) > 0)}\n            {@const [style, styleClass] = resolveStyles(plot, d, options, 'fill', usedScales)}\n            {@const { pattern, rect, path } = wafflePoly(d)}\n            <g class={['waffle-x', className]}>\n                <pattern {...pattern}>\n                    {#if symbol}\n                        {@render symbol({ ...rect, style, styleClass, datum: d.datum })}\n                    {:else if hasBorderRadius}\n                        <path\n                            d={roundedRect(rect.x, rect.y, rect.width, rect.height, borderRadius)}\n                            {style}\n                            class={styleClass} />\n                    {:else}\n                        <rect {style} class={styleClass} {...rect} />\n                    {/if}\n                </pattern>\n                <path {...path} />\n            </g>\n        {/each}\n    {/snippet}\n</Mark>\n", "<!--\n    @component\n    The waffleX mark lets you create waffle charts by filling a rectangular area with small squares representing data values.\n-->\n<script lang=\"ts\" generics=\"Datum extends DataRecord\">\n    import type {\n        DataRecord,\n        ChannelAccessor,\n        BaseMarkProps,\n        LinkableMarkProps,\n        BorderRadius\n    } from '../types';\n    import { wafflePolygon, type WaffleOptions } from './helpers/waffle';\n    import { getPlotDefaults } from '../hooks/plotDefaults';\n    import { intervalY, recordizeY, sort, stackY } from '../transforms';\n    import Mark from '../Mark.svelte';\n    import { resolveProp, resolveStyles } from '../helpers/resolve';\n    import { roundedRect } from '../helpers/roundedRect';\n    import GroupMultiple from './helpers/GroupMultiple.svelte';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    interface WaffleYMarkProps\n        extends BaseMarkProps<Datum>, LinkableMarkProps<Datum>, WaffleOptions<Datum> {\n        data?: Datum[];\n        /**\n         * bound to a babd scale\n         */\n        x?: ChannelAccessor<Datum>;\n        /**\n         * bound to a quantitative scale\n         */\n        y?: ChannelAccessor<Datum>;\n        /**\n         * bound to a quantitative scale\n         */\n        y1?: ChannelAccessor<Datum>;\n        /**\n         * bound to a quantitative scale\n         */\n        y2?: ChannelAccessor<Datum>;\n    }\n\n    const DEFAULTS = {\n        ...getPlotDefaults().waffle,\n        ...getPlotDefaults().waffleY\n    };\n\n    let markProps: WaffleYMarkProps = $props();\n\n    const {\n        data = [{} as Datum],\n        class: className = null,\n        stack,\n        symbol = null,\n        ...options\n    }: WaffleYMarkProps = $derived({ ...DEFAULTS, ...markProps });\n\n    const plot = usePlot();\n\n    const args = $derived(\n        stackY(\n            intervalY(\n                // by default, sort by y channel (the ordinal labels)\n                sort(recordizeY({ data, ...options })),\n                { plot }\n            ),\n            stack\n        )\n    );\n</script>\n\n<Mark\n    type=\"waffleY\"\n    requiredScales={{ x: ['band'] }}\n    channels={['y1', 'y2', 'x', 'fill', 'stroke', 'opacity', 'fillOpacity', 'strokeOpacity']}\n    {...args}>\n    {#snippet children({ mark, usedScales, scaledData })}\n        {@const wafflePoly = wafflePolygon('y', args, plot.scales)}\n        {#each scaledData as d, i (i)}\n            {@const [style, styleClass] = resolveStyles(\n                plot,\n                d,\n                args,\n                args.stroke && !args.fill ? 'stroke' : 'fill',\n                usedScales\n            )}\n            {@const borderRadius = resolveProp(args.borderRadius, d?.datum, 0) as BorderRadius}\n            {@const hasBorderRadius =\n                (typeof borderRadius === 'number' && borderRadius > 0) ||\n                (typeof borderRadius === 'object' &&\n                    Math.max(\n                        borderRadius.topRight ?? 0,\n                        borderRadius.bottomRight ?? 0,\n                        borderRadius.topLeft ?? 0,\n                        borderRadius.bottomLeft ?? 0\n                    ) > 0)}\n            {@const { pattern, rect, path } = wafflePoly(d)}\n            <g class={['waffle-y', className]}>\n                <pattern {...pattern}>\n                    {#if symbol}\n                        {@render symbol({ ...rect, style, styleClass, datum: d.datum })}\n                    {:else if hasBorderRadius}\n                        <path\n                            d={roundedRect(rect.x, rect.y, rect.width, rect.height, borderRadius)}\n                            {style}\n                            class={styleClass} />\n                    {:else}\n                        <rect {style} class={styleClass} {...rect} />\n                    {/if}\n                </pattern>\n                <path {...path} />\n            </g>\n        {/each}\n    {/snippet}\n</Mark>\n", "<!--\n    @component\n    For showing custom HTML tooltips positioned at x/y coordinates\n-->\n<script lang=\"ts\" generics=\"Datum = DataRow\">\n    interface HTMLTooltipMarkProps {\n        data: Datum[];\n        x?: ChannelAccessor<Datum>;\n        y?: ChannelAccessor<Datum>;\n        r?: ChannelAccessor<Datum>;\n        fx?: ChannelAccessor<Datum>;\n        fy?: ChannelAccessor<Datum>;\n        children: Snippet<[{ datum: Datum }]>;\n    }\n    import { type Snippet } from 'svelte';\n    import type { ChannelAccessor, DataRow } from '../types/index.js';\n    import { usePlot } from '../hooks/usePlot.svelte.js';\n\n    import { resolveChannel } from '../helpers/resolve.js';\n    import { quadtree } from 'd3-quadtree';\n    import { projectX, projectY } from '../helpers/scales.js';\n    import { groupFacetsAndZ } from '../helpers/group.js';\n\n    const plot = usePlot();\n\n    let { data, x, y, r, fx, fy, children }: HTMLTooltipMarkProps = $props();\n\n    let datum = $state(false);\n    let tooltipX = $state();\n    let tooltipY = $state();\n\n    let facetOffsetX = $state(0);\n    let facetOffsetY = $state(0);\n\n    function onPointerMove(evt: MouseEvent) {\n        const plotRect = plot.body.getBoundingClientRect();\n        let facetEl = evt.target as SVGElement;\n        while (facetEl && !facetEl.classList.contains('facet')) {\n            facetEl = facetEl.parentElement;\n        }\n        const facetIndex = +(facetEl?.dataset?.facet ?? 0);\n        const facetRect = (facetEl?.firstChild ?? plot.body).getBoundingClientRect();\n\n        facetOffsetX = facetRect.left - plotRect.left - plot.options.marginLeft;\n        facetOffsetY = facetRect.top - plotRect.top - plot.options.marginTop;\n\n        const relativeX = evt.clientX - facetRect.left + (plot.options.marginLeft ?? 0);\n        const relativeY = evt.clientY - facetRect.top + (plot.options.marginTop ?? 0);\n\n        const pt = trees[facetIndex].find(relativeX, relativeY, 25);\n        if (pt) {\n            tooltipX = resolveChannel('x', pt, { x, y, r });\n            tooltipY = resolveChannel('y', pt, { x, y, r });\n            datum = pt;\n        } else {\n            datum = false;\n        }\n    }\n\n    function onPointerLeave() {\n        datum = false;\n    }\n\n    $effect(() => {\n        plot.body?.addEventListener('pointerleave', onPointerLeave);\n        plot.body?.addEventListener('pointermove', onPointerMove);\n\n        return () => {\n            plot.body?.removeEventListener('mouseleave', onPointerLeave);\n            plot.body?.removeEventListener('pointermove', onPointerMove);\n        };\n    });\n\n    const groups = $derived.by(() => {\n        const groups: Datum[][] = [];\n        groupFacetsAndZ(data, { fx, fy }, (d) => groups.push(d));\n        return groups;\n    });\n\n    const trees = $derived(\n        groups.map((items) =>\n            quadtree()\n                .x((d) => projectX('x', plot.scales, resolveChannel('x', d, { x, y, r })))\n                .y((d) => projectY('y', plot.scales, resolveChannel('y', d, { x, y, r })))\n                .addAll(items)\n        )\n    );\n</script>\n\n<div\n    class={['svelteplot-tooltip', { hide: !datum }]}\n    style:left=\"{tooltipX ? facetOffsetX + projectX('x', plot.scales, tooltipX) : 0}px\"\n    style:top=\"{tooltipY ? facetOffsetY + projectY('y', plot.scales, tooltipY) : 0}px\">\n    {@render children({ datum })}\n</div>\n\n<style>\n    div.svelteplot-tooltip {\n        position: absolute;\n        pointer-events: none;\n\n        &.hide {\n            display: none;\n        }\n    }\n</style>\n", "<script lang=\"ts\">\n    import type { RawValue } from '../../index.js';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    let {\n        id,\n        stops\n    }: {\n        id: string;\n        stops: { x: RawValue; color: string }[];\n    } = $props();\n\n    const plot = usePlot();\n\n    const projectedStops = $derived(\n        stops\n            .map((d) => ({ ...d, px: plot.scales.x.fn(d.x) / plot.width }))\n            .sort((a, b) => a.px - b.px)\n    );\n</script>\n\n<linearGradient {id} gradientUnits=\"userSpaceOnUse\" x1={0} y2={0} y1={0} x2={plot.width}>\n    {#each projectedStops as { px, color }, i (i)}\n        <stop stop-color={color} offset={px} />\n    {/each}\n</linearGradient>\n", "<script lang=\"ts\">\n    import type { RawValue } from '../../index.js';\n    import { usePlot } from '../../hooks/usePlot.svelte.js';\n\n    let {\n        id,\n        stops\n    }: {\n        id: string;\n        stops: { y: RawValue; color: string }[];\n    } = $props();\n\n    const plot = usePlot();\n\n    const projectedStops = $derived(\n        stops\n            .map((d) => ({ ...d, py: plot.scales.y.fn(d.y) / plot.height }))\n            .sort((a, b) => a.py - b.py)\n    );\n</script>\n\n<linearGradient {id} gradientUnits=\"userSpaceOnUse\" x1={0} x2={0} y1={0} y2={plot.height}>\n    {#each projectedStops as { py, color }, i (i)}\n        <stop stop-color={color} offset={py} />\n    {/each}\n</linearGradient>\n", "export function formatMonth(locale, format = 'long') {\n    return (month) => new Intl.DateTimeFormat(locale, { month: format }).format(new Date(2000, month, 1));\n}\n"],
  "mappings": "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",
  "names": ["a", "y", "c", "x", "copy", "a", "interval", "x", "s", "IntervalTree", "root", "a", "a", "x", "a", "x", "index", "blur", "S", "y", "x", "sum", "s", "count", "index", "count", "mean", "sum", "index", "min", "max", "index", "x", "y", "key", "key", "x", "map", "reduce", "values", "groups", "keyof", "index", "key", "group", "a", "x", "x", "count", "power", "inc", "reverse", "ticks", "count", "threshold", "x", "x0", "x1", "max", "step", "a", "bin", "max", "index", "min", "index", "array", "k", "s", "min", "max", "c", "min", "max", "c", "count", "sum", "index", "array", "index", "count", "range", "k", "c", "random", "shuffle", "array", "sum", "index", "range", "index", "range", "round", "reverse", "copy", "key", "format", "a", "k", "s", "min", "max", "y", "x", "a", "k", "y", "x", "c", "k", "k", "s", "a", "cosh", "sinh", "t1", "t2", "t3", "x", "a", "y", "y", "color", "rgb", "a", "c", "x", "a", "x", "c", "a", "a", "a", "c", "k", "zero", "a", "s", "i", "a", "c", "a", "degrees", "identity", "a", "c", "identity", "pop", "s", "a", "x", "S", "s", "hsl", "hue", "s", "lab", "a", "hcl", "hue", "c", "cubehelix", "hue", "y", "s", "i", "x", "number", "x", "identity", "x", "a", "range", "i", "clamp", "piecewise", "output", "y", "number", "x", "x", "s", "x", "x", "x", "x", "map", "locale", "group", "fill", "sign", "zero", "trim", "format", "c", "formatPrefix", "k", "value", "max", "count", "count", "linear", "nice", "interval", "x0", "x1", "x", "k", "count", "nice", "c", "x", "x", "identity", "quantile", "range", "x", "y", "x0", "x1", "range", "x", "y", "range", "x", "y", "t0", "t1", "count", "interval", "date", "range", "date", "k", "date", "date", "date", "date", "date", "date", "date", "k", "tickIntervals", "ticks", "count", "reverse", "interval", "step", "date", "y", "locale", "formatMonth", "formats", "c", "pad", "format", "fill", "sign", "s", "locale", "defaultLocale", "date", "date", "number", "ticks", "second", "format", "invert", "formatMonth", "formatYear", "tickFormat", "date", "y", "interval", "count", "nice", "transformer", "x0", "x1", "t0", "t1", "identity", "clamp", "x", "range", "copy", "identity", "x", "transformer", "x0", "x1", "s", "t0", "t1", "t2", "identity", "clamp", "x", "range", "copy", "constant_default", "x", "constant", "min", "sqrt", "pi", "tau", "epsilon", "append", "k", "x", "y", "x1", "y1", "x0", "y0", "slice", "array_default", "x", "x", "y", "x", "y", "constant_default", "output", "path", "array_default", "x0", "y0", "y1", "x1", "constant_default", "output", "path", "k", "array_default", "a", "radial", "x", "y", "sqrt", "min", "sqrt", "sqrt", "sqrt", "y", "x", "sqrt", "sqrt", "min", "sqrt", "x", "sqrt", "sqrt", "x", "y", "a", "c", "s", "sqrt3", "sqrt", "y", "sqrt3", "sqrt", "s", "sqrt", "x0", "y0", "x1", "y1", "sqrt", "min", "Symbol", "path", "constant_default", "point", "x", "y", "basis_default", "x", "y", "point", "basisClosed_default", "x", "y", "x0", "y0", "point", "x", "y", "x0", "y0", "beta", "point", "x", "y", "custom", "tension", "x", "y", "point", "custom", "tension", "x", "y", "point", "custom", "tension", "point", "x", "y", "x1", "y1", "x2", "y2", "a", "custom", "alpha", "x", "y", "point", "custom", "alpha", "x", "y", "point", "custom", "alpha", "x", "y", "x", "point", "t0", "t1", "x0", "y0", "x1", "y1", "y", "x", "y", "a", "x", "y", "x1", "none_default", "key", "constant_default", "none_default", "array_default", "y", "y", "y", "k", "none_default", "a", "sum", "none_default", "a", "s", "sum", "sqrt3", "constant", "x", "key", "identity", "key", "x", "x1", "x2", "index", "y", "y1", "y2", "rest", "key", "styleProps", "state", "$$anchor", "isObject", "key", "epsilon", "epsilon2", "pi", "halfPi", "tau", "degrees", "radians", "abs", "atan2", "cos", "log", "pow", "sin", "sign", "x", "sqrt", "acos", "pi", "asin", "halfPi", "noop", "cartesian", "atan2", "asin", "spherical", "cos", "sin", "a", "k", "sqrt", "noop", "radians", "cos", "sin", "x", "y", "atan2", "sqrt", "asin", "epsilon2", "epsilon", "degrees", "a", "x", "y", "abs", "pi", "tau", "cos", "sin", "x", "y", "k", "atan2", "asin", "radians", "degrees", "t0", "t1", "cos", "sin", "tau", "point", "acos", "epsilon", "x", "y", "noop", "a", "abs", "epsilon", "point", "points", "compareIntersection", "n", "x", "epsilon", "link", "array", "a", "point", "abs", "pi", "sign", "tau", "sin", "cos", "angle", "sum", "halfPi", "epsilon", "k", "atan2", "intersection", "asin", "epsilon2", "point", "a", "halfPi", "epsilon", "pi", "halfPi", "abs", "epsilon", "sin", "cos", "circle_default", "cos", "radians", "abs", "epsilon", "point2", "c", "pi", "a", "c2", "A", "B", "t2", "sqrt", "delta", "code", "line_default", "a", "x0", "y0", "x1", "y1", "t0", "t1", "x0", "y0", "x1", "y1", "x", "y", "a", "abs", "epsilon", "compareIntersection", "point", "ring", "visible", "line_default", "y0", "y1", "y", "epsilon", "x", "x0", "x1", "X1", "X0", "Y1", "Y0", "X", "Y", "graticule", "abs", "identity_default", "x", "areaSum", "areaRingSum", "x0", "y0", "areaStream", "noop", "abs", "x", "y", "area_default", "x0", "y0", "noop", "x", "y", "X0", "Y0", "Z0", "X1", "Y1", "Z1", "X2", "Y2", "Z2", "x00", "y00", "x0", "y0", "centroidStream", "centroidPoint", "centroidLineStart", "centroidLineEnd", "centroidRingStart", "centroidRingEnd", "x", "y", "sqrt", "centroid_default", "x", "y", "tau", "noop", "x00", "y00", "x0", "y0", "noop", "x", "y", "sqrt", "append", "appendRound", "x", "y", "s", "k", "projection", "path", "area_default", "centroid_default", "identity_default", "transformer", "s", "key", "x", "y", "projection", "extent", "k", "x", "y", "cos", "radians", "transformer", "x", "y", "x0", "y0", "x1", "y1", "a", "c", "sqrt", "asin", "abs", "epsilon", "atan2", "lambda00", "x00", "y00", "point", "transformer", "x", "y", "radians", "k", "cos", "sin", "a", "x0", "y0", "x1", "y1", "identity_default", "projection", "point", "invert", "degrees", "reset", "circle_default", "sqrt", "extent", "pi", "radians", "degrees", "cos", "sin", "x", "y", "asin", "y0", "y1", "sin", "abs", "epsilon", "c", "sqrt", "x", "y", "cos", "atan2", "sign", "pi", "asin", "x", "y", "point", "k", "reset", "epsilon", "extent", "x", "y", "cos", "k", "sin", "angle", "sqrt", "c", "atan2", "asin", "sqrt", "asin", "c", "acos", "sin", "log", "halfPi", "x", "y", "tau", "x0", "y0", "x1", "y1", "k", "pi", "y", "halfPi", "y0", "y1", "cos", "sin", "log", "pow", "x", "epsilon", "sign", "sqrt", "atan2", "abs", "pi", "y0", "y1", "cos", "sin", "abs", "epsilon", "x", "y", "atan2", "sign", "pi", "sqrt", "sqrt", "asin", "sin", "cos", "x", "y", "abs", "epsilon2", "x", "y", "cos", "k", "sin", "x", "y", "abs", "epsilon", "x", "y", "cos", "sin", "asin", "epsilon", "x", "y", "cos", "k", "sin", "log", "halfPi", "x", "y", "identity", "constant", "x0", "y0", "x1", "y1", "k", "x", "y", "s", "durationSecond", "durationMinute", "durationHour", "durationDay", "durationWeek", "durationMonth", "durationYear", "interval", "interval", "interval", "x", "ticks", "count", "min", "max", "randomInt", "min", "max", "x", "y", "sum", "k", "c", "x", "X", "Y", "x", "B", "y", "sign", "s", "k", "k", "a", "x", "a", "a", "B", "s", "k", "state", "sort", "a", "rest", "random", "shuffle", "reverse", "x", "y", "color", "projection", "fn", "range", "interval", "number", "min", "max", "x", "y", "plotWidth", "explicitScales", "explicitDomains", "hasProjection", "isOneDimensional", "root_2", "set", "noop", "placeholderSymbol", "key", "a", "x", "y", "key", "index", "a", "noop", "reduce", "groupBy", "groups", "y", "x", "ky", "IntervalTree", "data", "y0", "k", "a", "channels", "index", "dodge", "x", "y", "data", "options", "text", "root_1", "$$anchor", "root_2", "c", "a", "medianIndex", "text", "root", "$$anchor", "root_2", "t", "locale", "format", "date", "x", "toNumber", "interval", "tickFormat", "text", "ticks", "range", "root_2", "$0", "text", "root", "$$anchor", "root_2", "root_3", "root_4", "t", "interval", "tickFormat", "text", "ticks", "range", "root_2", "$0", "x", "y", "x", "y", "range", "extent", "index", "key", "path", "root_2", "$0", "root_3", "fill", "$$anchor", "tickFormat", "root_1", "root_2", "$$anchor", "root_4", "path", "root_5", "Symbol", "root_6", "range", "ticks", "Plot_default", "$0", "root_13", "ticks", "$$anchor", "root_1", "x", "y1", "root_3", "ticks", "$$anchor", "root_1", "y", "x1", "root_3", "root_1", "$$anchor", "color", "root_2", "path", "Symbol", "root_1", "root_2", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "cubehelix_default", "c", "c", "x", "range", "scheme", "scheme11", "scheme9", "cubehelix_default", "s", "cubehelix_default", "scheme", "s", "key", "count", "ticksList", "a", "ticks", "linear", "quantile", "range", "count", "ticks", "scheme", "c", "lab", "identity", "constant", "x", "y", "pi", "tau", "projection", "conicProjection", "createProjection", "kx", "ky", "$$anchor", "root_2", "root_3", "root_8", "root_10", "scales", "failed", "reset", "root_13", "root_14", "root_1", "basis_default", "basisClosed_default", "c", "element", "root", "$$anchor", "root_1", "color", "x0", "x1", "y0", "y1", "group", "fill", "data", "groups", "a", "$$anchor", "path", "root_7", "root_8", "filter", "none_default", "groupBy", "groups", "k", "key", "series", "data", "s", "a", "x", "y", "rest", "sort", "filter", "x1", "y1", "sign", "x", "y", "a", "k", "constant", "sort", "$$anchor", "root_4", "path", "root_5", "sort", "$$anchor", "sort", "$$anchor", "k", "root", "k", "root", "x", "y", "sort", "fill", "X", "Y", "compareValues", "a", "data", "rest", "$$anchor", "$$anchor", "x1", "y1", "x1", "y1", "c", "x", "extent", "action", "sort", "$$anchor", "root_1", "sort", "$$anchor", "$$anchor", "root_3", "root_4", "x", "x1", "x2", "y", "y1", "y2", "Symbol", "fill", "Symbol", "sort", "$$anchor", "root_1", "path", "root_6", "prop", "k", "interval", "bin", "group", "binX", "binY", "groupBy", "groupX", "groupY", "y1", "k", "K", "sum", "mean", "deviation", "CHANNELS", "x", "exp", "interval", "trim", "k", "a", "min", "max", "values", "sum", "area", "cdf", "map", "sort", "x", "x1", "x2", "identity", "y", "y1", "y2", "S", "M", "sum", "basis", "normalize", "S", "s", "sort", "group", "groups", "prop", "items", "interval", "interval", "key", "random", "a", "sign", "unit", "interval", "key", "reduce", "k", "interval", "groupBy", "groups", "X", "Y", "index", "window", "i", "fill", "path", "sort", "$$anchor", "root_1", "root_6", "root_7", "graticule", "sort", "$$anchor", "index", "root_2", "root_3", "root", "root_1", "path", "root_2", "points", "root", "key", "path", "root_5", "group", "text", "sort", "data", "groupByKey", "group", "groups", "projection", "path", "x", "y", "$$anchor", "root_4", "root_8", "rest", "rest", "text", "sort", "x1", "y1", "projection", "path", "$$anchor", "root_1", "x", "y", "x0", "y0", "x1", "y1", "x", "y", "x0", "y0", "x1", "y1", "extent_default", "x0", "y0", "x1", "y1", "x", "y", "x0", "y0", "x1", "y1", "x2", "y2", "x", "y", "x0", "y0", "x1", "y1", "child", "x0", "y0", "x1", "y1", "child", "x0", "y0", "x1", "y1", "x", "y", "x0", "y0", "x1", "y1", "copy", "child", "extent_default", "x", "y", "points", "groups", "root_1", "x", "y", "sort", "d", "a", "X", "Y", "iterations", "x", "y", "linear", "x", "y", "X", "Y", "X2", "points", "x", "a", "x", "y", "quadraticRegression", "X2", "x2", "Y", "a", "c", "x", "y", "polynomialRegression", "linear", "k", "Y", "c", "a", "exponential", "y", "x", "Y", "a", "x", "y", "X", "Y", "X2", "x", "y", "powerRegression", "X", "Y", "X2", "a", "median", "a", "epsilon", "x", "y", "loessRegression", "interval", "X", "Y", "X2", "k", "a", "median", "c2", "c3", "e2", "e5", "sin", "cos", "sqrt", "pow", "exp", "PI", "a", "c", "x", "y", "mean", "Y", "linear", "exponential", "x", "y", "root_1", "groupBy", "groups", "$$anchor", "group", "groupBy", "groups", "$$anchor", "group", "$$anchor", "root_3", "$$anchor", "root_3", "r", "shape", "sort", "$$anchor", "root_1", "text", "root_2", "root_5", "x", "y", "text", "root_1", "root_2", "root_3", "root_4", "root_5", "sort", "$$anchor", "$$anchor", "root_1", "x", "y1", "root_4", "$$anchor", "root_1", "y", "x1", "root_4", "len", "i", "x", "y", "x1", "y1", "point", "points", "t0", "t1", "last", "round", "x0", "y0", "a", "fill", "sort", "data", "groupByKey", "group", "groups", "$$anchor", "root_4", "path", "root_5", "y", "x", "y1", "y2", "unit", "round", "y0", "points", "k", "c", "unit", "sort", "$$anchor", "path", "root_2", "root_5", "root_6", "sort", "$$anchor", "path", "root_2", "root_5", "root_6", "groups", "root", "a", "root", "$$anchor", "color", "root_1", "a", "root", "$$anchor", "color", "root_1", "locale", "format"]
}
