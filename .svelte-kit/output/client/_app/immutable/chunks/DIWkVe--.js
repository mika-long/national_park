import{a9 as c,v as b,aa as d,ab as l,ac as g,K as p}from"./DbVLL1rh.js";function h(n,t,s){if(n==null)return t(void 0),c;const u=b(()=>n.subscribe(t,s));return u.unsubscribe?()=>u.unsubscribe():u}const i=[];function y(n,t=c){let s=null;const u=new Set;function r(o){if(d(n,o)&&(n=o,s)){const f=!i.length;for(const e of u)e[1](),i.push(e,n);if(f){for(let e=0;e<i.length;e+=2)i[e][0](i[e+1]);i.length=0}}}function a(o){r(o(n))}function _(o,f=c){const e=[o,f];return u.add(e),u.size===1&&(s=t(r,a)||c),o(n),()=>{u.delete(e),u.size===0&&s&&(s(),s=null)}}return{set:r,update:a,subscribe:_}}function w(n){let t;return h(n,s=>t=s)(),t}function m(n){p===null&&l(),g(()=>{const t=b(n);if(typeof t=="function")return t})}function x(n){p===null&&l(),m(()=>()=>b(n))}export{x as a,w as g,m as o,h as s,y as w};
